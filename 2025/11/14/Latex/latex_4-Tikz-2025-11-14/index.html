

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="yylustb">
  <meta name="keywords" content="">
  
    <meta name="description" content="LaTex 中为了展示一个图片，需要使用 \includegraphics 命令，具体做法如下： - 编写 matlab&#x2F;python 代码绘制曲线 - 保存图片为 pdf 格式，按照LaTex文档要求放置到指定路径 - 在 LaTex 文档中使用 \includegraphics 命令引入图片 这种方式可以在 LaTex 文档中展示图片，但是需要注意的是，图片的大小和位置需要手动调整，">
<meta property="og:type" content="article">
<meta property="og:title" content="LaTex 系列 - 4. TikZ 绘图">
<meta property="og:url" content="http://yylustb.github.io/2025/11/14/Latex/latex_4-Tikz-2025-11-14/index.html">
<meta property="og:site_name" content="远大前程">
<meta property="og:description" content="LaTex 中为了展示一个图片，需要使用 \includegraphics 命令，具体做法如下： - 编写 matlab&#x2F;python 代码绘制曲线 - 保存图片为 pdf 格式，按照LaTex文档要求放置到指定路径 - 在 LaTex 文档中使用 \includegraphics 命令引入图片 这种方式可以在 LaTex 文档中展示图片，但是需要注意的是，图片的大小和位置需要手动调整，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yylustb.github.io/img/index/latex.png">
<meta property="article:published_time" content="2025-11-14T08:30:00.000Z">
<meta property="article:modified_time" content="2025-11-16T18:08:21.524Z">
<meta property="article:author" content="yylustb">
<meta property="article:tag" content="LaTex">
<meta property="article:tag" content="TikZ">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://yylustb.github.io/img/index/latex.png">
  
  
  
  <title>LaTex 系列 - 4. TikZ 绘图 - 远大前程</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"yylustb.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>远大前程</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg-sky.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="LaTex 系列 - 4. TikZ 绘图"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-11-14 08:30" pubdate>
          2025年11月14日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.6k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          55 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">LaTex 系列 - 4. TikZ 绘图</h1>
            
            
              <div class="markdown-body">
                
                <p>LaTex 中为了展示一个图片，需要使用 <code>\includegraphics</code>
命令，具体做法如下： - 编写 matlab/python 代码绘制曲线 - 保存图片为 pdf
格式，按照LaTex文档要求放置到指定路径 - 在 LaTex 文档中使用
<code>\includegraphics</code> 命令引入图片</p>
<p>这种方式可以在 LaTex
文档中展示图片，但是需要注意的是，图片的大小和位置需要手动调整，否则会影响文档的布局。</p>
<p>这里介绍一个便捷的工具 – TikZ</p>
<p>下面通过几个例子展示如何使用 TikZ 绘图。</p>
<h2 id="例-1">例 1</h2>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\begin</span>&#123;tikzpicture&#125;[&gt;=stealth, scale=1]<br>  <span class="hljs-comment">% 开始 tikzpicture 环境。</span><br>  <span class="hljs-comment">% 选项：</span><br>  <span class="hljs-comment">%   &gt;=stealth  表示之后所有的箭头 (-&gt;) 默认使用 “stealth” 箭头样式；</span><br>  <span class="hljs-comment">%   scale=1    图形整体缩放比例为 1（即不缩放）。</span><br><br>  <span class="hljs-comment">% 坐标轴</span><br>  <span class="hljs-keyword">\draw</span>[-&gt;] (0,0) -- (5,0) node[below] &#123;<span class="hljs-built_in">$</span>t<span class="hljs-built_in">$</span>&#125;;<br>  <span class="hljs-comment">% 画横轴：</span><br>  <span class="hljs-comment">%   从坐标 (0,0) 画到 (5,0)，并在终点加一个箭头（因为使用了 -&gt;）。</span><br>  <span class="hljs-comment">%   在终点 (5,0) 上附着一个 node，位置在 below（线段下方），内容为 t，</span><br>  <span class="hljs-comment">%   作为横轴标签。</span><br><br>  <span class="hljs-keyword">\draw</span>[-&gt;] (0,-2.2) -- (0,2.8) node[left] &#123;<span class="hljs-built_in">$</span>x(t)<span class="hljs-built_in">$</span>&#125;;<br>  <span class="hljs-comment">% 画纵轴：</span><br>  <span class="hljs-comment">%   从 (0,-2.2) 画到 (0,2.8)，在顶部加箭头。</span><br>  <span class="hljs-comment">%   在终点处加一个 node，位置在 left（线段左侧），内容为 x(t)，</span><br>  <span class="hljs-comment">%   作为纵轴标签。</span><br><br>  <span class="hljs-keyword">\draw</span>[dashed,gray] (0,0) -- (5,0);<br>  <span class="hljs-comment">% 画一条灰色虚线：</span><br>  <span class="hljs-comment">%   从 (0,0) 到 (5,0)，与横轴重合，用来表示 x(t)=0 这条“零线”。</span><br><br>  <span class="hljs-comment">% 用公式 x(t) = 2.4 e^&#123;-t&#125; 画一条轨迹</span><br>  <span class="hljs-keyword">\draw</span>[thick,blue, domain=0:5, samples=100]<br>    plot (<span class="hljs-keyword">\x</span>,&#123;2.4*exp(-<span class="hljs-keyword">\x</span>)&#125;);<br>  <span class="hljs-comment">% 画第一条曲线：</span><br>  <span class="hljs-comment">%   线条样式：</span><br>  <span class="hljs-comment">%     thick  加粗；</span><br>  <span class="hljs-comment">%     blue   蓝色；</span><br>  <span class="hljs-comment">%     domain=0:5   自变量 \x 的取值范围是 0 到 5；</span><br>  <span class="hljs-comment">%     samples=100  在区间 [0,5] 上取 100 个采样点来近似这条曲线。</span><br>  <span class="hljs-comment">%   plot (\x,&#123;2.4*exp(-\x)&#125;)：</span><br>  <span class="hljs-comment">%     TikZ 自动把 \x 当作横坐标变量；</span><br>  <span class="hljs-comment">%     纵坐标是 &#123;2.4*exp(-\x)&#125;，即 y = 2.4 * e^&#123;-x&#125;；</span><br>  <span class="hljs-comment">%     所以这条曲线表示解轨迹 x(t) = 2.4 e^&#123;-t&#125;。</span><br><br>  <span class="hljs-comment">% 再画一条 x(t) = -1.6 e^&#123;-t&#125; 的轨迹</span><br>  <span class="hljs-keyword">\draw</span>[thick,blue, domain=0:5, samples=100]<br>    plot (<span class="hljs-keyword">\x</span>,&#123;-1.6*exp(-<span class="hljs-keyword">\x</span>)&#125;);<br>  <span class="hljs-comment">% 第二条曲线：</span><br>  <span class="hljs-comment">%   样式同上（加粗、蓝色、[0,5] 区间、100 个采样点）。</span><br>  <span class="hljs-comment">%   纵坐标公式为 -1.6*exp(-\x)，即 y = -1.6 e^&#123;-x&#125;，</span><br>  <span class="hljs-comment">%   表示从负初值 -1.6 出发，同样指数衰减到 0 的解轨迹。</span><br><br><span class="hljs-keyword">\end</span>&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure>
<p>运行效果 <img src="f1.png" srcset="/img/loading.gif" lazyload alt="regular" /></p>
<h2 id="例-2">例 2</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs python">\begin&#123;tikzpicture&#125;[&gt;=stealth, scale=<span class="hljs-number">1</span>]<br>  % 开始 tikzpicture 环境，用来绘图。<br>  % 选项：<br>  %   &gt;=stealth ：把之后所有 <span class="hljs-string">&quot;-&gt;&quot;</span> 箭头的箭头样式设为 stealth；<br>  %   scale=<span class="hljs-number">1</span>   ：整体缩放因子为 <span class="hljs-number">1</span>（不缩放，如果改成 <span class="hljs-number">1.2</span> 就会整体放大 <span class="hljs-number">1.2</span> 倍）。<br><br>  % 坐标轴<br>  \draw[-&gt;] (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) -- (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>) node[below] &#123;$t$&#125;;<br>  % 画横轴：<br>  %   从点 (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) 到 (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>) 画一条直线，末端带箭头（因为使用了 <span class="hljs-string">&quot;-&gt;&quot;</span>）。<br>  %   在终点 (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>) 上附着一个 node，位置在 below（线段下方），内容为 t，<br>  %   作为横轴的标签。<br><br>  \draw[-&gt;] (<span class="hljs-number">0</span>,-<span class="hljs-number">2.2</span>) -- (<span class="hljs-number">0</span>,<span class="hljs-number">2.8</span>) node[left] &#123;$x(t)$&#125;;<br>  % 画纵轴：<br>  %   从 (<span class="hljs-number">0</span>,-<span class="hljs-number">2.2</span>) 到 (<span class="hljs-number">0</span>,<span class="hljs-number">2.8</span>) 画一条直线，末端带箭头。<br>  %   在终点左侧放置一个 node，内容为 x(t)，作为纵轴标签。<br><br>  \draw[dashed,gray] (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) -- (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>);<br>  % 画一条灰色虚线：<br>  %   从 (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) 到 (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>)，与横轴重合；<br>  %   样式为 dashed（虚线）、gray（灰色），表示 x(t)=<span class="hljs-number">0</span> 的零线。<br><br>  % 在 t=<span class="hljs-number">0</span> 左侧标注不同的初值<br>  \draw (<span class="hljs-number">0</span>,<span class="hljs-number">2.4</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">1</span>)&#125;$&#125;;<br>  % 在坐标 (<span class="hljs-number">0</span>,<span class="hljs-number">2.4</span>) 放一个 node，位置在该点左侧（left），<br>  % 文本为 x_0^&#123;(<span class="hljs-number">1</span>)&#125;，表示第一条轨迹的初始值。<br><br>  \draw (<span class="hljs-number">0</span>,<span class="hljs-number">1.5</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">2</span>)&#125;$&#125;;<br>  % 在 (<span class="hljs-number">0</span>,<span class="hljs-number">1.5</span>) 左侧标注 x_0^&#123;(<span class="hljs-number">2</span>)&#125;。<br><br>  \draw (<span class="hljs-number">0</span>,<span class="hljs-number">0.7</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">3</span>)&#125;$&#125;;<br>  % 在 (<span class="hljs-number">0</span>,<span class="hljs-number">0.7</span>) 左侧标注 x_0^&#123;(<span class="hljs-number">3</span>)&#125;。<br><br>  \draw (<span class="hljs-number">0</span>,-<span class="hljs-number">0.8</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">4</span>)&#125;$&#125;;<br>  % 在 (<span class="hljs-number">0</span>,-<span class="hljs-number">0.8</span>) 左侧标注 x_0^&#123;(<span class="hljs-number">4</span>)&#125;。<br><br>  \draw (<span class="hljs-number">0</span>,-<span class="hljs-number">1.6</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">5</span>)&#125;$&#125;;<br>  % 在 (<span class="hljs-number">0</span>,-<span class="hljs-number">1.6</span>) 左侧标注 x_0^&#123;(<span class="hljs-number">5</span>)&#125;。<br>  % 这五个标记一起表示：在 t=<span class="hljs-number">0</span> 时，系统可能的五个不同初始状态 x_0^&#123;(i)&#125;。<br><br>  % 用 x(t) = x0 * e^&#123;-t&#125; 画 <span class="hljs-number">5</span> 条轨迹<br>  \foreach \xzero <span class="hljs-keyword">in</span> &#123;<span class="hljs-number">2.4</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.7</span>, -<span class="hljs-number">0.8</span>, -<span class="hljs-number">1.6</span>&#125; &#123;<br>    % \foreach 是 TikZ 的循环语句：<br>    %   循环变量 \xzero 依次取 <span class="hljs-number">2.4</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.7</span>, -<span class="hljs-number">0.8</span>, -<span class="hljs-number">1.6</span> 这五个值。<br>    %   对每个 \xzero，都执行大括号中的 \draw 命令，画出一条对应初值的轨迹。<br><br>    \draw[thick,blue, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>, samples=<span class="hljs-number">100</span>]<br>      plot (\x,&#123;\xzero*exp(-\x)&#125;);<br>    % 对当前的初值 x0=\xzero 画出解轨迹 x(t)=x0*e^&#123;-t&#125;：<br>    %   thick     ：线条加粗；<br>    %   blue      ：线条颜色为蓝色；<br>    %   domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>：自变量 \x 的范围是 [<span class="hljs-number">0</span>,<span class="hljs-number">5</span>]；<br>    %   samples=<span class="hljs-number">100</span>：在这个区间内取 <span class="hljs-number">100</span> 个采样点来近似这条曲线。<br>    %   plot (\x,&#123;...&#125;)：<br>    %     横坐标为 \x，纵坐标为 \xzero*exp(-\x)，<br>    %     即从不同 x0 出发的指数衰减轨迹。<br>  &#125;<br><br>  % \node at (<span class="hljs-number">2.6</span>,<span class="hljs-number">2.4</span>) &#123;\small 好的 $F$&#125;;<br>  % \node at (<span class="hljs-number">2.5</span>,-<span class="hljs-number">2</span>) &#123;任意 $x_0$ 都收敛到 <span class="hljs-number">0</span>&#125;;<br>  % 上面两行被注释掉了（行首有 %，LaTeX 不会执行）：<br>  %   如果取消注释，它们会在指定坐标位置放置说明文字，<br>  %   用来说明这是一个“好的 F（反馈/映射）”，任意初值都收敛到 <span class="hljs-number">0</span>。<br><br>\end&#123;tikzpicture&#125;<br>% 结束 tikzpicture 环境，整幅图形绘制完成。<br><br></code></pre></td></tr></table></figure>
<p>运行效果 <img src="f2.png" srcset="/img/loading.gif" lazyload alt="regular" /></p>
<h2 id="例-3">例 3</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python">\begin&#123;tikzpicture&#125;<br>  % 开始一个 TikZ 图环境，pgfplots 的 axis 环境也放在 tikzpicture 里。<br><br>  \begin&#123;axis&#125;[<br>    % 开始 pgfplots 的坐标轴环境，用来自动生成坐标系和函数图像。<br>    axis lines=middle,<br>    % 让坐标轴穿过原点，并且只画两条“中间”的坐标轴（而不是四周的边框）。<br>    % 即 x 轴和 y 轴都从原点向两边延伸，看起来像数学课本上的坐标系。<br>    xlabel=&#123;$t$&#125;,<br>    % 设置横轴的标签（label），显示为数学模式的 t。<br>    ylabel=&#123;$x(t)$&#125;,<br>    % 设置纵轴的标签，显示为数学模式的 x(t)。<br>    xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">6</span>,<br>    % 设置 x 轴显示范围：从 <span class="hljs-number">0</span> 到 <span class="hljs-number">5</span>。<br>    % 图中不会画出超过这个范围之外的内容。<br>    ymin=-<span class="hljs-number">2.2</span>, ymax=<span class="hljs-number">2.8</span>,<br>    % 设置 y 轴显示范围：从 -<span class="hljs-number">2.2</span> 到 <span class="hljs-number">2.8</span>。<br>    % 方便把所有轨迹都放在同一视窗里。<br>  ]<br>    % 以上是 axis 环境的可选参数列表，方括号结束到这里。<br><br>    % x(t) = <span class="hljs-number">2.4</span> e^&#123;-t&#125;<br>    \addplot[blue, thick, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>] &#123;<span class="hljs-number">2.4</span>*exp(-x)&#125;;<br>    % 使用 pgfplots 画第一条函数曲线：<br>    %   关键字 \addplot 表示“添加一条曲线”。<br>    %   [blue, thick, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>] 是画图选项：<br>    %       blue  曲线为蓝色；<br>    %       thick 线条加粗；<br>    %       domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span> 自变量 x 的取值范围是 <span class="hljs-number">0</span> 到 <span class="hljs-number">5</span>。<br>    %   花括号里的 &#123;<span class="hljs-number">2.4</span>*exp(-x)&#125; 是函数表达式：<br>    %       变量名是 x（pgfplots 约定俗成）；<br>    %       表示 y = <span class="hljs-number">2.4</span> * e^&#123;-x&#125;，即 x(t)=<span class="hljs-number">2.4</span> e^&#123;-t&#125; 这条指数衰减曲线。<br><br>    % x(t) = -<span class="hljs-number">1.6</span> e^&#123;-t&#125;<br>    \addplot[blue, thick, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>] &#123;-<span class="hljs-number">1.6</span>*exp(-x)&#125;;<br>    % 第二条函数曲线：<br>    %   同样是蓝色、加粗、定义域 <span class="hljs-number">0</span>~<span class="hljs-number">5</span>；<br>    %   函数为 y = -<span class="hljs-number">1.6</span> * e^&#123;-x&#125;，即从负初始值 -<span class="hljs-number">1.6</span> 出发的衰减轨迹。<br>    %   两条曲线一起表示不同初始值的解，都随 t 增大而趋向 <span class="hljs-number">0</span>。<br><br>  \end&#123;axis&#125;<br>  % 结束坐标轴环境，坐标系和里面画的函数到此为止。<br><br>\end&#123;tikzpicture&#125;<br>% 结束 tikzpicture 环境，这个图形块就画完了。<br></code></pre></td></tr></table></figure>
<p>运行效果 <img src="f3.png" srcset="/img/loading.gif" lazyload alt="regular" /></p>
<h2 id="例-4">例 4</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs python">\usetikzlibrary&#123;arrows.meta,positioning,shapes.geometric&#125;<br><br>\begin&#123;tikzpicture&#125;[<br>    % 开始TikZ图形环境，方括号内是全局样式设置    <br>    &gt;=Stealth,<br>    % 设置默认箭头类型为Stealth（三角形尖头箭头）    <br>    box/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;box&quot;</span>的样式，用于两个蓝色方框        <br>        rectangle,<br>        % 形状为矩形        <br>        rounded corners=15pt,<br>        % 圆角半径为15pt，使矩形四角变圆        <br>        minimum width=5cm,<br>        % 最小宽度<span class="hljs-number">5</span>厘米        <br>        minimum height=<span class="hljs-number">1.8</span>cm,<br>        % 最小高度<span class="hljs-number">1.8</span>厘米        <br>        fill=blue!<span class="hljs-number">60</span>,<br>        % 填充颜色为<span class="hljs-number">60</span>%蓝色（蓝色与白色混合<span class="hljs-number">60</span>:<span class="hljs-number">40</span>）        <br>        draw=blue!<span class="hljs-number">70</span>,<br>        % 边框颜色为<span class="hljs-number">70</span>%蓝色        <br>        line width=2pt,<br>        % 边框线宽2pt        <br>        text=white,<br>        % 文字颜色为白色        <br>        font=\Large\bfseries,<br>        % 字体为Large大小且加粗        <br>        align=center<br>        % 文字居中对齐<br>    &#125;,    <br>    title/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;title&quot;</span>的样式，用于红色标题框        <br>        rectangle,<br>        % 形状为矩形        <br>        minimum width=7cm,<br>        % 最小宽度<span class="hljs-number">7</span>厘米        <br>        minimum height=<span class="hljs-number">1.2</span>cm,<br>        % 最小高度<span class="hljs-number">1.2</span>厘米        <br>        fill=red!<span class="hljs-number">80</span>!black,<br>        % 填充颜色：<span class="hljs-number">80</span>%红色+<span class="hljs-number">20</span>%黑色，产生深红色        <br>        text=white,<br>        % 文字颜色为白色        <br>        font=\huge\bfseries<br>        % 字体为huge大小且加粗<br>    &#125;,    <br>    arrow/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;arrow&quot;</span>的样式，用于弧形箭头        <br>        line width=4pt,<br>        % 箭头线宽4pt        <br>        blue!<span class="hljs-number">70</span>,<br>        % 箭头颜色为<span class="hljs-number">70</span>%蓝色        <br>        -&gt;,<br>        % 线条末端添加箭头        <br>        &gt;=Stealth<br>        % 箭头样式为Stealth型<br>    &#125;<br>]<br>% 样式定义结束<br><br>    % 标题<br>    \node[title] (title) at (<span class="hljs-number">0</span>, <span class="hljs-number">3.8</span>) &#123;Feedback Loop&#125;;<br>    % 创建一个节点：<br>    % [title]: 应用之前定义的title样式<br>    % (title): 给这个节点命名为title（虽然后面没用到这个名字）<br>    % at (<span class="hljs-number">0</span>, <span class="hljs-number">2.8</span>): 位置在坐标(<span class="hljs-number">0</span>, <span class="hljs-number">2.8</span>)，即x=<span class="hljs-number">0</span>, y=<span class="hljs-number">2.8</span><br>    % &#123;Feedback Loop&#125;: 节点中显示的文字内容<br>    <br>    % 左侧方框<br>    \node[box] (action) at (-<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>) &#123;Action <span class="hljs-keyword">or</span> Stimulus&#125;;<br>    % 创建左侧蓝色方框：<br>    % [box]: 应用box样式<br>    % (action): 节点命名为action，后面绘制箭头时会用到<br>    % at (-<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>): 位置在x=-<span class="hljs-number">3.2</span>, y=<span class="hljs-number">0</span>（左侧）<br>    % &#123;Action <span class="hljs-keyword">or</span> Stimulus&#125;: 显示的文字<br>    <br>    % 右侧方框<br>    \node[box] (response) at (<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>) &#123;Response (Feedback)&#125;;<br>    % 创建右侧蓝色方框：<br>    % [box]: 应用box样式<br>    % (response): 节点命名为response<br>    % at (<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>): 位置在x=<span class="hljs-number">3.2</span>, y=<span class="hljs-number">0</span>（右侧）<br>    % &#123;Response (Feedback)&#125;: 显示的文字<br>    <br>    % 上方弧形箭头（从左到右）- 从标题下方经过<br>    \draw[arrow] (action.north) to[out=<span class="hljs-number">70</span>, <span class="hljs-keyword">in</span>=<span class="hljs-number">110</span>] (response.north);<br>    % 绘制上方的弧形箭头：<br>    % [arrow]: 应用arrow样式<br>    % (action.north): 起点是action节点的北侧（上方中心点）<br>    % to[out=<span class="hljs-number">70</span>, <span class="hljs-keyword">in</span>=<span class="hljs-number">110</span>]: 使用贝塞尔曲线连接<br>    %   out=<span class="hljs-number">70</span>: 从起点以<span class="hljs-number">70</span>度角度出发（<span class="hljs-number">0</span>度是正右，<span class="hljs-number">90</span>度是正上）<br>    %   <span class="hljs-keyword">in</span>=<span class="hljs-number">110</span>: 以<span class="hljs-number">110</span>度角度进入终点<br>    % (response.north): 终点是response节点的北侧<br>    <br>    % 下方弧形箭头（从右到左）<br>    \draw[arrow] (response.south) to[out=-<span class="hljs-number">110</span>, <span class="hljs-keyword">in</span>=-<span class="hljs-number">70</span>] (action.south);<br>    % 绘制下方的弧形箭头：<br>    % [arrow]: 应用arrow样式<br>    % (response.south): 起点是response节点的南侧（下方中心点）<br>    % to[out=-<span class="hljs-number">110</span>, <span class="hljs-keyword">in</span>=-<span class="hljs-number">70</span>]: 使用贝塞尔曲线<br>    %   out=-<span class="hljs-number">110</span>: 从起点以-<span class="hljs-number">110</span>度（即向左下）出发<br>    %   <span class="hljs-keyword">in</span>=-<span class="hljs-number">70</span>: 以-<span class="hljs-number">70</span>度（即从右下）进入终点<br>    % (action.south): 终点是action节点的南侧<br><br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure>
<p>运行效果 <img src="f4.png" srcset="/img/loading.gif" lazyload alt="regular" /></p>
<h2 id="例-5">例 5</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br></pre></td><td class="code"><pre><code class="hljs python">\usetikzlibrary&#123;arrows.meta,positioning,calc,fit&#125;<br>%\usepackage&#123;mathptmx&#125; % Times New Roman 字体<br><br>\begin&#123;tikzpicture&#125;[<br>    % 开始TikZ绘图环境，方括号内定义全局样式    <br>    &gt;=Stealth,<br>    % 设置默认箭头样式为Stealth（三角形箭头）    <br>    thick,<br>    % 设置所有线条为粗线    <br>    % 定义各种节点样式<br>    block/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;block&quot;</span>的样式，用于绘制方框（如P、I、D、System）<br>        draw,<br>        % 绘制边框<br>        rectangle,<br>        % 形状为矩形        <br>        minimum height=1cm,<br>        % 最小高度<span class="hljs-number">1</span>厘米        <br>        minimum width=2cm,<br>        % 最小宽度<span class="hljs-number">2</span>厘米        <br>        align=center,<br>        % 文本居中对齐        <br>        line width=<span class="hljs-number">0.8</span>pt<br>        % 边框线宽<span class="hljs-number">0.8</span>pt<br>    &#125;,    <br>    <span class="hljs-built_in">sum</span>/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;sum&quot;</span>的样式，用于绘制求和器（圆圈）        <br>        draw,<br>        % 绘制边框        <br>        circle,<br>        % 形状为圆形        <br>        inner sep=0pt,<br>        % 内部间距为<span class="hljs-number">0</span>（文字紧贴边框）        <br>        minimum size=8mm,<br>        % 圆的最小直径<span class="hljs-number">8</span>毫米        <br>        line width=<span class="hljs-number">0.8</span>pt<br>        % 边框线宽<span class="hljs-number">0.8</span>pt<br>    &#125;,    <br>    dashedbox/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;dashedbox&quot;</span>的样式，用于绘制虚线框        <br>        draw=cyan!<span class="hljs-number">60</span>,<br>        % 边框颜色为<span class="hljs-number">60</span>%青色        <br>        dashed,<br>        % 边框为虚线        <br>        line width=1pt,<br>        % 虚线线宽1pt        <br>        rounded corners=3pt,<br>        % 圆角半径3pt        <br>        inner sep=8pt<br>        % 内部间距8pt（框与内容的距离）<br>    &#125;,    <br>    label/.style=&#123;<br>        % 定义名为<span class="hljs-string">&quot;label&quot;</span>的样式，用于虚线框上方的标签文字        <br>        font=\small,<br>        % 字体大小为small        <br>        cyan!<span class="hljs-number">70</span>!blue<br>        % 颜色为<span class="hljs-number">70</span>%青色+<span class="hljs-number">30</span>%蓝色的混合色<br>    &#125;<br>]<br>% 全局样式定义结束<br><br>    % 主要节点定义<br>    % 求和器<span class="hljs-number">1</span>（比较器）<br>    \node[<span class="hljs-built_in">sum</span>] (sum1) at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) &#123;$\Sigma$&#125;;<br>    % 创建第一个求和器节点：<br>    % [<span class="hljs-built_in">sum</span>]: 应用<span class="hljs-built_in">sum</span>样式<br>    % (sum1): 节点命名为sum1<br>    % at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>): 位置在坐标原点<br>    % &#123;$\Sigma$&#125;: 显示求和符号Σ<br>    <br>    % 积分环节<br>    \node[block] (integral) at (<span class="hljs-number">4</span>,<span class="hljs-number">0</span>) &#123;$\displaystyle\text&#123;I&#125;\quad K_i\<span class="hljs-built_in">int</span> e(t)dt$&#125;;<br>    % 创建积分环节节点：<br>    % [block]: 应用block样式<br>    % (integral): 命名为integral<br>    % at (<span class="hljs-number">4</span>,<span class="hljs-number">0</span>): 位置在x=<span class="hljs-number">4</span>, y=<span class="hljs-number">0</span><br>    % \displaystyle: 使积分符号以显示模式（更大）显示<br>    % \text&#123;I&#125;: 文本模式显示字母I<br>    % \quad: 添加一个空格<br>    % K_i\<span class="hljs-built_in">int</span> e(t)dt: 积分公式<br>    <br>    % 求和器<span class="hljs-number">2</span><br>    \node[<span class="hljs-built_in">sum</span>] (sum2) at (<span class="hljs-number">7.5</span>,<span class="hljs-number">0</span>) &#123;$\Sigma$&#125;;<br>    % 创建第二个求和器<br>    % at (<span class="hljs-number">7.5</span>,<span class="hljs-number">0</span>): 位置在x=<span class="hljs-number">7.5</span>, y=<span class="hljs-number">0</span><br>    <br>    % 系统<br>    \node[block, minimum width=<span class="hljs-number">2.5</span>cm] (system) at (<span class="hljs-number">11</span>,<span class="hljs-number">0</span>) &#123;System&#125;;<br>    % 创建系统方框：<br>    % minimum width=<span class="hljs-number">2.5</span>cm: 覆盖默认宽度，设为<span class="hljs-number">2.5</span>cm<br>    % (system): 命名为system<br>    % at (<span class="hljs-number">11</span>,<span class="hljs-number">0</span>): 位置在x=<span class="hljs-number">11</span>, y=<span class="hljs-number">0</span><br>    <br>    % 比例环节<br>    \node[block, minimum width=2cm] (prop) at (<span class="hljs-number">4</span>,<span class="hljs-number">2.2</span>) &#123;$\text&#123;P&#125;\quad K_p e(t)$&#125;;<br>    % 创建比例环节（P控制器）：<br>    % at (<span class="hljs-number">4</span>,<span class="hljs-number">2.2</span>): 位置在x=<span class="hljs-number">4</span>, y=<span class="hljs-number">2.2</span>（上方）<br>    % (prop): 命名为prop<br>    <br>    % 微分环节<br>    \node[block, minimum width=2cm] (diff) at (<span class="hljs-number">4</span>,-<span class="hljs-number">2.2</span>) &#123;$\displaystyle\text&#123;D&#125;\quad K_d\frac&#123;de(t)&#125;&#123;dt&#125;$&#125;;<br>    % 创建微分环节（D控制器）：<br>    % at (<span class="hljs-number">4</span>,-<span class="hljs-number">2.2</span>): 位置在x=<span class="hljs-number">4</span>, y=-<span class="hljs-number">2.2</span>（下方）<br>    % (diff): 命名为diff<br>    % \frac&#123;de(t)&#125;&#123;dt&#125;: 微分符号<br>    <br>    % 输入输出节点<br>    \node[left=<span class="hljs-number">1.5</span>cm of sum1] (<span class="hljs-built_in">input</span>) &#123;$r(t)$&#125;;<br>    % 创建输入节点：<br>    % left=<span class="hljs-number">1.5</span>cm of sum1: 在sum1节点左侧<span class="hljs-number">1.5</span>cm处<br>    % (<span class="hljs-built_in">input</span>): 命名为<span class="hljs-built_in">input</span><br>    % &#123;$r(t)$&#125;: 显示输入信号r(t)<br>    <br>    \node[right=<span class="hljs-number">1.5</span>cm of system] (output) &#123;$y(t)$&#125;;<br>    % 创建输出节点：<br>    % right=<span class="hljs-number">1.5</span>cm of system: 在system节点右侧<span class="hljs-number">1.5</span>cm处<br>    % (output): 命名为output<br>    <br>    % 虚线框<span class="hljs-number">1</span>：Comparator<br>    \node[dashedbox, fit=(sum1), label distance=2mm] (comp-box) &#123;&#125;;<br>    % 创建比较器虚线框：<br>    % [dashedbox]: 应用虚线框样式<br>    % fit=(sum1): 自动调整大小以包围sum1节点<br>    % label distance=2mm: 标签距离（未直接使用）<br>    % (comp-box): 命名为comp-box<br>    % &#123;&#125;: 节点内容为空（只显示边框）<br>    <br>    \node[label, above=2mm of comp-box.north] &#123;Comparator&#125;;<br>    % 在虚线框上方创建<span class="hljs-string">&quot;Comparator&quot;</span>文字标签：<br>    % [label]: 应用label样式<br>    % above=2mm of comp-box.north: 在comp-box的北侧（上方）上方2mm处<br>    <br>    % 虚线框<span class="hljs-number">2</span>：Loop Filter<br>    \coordinate (<span class="hljs-built_in">filter</span>-nw) at ([xshift=-8mm, yshift=10mm]prop.north west);<br>    % 定义Loop Filter虚线框的西北角坐标：<br>    % \coordinate: 定义一个坐标点（不可见）<br>    % (<span class="hljs-built_in">filter</span>-nw): 命名为<span class="hljs-built_in">filter</span>-nw（northwest）<br>    % [xshift=-8mm, yshift=10mm]: 相对于prop.north west（比例环节左上角）<br>    %   向左偏移8mm，向上偏移10mm<br>    <br>    \coordinate (<span class="hljs-built_in">filter</span>-se) at ([xshift=8mm, yshift=-10mm]diff.south east);<br>    % 定义Loop Filter虚线框的东南角坐标：<br>    % (<span class="hljs-built_in">filter</span>-se): 命名为<span class="hljs-built_in">filter</span>-se（southeast）<br>    % 相对于diff.south east（微分环节右下角）<br>    %   向右偏移8mm，向下偏移10mm<br>    <br>    \node[dashedbox, fit=&#123;(<span class="hljs-built_in">filter</span>-nw)(<span class="hljs-built_in">filter</span>-se)(sum2)&#125;] (<span class="hljs-built_in">filter</span>-box) &#123;&#125;;<br>    % 创建Loop Filter虚线框：<br>    % fit=&#123;(<span class="hljs-built_in">filter</span>-nw)(<span class="hljs-built_in">filter</span>-se)(sum2)&#125;: 自动调整大小以包围这三个点/节点<br>    % 这样就创建了一个包含P、I、D和sum2的大虚线框<br>    <br>    \node[label, above=2mm of <span class="hljs-built_in">filter</span>-box.north] &#123;Loop Filter&#125;;<br>    % 在虚线框上方创建<span class="hljs-string">&quot;Loop Filter&quot;</span>文字标签<br>    <br>    % 绘制连接线 - 全部横平竖直<br>    % 输入到求和器<span class="hljs-number">1</span><br>    \draw[-&gt;] (<span class="hljs-built_in">input</span>) -- (sum1);<br>    % 从<span class="hljs-built_in">input</span>节点画箭头到sum1节点<br>    % [-&gt;]: 表示线的末端有箭头<br>    % --: 直线连接<br>    <br>    % 求和器<span class="hljs-number">1</span>后的分支点<br>    \coordinate (branch1) at ([xshift=<span class="hljs-number">1.5</span>cm]sum1.east);<br>    % 定义一个分支点坐标：<br>    % (branch1): 命名为branch1<br>    % at ([xshift=<span class="hljs-number">1.5</span>cm]sum1.east): 在sum1的东侧（右侧）向右<span class="hljs-number">1.5</span>cm处<br>    % 这个点用于信号分成三路（P、I、D）<br>    <br>    % 求和器<span class="hljs-number">1</span>到分支点，标注e(t)<br>    \draw[-&gt;] (sum1.east) -- (branch1) node[pos=<span class="hljs-number">0.5</span>, above, font=\small] &#123;$e(t)$&#125;;<br>    % 从sum1的右侧画箭头到分支点：<br>    % node[pos=<span class="hljs-number">0.5</span>, above, font=\small] &#123;$e(t)$&#125;: 在线段中点（pos=<span class="hljs-number">0.5</span>）<br>    %   上方添加文字标签e(t)<br>    <br>    % 分支点到比例环节（先竖直后水平）<br>    \draw (branch1) |- (prop.west);<br>    % 从branch1到prop.west画线：<br>    % |-: 先水平后竖直的连接方式（实际这里是先竖直后水平，因为目标在上方）<br>    <br>    \draw[-&gt;] ([xshift=-<span class="hljs-number">0.3</span>cm]prop.west) -- (prop.west);<br>    % 在比例环节入口处画一小段箭头：<br>    % [xshift=-<span class="hljs-number">0.3</span>cm]prop.west: 从prop左侧向左<span class="hljs-number">0.3</span>cm的位置<br>    % 到prop.west: 箭头指向比例环节<br>    % 这样做是为了让箭头出现在入口处而不是转角处<br>    <br>    % 分支点到积分环节（水平直线）<br>    \draw[-&gt;] (branch1) -- (integral.west);<br>    % 从分支点直接画箭头到积分环节左侧<br>    % 因为在同一水平线上，所以是直线<br>    <br>    % 分支点到微分环节（先竖直后水平）<br>    \draw (branch1) |- (diff.west);<br>    % 从分支点到微分环节，先竖直下降再水平到达<br>    <br>    \draw[-&gt;] ([xshift=-<span class="hljs-number">0.3</span>cm]diff.west) -- (diff.west);<br>    % 在微分环节入口处添加箭头<br>    <br>    % 比例环节到求和器<span class="hljs-number">2</span>（先水平后竖直）<br>    \coordinate (prop-corner) at ([xshift=<span class="hljs-number">2.3</span>cm]prop.east);<br>    % 定义比例环节输出的转角点：<br>    % (prop-corner): 命名为prop-corner<br>    % at ([xshift=<span class="hljs-number">2.3</span>cm]prop.east): 在prop右侧向右<span class="hljs-number">2.3</span>cm处<br>    <br>    \draw (prop.east) -- (prop-corner);<br>    % 从比例环节右侧画线到转角点（水平线）<br>    <br>    \draw[-&gt;] (prop-corner) |- (sum2.north);<br>    % 从转角点画线到sum2的北侧（上方）：<br>    % |-: 先竖直后水平到达（这里是竖直下降）<br>    % 箭头指向sum2的上方入口<br>    <br>    % 积分环节到求和器<span class="hljs-number">2</span>（水平直线）<br>    \draw[-&gt;] (integral.east) -- (sum2.west);<br>    % 从积分环节右侧直接画箭头到sum2左侧<br>    % 在同一水平线上<br>    <br>    % 微分环节到求和器<span class="hljs-number">2</span>（先水平后竖直）<br>    \coordinate (diff-corner) at ([xshift=<span class="hljs-number">2.3</span>cm]diff.east);<br>    % 定义微分环节输出的转角点<br>    <br>    \draw (diff.east) -- (diff-corner);<br>    % 从微分环节右侧画线到转角点（水平线）<br>    <br>    \draw[-&gt;] (diff-corner) |- (sum2.south);<br>    % 从转角点画线到sum2的南侧（下方）<br>    % 竖直上升后到达sum2下方入口<br>    <br>    % 求和器<span class="hljs-number">2</span>到系统，标注u(t)<br>    \draw[-&gt;] (sum2.east) -- (system.west) node[pos=<span class="hljs-number">0.5</span>, above, font=\small] &#123;$u(t)$&#125;;<br>    % 从sum2右侧画箭头到system左侧<br>    % 在中点上方标注u(t)<br>    <br>    % 系统到输出<br>    \draw[-&gt;] (system.east) -- (output);<br>    % 从system右侧画箭头到output节点<br>    <br>    % 反馈线 - 横平竖直<br>    \coordinate (fb-right) at ([xshift=1cm]system.east);<br>    % 定义反馈线的第一个转角点：<br>    % (fb-right): 命名为fb-right<br>    % at ([xshift=1cm]system.east): 在system右侧向右1cm处<br>    <br>    \coordinate (fb-bottom) at (fb-right |- <span class="hljs-number">0</span>,-<span class="hljs-number">4</span>);<br>    % 定义反馈线底部的点：<br>    % (fb-bottom): 命名为fb-bottom<br>    % at (fb-right |- <span class="hljs-number">0</span>,-<span class="hljs-number">4</span>): 使用垂直投影语法<br>    %   x坐标与fb-right相同，y坐标为-<span class="hljs-number">4</span><br>    %   这样确保竖直下降<br>    <br>    \coordinate (fb-left) at (sum1.south |- fb-bottom);<br>    % 定义反馈线左侧的转角点：<br>    % (fb-left): 命名为fb-left<br>    % at (sum1.south |- fb-bottom): <br>    %   x坐标与sum1.south相同，y坐标与fb-bottom相同<br>    %   这样确保水平线对齐<br>    <br>    \draw (output) -- (fb-right);<br>    % 从output画线到第一个转角点（水平线）<br>    <br>    \draw (fb-right) -- (fb-bottom);<br>    % 从第一个转角点画线到底部（竖直线）<br>    <br>    \draw (fb-bottom) -- (fb-left);<br>    % 从底部画线到左侧转角点（水平线）<br>    <br>    \draw[-&gt;] (fb-left) -- (sum1.south);<br>    % 从左侧转角点画箭头到sum1的南侧（下方）<br>    % 竖直上升，箭头指向sum1<br>    <br>    % 求和器的加减号<br>    \node[font=\scriptsize] at ($(sum1.north west)+(<span class="hljs-number">0.15</span>,-<span class="hljs-number">0.15</span>)$) &#123;$+$&#125;;<br>    % 在sum1的西北角内侧位置添加加号：<br>    % [font=\scriptsize]: 字体为scriptsize（很小）<br>    % at ($(sum1.north west)+(<span class="hljs-number">0.15</span>,-<span class="hljs-number">0.15</span>)$): 使用calc库计算坐标<br>    %   $(...)$: calc语法<br>    %   sum1.north west: sum1的西北角（左上角）<br>    %   +(<span class="hljs-number">0.15</span>,-<span class="hljs-number">0.15</span>): 向右<span class="hljs-number">0.15</span>，向下<span class="hljs-number">0.15</span><br>    <br>    \node[font=\scriptsize] at ($(sum1.south west)+(<span class="hljs-number">0.15</span>,<span class="hljs-number">0.15</span>)$) &#123;$-$&#125;;<br>    % 在sum1的西南角内侧位置添加减号<br>    % 向右<span class="hljs-number">0.15</span>，向上<span class="hljs-number">0.15</span><br>    <br>    \node[font=\scriptsize] at ($(sum2.north)+(<span class="hljs-number">0</span>,<span class="hljs-number">0.15</span>)$) &#123;$+$&#125;;<br>    % 在sum2的正上方内侧添加加号<br>    % 向下<span class="hljs-number">0.15</span>（进入圆内）<br>    <br>    \node[font=\scriptsize] at ($(sum2.west)+(<span class="hljs-number">0.2</span>,<span class="hljs-number">0</span>)$) &#123;$+$&#125;;<br>    % 在sum2的正左侧内侧添加加号<br>    % 向右<span class="hljs-number">0.2</span>（进入圆内）<br>    <br>    \node[font=\scriptsize] at ($(sum2.south)+(<span class="hljs-number">0</span>,-<span class="hljs-number">0.15</span>)$) &#123;$+$&#125;;<br>    % 在sum2的正下方内侧添加加号<br>    % 向上<span class="hljs-number">0.15</span>（进入圆内，用负值表示向下移动-<span class="hljs-number">0.15</span>）<br>    <br>    % 底部说明文字 - 居中显示<br>    \coordinate (center) at (<span class="hljs-number">6</span>,<span class="hljs-number">0</span>);  <br>    % 定义图形的中心点坐标：<br>    % (center): 命名为center<br>    % at (<span class="hljs-number">6</span>,<span class="hljs-number">0</span>): 大致在整个图形的水平中央<br>    <br>    \node[below=<span class="hljs-number">4.8</span>cm of center, font=\small] (labels) &#123;<br>        % 创建说明文字节点：<br>        % below=<span class="hljs-number">4.8</span>cm of center: 在center点下方<span class="hljs-number">4.8</span>cm处<br>        % [font=\small]: 字体大小为small<br>        % (labels): 命名为labels<br>        <br>        $r(t) = \text&#123;System Setpoint&#125;$ \qquad<br>        % 第一项说明<br>        % \qquad: 添加较大的水平间距<br>        <br>        $e(t) = \text&#123;Error Signal&#125;$ \qquad<br>        % 第二项说明<br>        <br>        $u(t) = \text&#123;Control Signal&#125;$ \qquad<br>        % 第三项说明<br>        <br>        $y(t) = \text&#123;System Output&#125;$<br>        % 第四项说明<br>    &#125;;<br>    % 所有说明文字在一个节点中，自动居中对齐<br><br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure>
<p>运行效果 <img src="f5.png" srcset="/img/loading.gif" lazyload alt="regular" /></p>
<h2 id="例-6">例 6</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><code class="hljs python">\usetikzlibrary&#123;shapes,arrows,positioning,calc&#125;<br>% 加载 TikZ 的几个库：<br>%   shapes     ：提供各种形状（矩形、圆、椭圆等）的高级样式；<br>%   arrows     ：提供箭头样式（latex, stealth 等）；<br>%   positioning：支持相对定位语法，如 right of=...、above of=...；<br>%   calc       ：支持坐标计算，如 ($(A)+(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)$)。<br><br>\tikzset&#123;<br>    block/.style = &#123;draw, fill=white, rectangle, minimum height=3em, minimum width=3em&#125;,<br>    % 定义一个通用样式 block：<br>    %   draw           ：画出边框；<br>    %   fill=white     ：内部填充为白色；<br>    %   rectangle      ：矩形形状；<br>    %   minimum height  ：最小高度 3em；<br>    %   minimum width   ：最小宽度 3em。<br>    % 以后写 [block] 就等价于使用这些属性。<br>    tmp/.style  = &#123;coordinate&#125;, <br>    % 定义 tmp 样式为 coordinate 类型：<br>    %   这种节点本身没有可见形状，只是用来当“坐标点/连接点”。<br>    <span class="hljs-built_in">sum</span>/.style= &#123;draw, fill=white, circle, node distance=1cm&#125;,<br>    % 定义 <span class="hljs-built_in">sum</span> 样式：<br>    %   画边框 draw；<br>    %   填充白色 fill=white；<br>    %   circle：圆形节点；<br>    %   node distance=1cm：默认节点间距 1cm（供 positioning 库用）。<br>    <span class="hljs-built_in">input</span>/.style = &#123;coordinate&#125;,<br>    % <span class="hljs-built_in">input</span> 样式：仅仅是一个坐标点，用来当输入端。<br>    output/.style= &#123;coordinate&#125;,<br>    % output 样式：同上，用来当输出端。<br>    pinstyle/.style = &#123;pin edge=&#123;to-,thin,black&#125;<br>    % pinstyle 样式：用于带 pin 的节点时，pin 连接线使用 “to-” 线型、细线、黑色。<br>    % 本段代码中没真正用到 pinstyle，但预定义了一个方便以后使用的样式。<br>    &#125;<br>&#125;<br><br><br>\begin&#123;tikzpicture&#125;[auto, node distance=2cm,&gt;=latex<span class="hljs-string">&#x27;]</span><br><span class="hljs-string">% 开始 tikzpicture 环境。</span><br><span class="hljs-string">% 选项：</span><br><span class="hljs-string">%   auto             ：自动选择边上标签的方向（上/下/左/右）；</span><br><span class="hljs-string">%   node distance=2cm：默认节点之间的距离为 2cm（给 positioning 库用）；</span><br><span class="hljs-string">%   &gt;=latex&#x27;</span>         ：箭头默认使用 latex<span class="hljs-string">&#x27; 样式（LaTeX 风格的箭头）。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [input, name=rinput] (rinput) &#123;&#125;;</span><br><span class="hljs-string">    % 定义一个 input 类型的节点：</span><br><span class="hljs-string">    %   样式为 [input]（即 coordinate），所以是一个“不可见点”；</span><br><span class="hljs-string">    %   name=rinput（可选）和 (rinput) 都给它取名为 rinput，方便后续引用；</span><br><span class="hljs-string">    %   花括号 &#123;&#125; 中无内容，所以不显示文字。</span><br><span class="hljs-string">    %   这是整个框图最左边的输入坐标。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [sum, right of=rinput] (sum1) &#123;&#125;;</span><br><span class="hljs-string">    % 定义一个 sum 节点（圆形求和点）：</span><br><span class="hljs-string">    %   位置：right of=rinput，表示在 rinput 右侧，距离由 node distance 控制（2cm）；</span><br><span class="hljs-string">    %   名字为 sum1；</span><br><span class="hljs-string">    %   内容为空，所以只是一个空圆圈（可以在上面叠加 +, - 等符号）。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, right of=sum1] (controller) &#123;$k_&#123;p\beta&#125;$&#125;;</span><br><span class="hljs-string">    % 定义一个 block 节点（矩形）：</span><br><span class="hljs-string">    %   在 sum1 右侧（2cm）；</span><br><span class="hljs-string">    %   名字 controller；</span><br><span class="hljs-string">    %   内部文字为 $k_&#123;p\beta&#125;$，表示比例环节。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, above of=controller,node distance=1.3cm] (up)&#123;$\frac&#123;k_&#123;i\beta&#125;&#125;&#123;s&#125;$&#125;;</span><br><span class="hljs-string">    % 定义一个 block 节点：</span><br><span class="hljs-string">    %   在 controller 正上方 1.3cm 处（覆盖默认 node distance）；</span><br><span class="hljs-string">    %   名字 up；</span><br><span class="hljs-string">    %   内部文字为积分环节：k_&#123;iβ&#125;/s。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, below of=controller,node distance=1.3cm] (rate) &#123;$sk_&#123;d\beta&#125;$&#125;;</span><br><span class="hljs-string">    % 定义一个 block 节点：</span><br><span class="hljs-string">    %   在 controller 正下方 1.3cm 处；</span><br><span class="hljs-string">    %   名字 rate；</span><br><span class="hljs-string">    %   内部文字为微分环节：s k_&#123;dβ&#125;。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [sum, right of=controller,node distance=2cm] (sum2) &#123;&#125;;</span><br><span class="hljs-string">    % 在 controller 右侧 2cm 处定义第二个求和节点 sum2（圆）。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, above = 2cm of sum2](extra)&#123;$\frac&#123;1&#125;&#123;\alpha_&#123;\beta2&#125;&#125;$&#125;;  %</span><br><span class="hljs-string">    % 在 sum2 上方 2cm 处定义一个额外的 block：</span><br><span class="hljs-string">    %   名字 extra；</span><br><span class="hljs-string">    %   内部为 1/α_&#123;β2&#125;，表示某个额外模块/通道对 sum2 的输入。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, right of=sum2,node distance=2cm] (system) </span><br><span class="hljs-string">&#123;$\frac&#123;a_&#123;\beta 2&#125;&#125;&#123;s+a_&#123;\beta 1&#125;&#125;$&#125;;</span><br><span class="hljs-string">    % 在 sum2 右侧 2cm 处定义被控对象模块 system：</span><br><span class="hljs-string">    %   传递函数为 a_&#123;β2&#125;/(s + a_&#123;β1&#125;)。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [output, right of=system, node distance=2cm] (output) &#123;&#125;;</span><br><span class="hljs-string">    % 在 system 右侧 2cm 处定义输出坐标节点 output（不可见坐标点）。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [tmp, below of=controller] (tmp1)&#123;$H(s)$&#125;;</span><br><span class="hljs-string">    % 在 controller 下方（默认节点距离 2cm）定义一个 tmp 节点 tmp1：</span><br><span class="hljs-string">    %   样式是 coordinate（不可见），但这里在花括号里写了 $H(s)$，</span><br><span class="hljs-string">    %   所以会在这个位置显示文字 H(s)；</span><br><span class="hljs-string">    %   通常用来标注反馈路径的传递函数 H(s)。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (rinput) -- node&#123;$R(s)$&#125; (sum1);</span><br><span class="hljs-string">    % 从 rinput 到 sum1 画一条带箭头的连线：</span><br><span class="hljs-string">    %   在线的中间加一个 node，内容为 R(s)，表示参考输入信号 R(s)。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (sum1) --node[name=z,anchor=north]&#123;$E(s)$&#125; (controller);</span><br><span class="hljs-string">    % 从 sum1 到 controller 画箭头：</span><br><span class="hljs-string">    %   在线段中添加一个 node：</span><br><span class="hljs-string">    %     name=z     ：这个标签节点命名为 z，后面可以拿它当“坐标”使用；</span><br><span class="hljs-string">    %     anchor=north：z 这个 node 的北侧锚点贴在线上（让文字在下面）；</span><br><span class="hljs-string">    %     内容为 E(s)，表示误差信号 E(s)。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (controller) -- (sum2);</span><br><span class="hljs-string">    % 从比例通道 controller 输出到 sum2 的主通道箭头。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (sum2) -- node&#123;$U(s)$&#125; (system);</span><br><span class="hljs-string">    % 从 sum2 到 system 的箭头：</span><br><span class="hljs-string">    %   在线的中间加文字 U(s)，表示控制信号 U(s)。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (system) -- node [name=y] &#123;$Y(s)$&#125;(output);</span><br><span class="hljs-string">    % 从 system 到 output 的箭头：</span><br><span class="hljs-string">    %   在线中间加 node，名字为 y，内容为 Y(s)，表示输出信号；</span><br><span class="hljs-string">    %   之后会用 (y) 作为反馈回路的起点。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (z) |- (rate);</span><br><span class="hljs-string">    % 从标签节点 z（即 E(s) 那个标签的坐标）出发：</span><br><span class="hljs-string">    %   使用 |- 路径语法：先竖直再水平拐弯，</span><br><span class="hljs-string">    %   画到 rate（微分通道）；</span><br><span class="hljs-string">    %   表示误差信号 E(s) 同时送入微分支路。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (rate) -| (sum2);</span><br><span class="hljs-string">    % 从 rate 输出到 sum2：</span><br><span class="hljs-string">    %   使用 -|：先水平再竖直拐弯，接入 sum2；</span><br><span class="hljs-string">    %   表示微分支路的输出与主通道在 sum2 汇总。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (z) |- (up);</span><br><span class="hljs-string">    % 从 E(s) 标签（z）到积分通道 up：</span><br><span class="hljs-string">    %   E(s) 同时送入积分支路。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (up) -| (sum2);</span><br><span class="hljs-string">    % 从积分支路 up 输出回到 sum2 相加。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (y) |- (tmp1)-| node[pos=0.99] &#123;$-$&#125; (sum1);</span><br><span class="hljs-string">    % 从输出标签 y（即 Y(s) 的位置）出发：</span><br><span class="hljs-string">    %   |- 到 tmp1：先竖直再水平拐弯，达到 H(s) 标注的位置；</span><br><span class="hljs-string">    %   再 -| 到 sum1：从 tmp1 绕回 sum1，下侧形成反馈闭环；</span><br><span class="hljs-string">    %   在这条路径上，用 node[pos=0.99] &#123;$-$&#125; 在接近终点的位置标一个减号“−”，</span><br><span class="hljs-string">    %   表示在 sum1 处是负反馈（反馈信号带负号）。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (extra)--(sum2);</span><br><span class="hljs-string">    % 从 extra 模块（1/α_&#123;β2&#125;）输出到 sum2：</span><br><span class="hljs-string">    %   表示一个外部输入 d_&#123;β2&#125; 经过 extra 后也加到 sum2 中。</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] ($(0,1.5cm)+(extra)$)node[above]&#123;$d_&#123;\beta 2&#125;$&#125; -- (extra);</span><br><span class="hljs-string">    % 使用 calc 库的坐标计算：</span><br><span class="hljs-string">    %   $(extra)$ 表示 extra 节点的坐标；</span><br><span class="hljs-string">    %   $(0,1.5cm)+(extra)$ 表示在 extra 上方 1.5cm 的位置；</span><br><span class="hljs-string">    %   从这个上方的点画一条箭头指向 extra。</span><br><span class="hljs-string">    % 在线段起点处放置一个 node[above]&#123;$d_&#123;\beta 2&#125;$&#125;：</span><br><span class="hljs-string">    %   文字 d_&#123;β2&#125; 显示在这条箭的上方，表示外部扰动/输入 d_&#123;β2&#125;。</span><br><span class="hljs-string"></span><br><span class="hljs-string">\end&#123;tikzpicture&#125;</span><br><span class="hljs-string">% 结束整个控制框图的绘制。</span><br></code></pre></td></tr></table></figure>
<p>运行效果 <img src="f6.png" srcset="/img/loading.gif" lazyload alt="regular" /></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/LaTex/" class="category-chain-item">LaTex</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/LaTex/" class="print-no-link">#LaTex</a>
      
        <a href="/tags/TikZ/" class="print-no-link">#TikZ</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>LaTex 系列 - 4. TikZ 绘图</div>
      <div>http://yylustb.github.io/2025/11/14/Latex/latex_4-Tikz-2025-11-14/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>yylustb</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年11月14日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/14/HEXO/hexo_1/" title="Hexo 系列 - 1. 安装">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Hexo 系列 - 1. 安装</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/11/14/Pytorch/pytorch_3-MINIST-2025_11_14/" title="Pytorch 系列 - 3. MINIST 数据">
                        <span class="hidden-mobile">Pytorch 系列 - 3. MINIST 数据</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
