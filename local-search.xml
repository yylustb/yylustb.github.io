<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2025/11/16/hello-world/"/>
    <url>/2025/11/16/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your veryfirst post. Check <a href="https://hexo.io/docs/">documentation</a> formore info. If you get any problems when using Hexo, you can find theanswer in <ahref="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> oryou can ask me on <ahref="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <ahref="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <ahref="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <ahref="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">code:</span><br>  <span class="hljs-attr">copy_btn:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># å¼€å¯å¤åˆ¶æŒ‰é’®</span><br>  <span class="hljs-attr">language:</span> <span class="hljs-comment"># ä»£ç è¯­è¨€</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">default:</span> <span class="hljs-string">&quot;TEXT&quot;</span><br>  <span class="hljs-attr">highlight:</span> <span class="hljs-comment"># ä»£ç é«˜äº®</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># ä»£ç å—æ˜¯å¦æ˜¾ç¤ºè¡Œå·</span><br>    <span class="hljs-attr">lib:</span> <span class="hljs-string">&quot;highlightjs&quot;</span> <span class="hljs-comment"># å®ç°é«˜äº®çš„åº“ï¼ˆhighlightjs | prismjsï¼‰äºŒé€‰ä¸€ï¼Œå¯¹åº”ä¸‹é¢çš„è®¾ç½®</span><br><br>    <span class="hljs-attr">highlightjs:</span><br>      <span class="hljs-attr">style:</span> <span class="hljs-string">&quot;gradient-dark&quot;</span> <span class="hljs-comment"># ï¼ˆstyle é€‰é¡¹å‚è€ƒhttps://highlightjs.org/demo/ï¼‰</span><br>      <span class="hljs-attr">style_dark:</span> <span class="hljs-string">&quot;dark&quot;</span><br><br>    <span class="hljs-attr">prismjs:</span><br>      <span class="hljs-comment"># åœ¨ä¸‹æ–¹é“¾æ¥é¡µé¢å³ä¾§çš„åœ†å½¢æŒ‰é’®æŒ‘é€‰ style å¡«å…¥ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¡«å…¥ css é“¾æ¥</span><br>      <span class="hljs-comment"># Select the style button on the right side of the link page, you can also set the CSS link</span><br>      <span class="hljs-comment"># See: https://prismjs.com/</span><br>      <span class="hljs-attr">style:</span> <span class="hljs-string">&quot;default&quot;</span><br>      <span class="hljs-attr">style_dark:</span> <span class="hljs-string">&quot;tomorrow night&quot;</span><br><br>      <span class="hljs-comment"># è®¾ä¸º true é«˜äº®å°†æœ¬åœ°é™æ€ç”Ÿæˆï¼ˆä½†åªæ”¯æŒéƒ¨åˆ† prismjs æ’ä»¶ï¼‰ï¼Œè®¾ä¸º false é«˜äº®å°†åœ¨æµè§ˆå™¨é€šè¿‡ js ç”Ÿæˆ</span><br>      <span class="hljs-comment"># If true, it will be generated locally (but some prismjs plugins are not supported). If false, it will be generated via JS in the browser</span><br>      <span class="hljs-attr">preprocess:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hexo ç³»åˆ— - 4. LaTex å…¬å¼æµ‹è¯• ï¼ˆPandoc + MathJax æ¸²æŸ“æ•ˆæœï¼‰</title>
    <link href="/2025/11/15/HEXO/hexo_4/"/>
    <url>/2025/11/15/HEXO/hexo_4/</url>
    
    <content type="html"><![CDATA[<p>æœ¬é¡µç”¨äºæµ‹è¯• <strong>pandoc + MathJax</strong> åœ¨ Hexo/Fluidä¸­çš„æ¸²æŸ“æ•ˆæœã€‚</p><h2 id="è¡Œå†…å…¬å¼">1. è¡Œå†…å…¬å¼</h2><p>è¿™æ˜¯ä¸€ä¸ªè¡Œå†…å…¬å¼ï¼š<span class="math inline">\(E =mc^2\)</span>ï¼Œ<br />å†æ¥ä¸€ä¸ªï¼š<span class="math inline">\(\alpha, \beta, \gamma \in\mathbb{R}\)</span>ï¼Œ<br />ä»¥åŠä¸€ä¸ªç®€å•çš„å‘é‡ï¼š<span class="math inline">\(\boldsymbol{x} = (x_1,x_2, \dots, x_n)^\top\)</span>ã€‚</p><h2 id="å•è¡Œè¡Œé—´å…¬å¼">2. å•è¡Œè¡Œé—´å…¬å¼ + + </h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¸¦ç¼–å·çš„è¡Œé—´å…¬å¼ï¼Œæˆ‘ä»¬ç»™å®ƒåŠ ä¸Š <code>\label</code>ï¼š</p><p><span class="math display">\[\begin{equation}E = mc^2\label{eq:einstein}\end{equation}\]</span></p><p>ç°åœ¨åœ¨æ­£æ–‡ä¸­å¼•ç”¨å®ƒï¼šå¼ <spanclass="math inline">\(\eqref{eq:einstein}\)</span>æ˜¯è‘—åçš„è´¨èƒ½æ–¹ç¨‹ã€‚</p><h2 id="å¤šè¡Œ-align-ç¯å¢ƒ">3. å¤šè¡Œ align ç¯å¢ƒ + + </h2><p>æµ‹è¯•å¤šè¡Œå¯¹é½çš„æ¨å¯¼è¿‡ç¨‹ï¼Œå¹¶ä¸”å¯¹å…¶ä¸­ä¸€è¡Œæ·»åŠ  <code>\tag</code>ï¼š <spanid="eq:J"></span> <span class="math display">\[\begin{align}J(\theta)  &amp;= \mathbb{E}_{s \sim d^\pi,\, a \sim \pi_\theta}     \bigl[ r(s,a) \bigr] \label{eq:obj} \\[4pt]\nabla_\theta J(\theta)  &amp;= \mathbb{E}_{s \sim d^\pi,\, a \sim \pi_\theta}     \Bigl[ \nabla_\theta \log \pi_\theta(a \mid s)\, Q^\pi(s,a) \Bigr]     \label{eq:pg-basic} \\[4pt]  &amp;= \mathbb{E}_{s \sim d^\pi}     \Bigl[ \sum_a \nabla_\theta \pi_\theta(a \mid s)\, Q^\pi(s,a)\Bigr]     \tag{PG*} \label{eq:pg-tag}\end{align}\]</span></p><p>ä¸Šé¢æˆ‘ä»¬ç»™äº†ä¸‰ä¸ªå…¬å¼ç¼–å·ï¼š</p><ul><li>ç›®æ ‡å‡½æ•°ï¼šå¼ <spanclass="math inline">\(\eqref{eq:obj}\)</span>ï¼›</li><li>åŸºæœ¬å½¢å¼çš„ç­–ç•¥æ¢¯åº¦ï¼šå¼ <spanclass="math inline">\(\eqref{eq:pg-basic}\)</span>ï¼›</li><li>å¸¦è‡ªå®šä¹‰æ ‡ç­¾çš„é‚£ä¸€è¡Œï¼šå¼ <spanclass="math inline">\(\eqref{eq:pg-tag}\)</span>ï¼Œå…¶æ˜¾å¼ç¼–å·ä¸º<code>(PG*)</code>ã€‚è§å…¬å¼ <a href="#eq:J">(2)</a>ã€‚</li></ul><h2 id="æ›´å¤æ‚çš„ç¬¦å·ä¸çŸ©é˜µ">4. æ›´å¤æ‚çš„ç¬¦å·ä¸çŸ©é˜µ</h2><p>å†æµ‹è¯•å¸Œè…Šå­—æ¯ã€é›†åˆã€çŸ©é˜µç­‰ï¼š</p><p>è¡Œå†…æµ‹è¯•ï¼š<span class="math inline">\(\forall \epsilon &gt; 0,\\exists \delta &gt; 0\)</span>ï¼Œ<br />ä½¿å¾—å½“ <span class="math inline">\(0 &lt; \lVert x - x^\ast \rVert &lt;\delta\)</span> æ—¶ï¼Œæœ‰ <span class="math inline">\(\lVert f(x) -f(x^\ast) \rVert &lt; \epsilon\)</span>ã€‚</p><p>è¡Œé—´çŸ©é˜µï¼š</p><p><span class="math display">\[\begin{equation}A =\begin{bmatrix}  1      &amp; 0      &amp; \cdots &amp; 0 \\  0      &amp; 1      &amp; \cdots &amp; 0 \\  \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\  0      &amp; 0      &amp; \cdots &amp; 1\end{bmatrix}, \quad\boldsymbol{b} =\begin{bmatrix}  b_1 \\ b_2 \\ \vdots \\ b_n\end{bmatrix}.\label{eq:matrix}\end{equation}\]</span></p><p>çŸ©é˜µ <span class="math inline">\(A\)</span> å’Œå‘é‡ <spanclass="math inline">\(\boldsymbol{b}\)</span> çš„å®šä¹‰å¦‚å¼ <spanclass="math inline">\(\eqref{eq:matrix}\)</span> æ‰€ç¤ºã€‚</p><h2 id="åˆ†æ®µå‡½æ•°ä¸æ¡ä»¶æ¦‚ç‡">5. åˆ†æ®µå‡½æ•°ä¸æ¡ä»¶æ¦‚ç‡</h2><p>æœ€åæµ‹è¯•åˆ†æ®µå‡½æ•°å’Œæ¦‚ç‡ç¬¦å·ï¼š</p><p><span class="math display">\[\begin{equation}p(x) =\begin{cases}\lambda e^{-\lambda x}, &amp; x \ge 0, \\0,                       &amp; x &lt; 0,\end{cases}\quad \lambda &gt; 0.\label{eq:exp}\end{equation}\]</span></p><p>æ¡ä»¶æ¦‚ç‡ç¤ºä¾‹ï¼š</p><p><span class="math display">\[\begin{equation}\mathbb{P}(A \mid B) = \frac{\mathbb{P}(A \cap B)}{\mathbb{P}(B)},\qquad \mathbb{P}(B) &gt; 0.\label{eq:cond-prob}\end{equation}\]</span></p><p>åœ¨æ­£æ–‡ä¸­å†æ¬¡å¼•ç”¨å¼ <spanclass="math inline">\(\eqref{eq:exp}\)</span> å’Œå¼ <spanclass="math inline">\(\eqref{eq:cond-prob}\)</span>ï¼Œç¡®è®¤äº¤å‰å¼•ç”¨æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p><h2 id="section">6.</h2><ul><li><p>ç”¨ <code>Markdown</code> / <code>HTML</code>åšä¸ªé”šç‚¹ï¼Œä¼ªè£…æˆå¯å¼•ç”¨å…¬å¼ <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;eq:newton&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br>$$<br>F = ma \tag&#123;1&#125;<br>$$<br><br>åœ¨æ–‡ä¸­è¿™æ ·å†™ï¼šè§å…¬å¼ [<span class="hljs-string">(1)</span>](<span class="hljs-link">#eq:newton</span>)ã€‚<br><br></code></pre></td></tr></table></figure></p><p>æ¸²æŸ“æ•ˆæœå¦‚ä¸‹</p><p><span id="eq:newton"></span> <span class="math display">\[F = ma \tag{1}\]</span> åœ¨æ–‡ä¸­è¿™æ ·å†™ï¼šè§å…¬å¼ <a href="#eq:newton">(1)</a>ã€‚</p></li></ul><hr /><p>å¦‚æœæœ¬é¡µæ‰€æœ‰å…¬å¼ï¼ˆè¡Œå†…ã€è¡Œé—´ã€å¤šè¡Œ alignã€ã€è‡ªå®šä¹‰ +ï¼‰éƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œ<br />è¯´æ˜ä½ çš„ <strong>pandoc + MathJax + Fluid é…ç½®å·²ç»å®Œå…¨ OK</strong>äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
      <tag>pandoc</tag>
      
      <tag>MathJax</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo ç³»åˆ— - 3. ä½¿ç”¨ pandoc + MathJax æ¸²æŸ“å…¬å¼</title>
    <link href="/2025/11/15/HEXO/hexo_3/"/>
    <url>/2025/11/15/HEXO/hexo_3/</url>
    
    <content type="html"><![CDATA[<p>æœ¬é¡µç”¨äºæµ‹è¯• <strong>pandoc + MathJax</strong> åœ¨ Hexo/Fluidä¸­çš„æ¸²æŸ“æ•ˆæœã€‚</p><h2 id="è¡Œå†…å…¬å¼">1. è¡Œå†…å…¬å¼</h2><p>è¿™æ˜¯ä¸€ä¸ªè¡Œå†…å…¬å¼ï¼š<span class="math inline">\(E =mc^2\)</span>ï¼Œ<br />å†æ¥ä¸€ä¸ªï¼š<span class="math inline">\(\alpha, \beta, \gamma \in\mathbb{R}\)</span>ï¼Œ<br />ä»¥åŠä¸€ä¸ªç®€å•çš„å‘é‡ï¼š<span class="math inline">\(\boldsymbol{x} = (x_1,x_2, \dots, x_n)^\top\)</span>ã€‚</p><h2 id="å•è¡Œè¡Œé—´å…¬å¼">2. å•è¡Œè¡Œé—´å…¬å¼ + + </h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¸¦ç¼–å·çš„è¡Œé—´å…¬å¼ï¼Œæˆ‘ä»¬ç»™å®ƒåŠ ä¸Š <code>\label</code>ï¼š</p><p><span class="math display">\[\begin{equation}E = mc^2\label{eq:einstein}\end{equation}\]</span></p><p>ç°åœ¨åœ¨æ­£æ–‡ä¸­å¼•ç”¨å®ƒï¼šå¼ <spanclass="math inline">\(\eqref{eq:einstein}\)</span>æ˜¯è‘—åçš„è´¨èƒ½æ–¹ç¨‹ã€‚</p><h2 id="å¤šè¡Œ-align-ç¯å¢ƒ">3. å¤šè¡Œ align ç¯å¢ƒ + + </h2><p>æµ‹è¯•å¤šè¡Œå¯¹é½çš„æ¨å¯¼è¿‡ç¨‹ï¼Œå¹¶ä¸”å¯¹å…¶ä¸­ä¸€è¡Œæ·»åŠ  <code>\tag</code>ï¼š <spanid="eq:J"></span> <span class="math display">\[\begin{align}J(\theta)  &amp;= \mathbb{E}_{s \sim d^\pi,\, a \sim \pi_\theta}     \bigl[ r(s,a) \bigr] \label{eq:obj} \\[4pt]\nabla_\theta J(\theta)  &amp;= \mathbb{E}_{s \sim d^\pi,\, a \sim \pi_\theta}     \Bigl[ \nabla_\theta \log \pi_\theta(a \mid s)\, Q^\pi(s,a) \Bigr]     \label{eq:pg-basic} \\[4pt]  &amp;= \mathbb{E}_{s \sim d^\pi}     \Bigl[ \sum_a \nabla_\theta \pi_\theta(a \mid s)\, Q^\pi(s,a)\Bigr]     \tag{PG*} \label{eq:pg-tag}\end{align}\]</span></p><p>ä¸Šé¢æˆ‘ä»¬ç»™äº†ä¸‰ä¸ªå…¬å¼ç¼–å·ï¼š</p><ul><li>ç›®æ ‡å‡½æ•°ï¼šå¼ <spanclass="math inline">\(\eqref{eq:obj}\)</span>ï¼›</li><li>åŸºæœ¬å½¢å¼çš„ç­–ç•¥æ¢¯åº¦ï¼šå¼ <spanclass="math inline">\(\eqref{eq:pg-basic}\)</span>ï¼›</li><li>å¸¦è‡ªå®šä¹‰æ ‡ç­¾çš„é‚£ä¸€è¡Œï¼šå¼ <spanclass="math inline">\(\eqref{eq:pg-tag}\)</span>ï¼Œå…¶æ˜¾å¼ç¼–å·ä¸º<code>(PG*)</code>ã€‚è§å…¬å¼ <a href="#eq:J">(2)</a>ã€‚</li></ul><h2 id="æ›´å¤æ‚çš„ç¬¦å·ä¸çŸ©é˜µ">4. æ›´å¤æ‚çš„ç¬¦å·ä¸çŸ©é˜µ</h2><p>å†æµ‹è¯•å¸Œè…Šå­—æ¯ã€é›†åˆã€çŸ©é˜µç­‰ï¼š</p><p>è¡Œå†…æµ‹è¯•ï¼š<span class="math inline">\(\forall \epsilon &gt; 0,\\exists \delta &gt; 0\)</span>ï¼Œ<br />ä½¿å¾—å½“ <span class="math inline">\(0 &lt; \lVert x - x^\ast \rVert &lt;\delta\)</span> æ—¶ï¼Œæœ‰ <span class="math inline">\(\lVert f(x) -f(x^\ast) \rVert &lt; \epsilon\)</span>ã€‚</p><p>è¡Œé—´çŸ©é˜µï¼š</p><p><span class="math display">\[\begin{equation}A =\begin{bmatrix}  1      &amp; 0      &amp; \cdots &amp; 0 \\  0      &amp; 1      &amp; \cdots &amp; 0 \\  \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\  0      &amp; 0      &amp; \cdots &amp; 1\end{bmatrix}, \quad\boldsymbol{b} =\begin{bmatrix}  b_1 \\ b_2 \\ \vdots \\ b_n\end{bmatrix}.\label{eq:matrix}\end{equation}\]</span></p><p>çŸ©é˜µ <span class="math inline">\(A\)</span> å’Œå‘é‡ <spanclass="math inline">\(\boldsymbol{b}\)</span> çš„å®šä¹‰å¦‚å¼ <spanclass="math inline">\(\eqref{eq:matrix}\)</span> æ‰€ç¤ºã€‚</p><h2 id="åˆ†æ®µå‡½æ•°ä¸æ¡ä»¶æ¦‚ç‡">5. åˆ†æ®µå‡½æ•°ä¸æ¡ä»¶æ¦‚ç‡</h2><p>æœ€åæµ‹è¯•åˆ†æ®µå‡½æ•°å’Œæ¦‚ç‡ç¬¦å·ï¼š</p><p><span class="math display">\[\begin{equation}p(x) =\begin{cases}\lambda e^{-\lambda x}, &amp; x \ge 0, \\0,                       &amp; x &lt; 0,\end{cases}\quad \lambda &gt; 0.\label{eq:exp}\end{equation}\]</span></p><p>æ¡ä»¶æ¦‚ç‡ç¤ºä¾‹ï¼š</p><p><span class="math display">\[\begin{equation}\mathbb{P}(A \mid B) = \frac{\mathbb{P}(A \cap B)}{\mathbb{P}(B)},\qquad \mathbb{P}(B) &gt; 0.\label{eq:cond-prob}\end{equation}\]</span></p><p>åœ¨æ­£æ–‡ä¸­å†æ¬¡å¼•ç”¨å¼ <spanclass="math inline">\(\eqref{eq:exp}\)</span> å’Œå¼ <spanclass="math inline">\(\eqref{eq:cond-prob}\)</span>ï¼Œç¡®è®¤äº¤å‰å¼•ç”¨æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p><h2 id="section">6.</h2><ul><li><p>ç”¨ <code>Markdown</code> / <code>HTML</code>åšä¸ªé”šç‚¹ï¼Œä¼ªè£…æˆå¯å¼•ç”¨å…¬å¼ <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;eq:newton&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br>$$<br>F = ma \tag&#123;1&#125;<br>$$<br><br>åœ¨æ–‡ä¸­è¿™æ ·å†™ï¼šè§å…¬å¼ [<span class="hljs-string">(1)</span>](<span class="hljs-link">#eq:newton</span>)ã€‚<br><br></code></pre></td></tr></table></figure></p><p>æ¸²æŸ“æ•ˆæœå¦‚ä¸‹</p><p><span id="eq:newton"></span> <span class="math display">\[F = ma \tag{1}\]</span> åœ¨æ–‡ä¸­è¿™æ ·å†™ï¼šè§å…¬å¼ <a href="#eq:newton">(1)</a>ã€‚</p></li></ul><hr /><p>å¦‚æœæœ¬é¡µæ‰€æœ‰å…¬å¼ï¼ˆè¡Œå†…ã€è¡Œé—´ã€å¤šè¡Œ alignã€ã€è‡ªå®šä¹‰ +ï¼‰éƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œ<br />è¯´æ˜ä½ çš„ <strong>pandoc + MathJax + Fluid é…ç½®å·²ç»å®Œå…¨ OK</strong>äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
      <tag>pandoc</tag>
      
      <tag>MathJax</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo ç³»åˆ— - 2. æ­å»ºç½‘ç«™å¹¶å®‰è£… Fluid ä¸»é¢˜</title>
    <link href="/2025/11/15/HEXO/hexo_2/"/>
    <url>/2025/11/15/HEXO/hexo_2/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ©ç”¨-hexo-å»ºç«™">1. åˆ©ç”¨ hexo å»ºç«™</h1><p>åœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init &lt;folder&gt; <span class="hljs-comment"># 1. åœ¨å½“å‰è·¯å¾„ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ &lt;folder&gt;</span><br>                   <span class="hljs-comment"># å¹¶åœ¨ &lt;folder&gt; ä¸­åˆå§‹åŒ– hexo é¡¹ç›®</span><br><span class="hljs-built_in">cd</span> &lt;folder&gt;        <span class="hljs-comment"># 2. è¿›å…¥ hexo é¡¹ç›®æ–‡ä»¶å¤¹ &lt;folder&gt;</span><br>npm install        <span class="hljs-comment"># 3. åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­å®‰è£… hexo å¼•æ“</span><br></code></pre></td></tr></table></figure></p><p>æ‰§è¡Œ <code>hexo init myblog</code> åï¼Œæ–‡ä»¶å¤¹ç›®å½•å¦‚ä¸‹<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs nix">MYBLOG<br>â”œâ”€â”€ .github<span class="hljs-symbol">/</span>                 <span class="hljs-comment"># ï¼ˆå¯é€‰ï¼‰GitHub ç›¸å…³é…ç½®</span><br>â”œâ”€â”€ node_modules<span class="hljs-symbol">/</span>            <span class="hljs-comment"># npm å®‰è£…çš„æ‰€æœ‰ä¾èµ–åŒ…</span><br>    â””â”€â”€ hexo-theme-landscape<span class="hljs-symbol">/</span>   â† ä¸»é¢˜å®Œæ•´ä»£ç <br>â”œâ”€â”€ scaffolds<span class="hljs-symbol">/</span>               <span class="hljs-comment"># æ–°å»ºæ–‡ç« /é¡µé¢çš„æ¨¡æ¿</span><br>â”‚   â”œâ”€â”€ draft.md<br>â”‚   â”œâ”€â”€ page.md<br>â”‚   â””â”€â”€ post.md<br>â”œâ”€â”€ source<span class="hljs-symbol">/</span>                  <span class="hljs-comment"># ä½ çœŸæ­£å†™å†…å®¹çš„åœ°æ–¹</span><br>â”‚   â””â”€â”€ _posts<span class="hljs-symbol">/</span>              <span class="hljs-comment"># åšæ–‡ç›®å½•ï¼ˆæ–‡ç« éƒ½æ”¾è¿™é‡Œï¼‰</span><br>â”‚       â””â”€â”€ hello-world.md   <span class="hljs-comment"># ç¤ºä¾‹æ–‡ç« </span><br>â”œâ”€â”€ themes<span class="hljs-symbol">/</span>                  <span class="hljs-comment"># ä¸»é¢˜ç›®å½•ï¼ˆæ¯ä¸ªä¸»é¢˜ä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼‰</span><br>â”‚   â””â”€â”€ .gitkeep             <span class="hljs-comment"># å ä½æ–‡ä»¶ï¼Œä¿è¯ themes ç›®å½•èƒ½è¢« git æäº¤</span><br>â”œâ”€â”€ .gitignore               <span class="hljs-comment"># Git è¦å¿½ç•¥çš„æ–‡ä»¶/æ–‡ä»¶å¤¹</span><br>â”œâ”€â”€ _config.yml              <span class="hljs-comment"># ç«™ç‚¹çš„ä¸»é…ç½®æ–‡ä»¶ï¼ˆæœ€é‡è¦ï¼‰</span><br>â”œâ”€â”€ _config.landscape.yml    <span class="hljs-comment"># landscape ä¸»é¢˜çš„ä¸“ç”¨é…ç½®ï¼ˆæŒ‰ä¸»é¢˜å‘½åï¼‰</span><br>â”œâ”€â”€ package-lock.json        <span class="hljs-comment"># é”å®šä¾èµ–å…·ä½“ç‰ˆæœ¬</span><br>â””â”€â”€ package.json             <span class="hljs-comment"># é¡¹ç›®ä¿¡æ¯ &amp; npm ä¾èµ– &amp; å¸¸ç”¨è„šæœ¬</span><br></code></pre></td></tr></table></figure></p><h2 id="åšå®¢å†…å®¹">1.1 åšå®¢å†…å®¹</h2><ul><li><code>source/_posts/</code><ul><li>æ˜¯é»˜è®¤çš„æ–‡ç« ç›®å½•</li><li>é™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º <code>_</code> (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ /æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚ Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ°public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚</li><li>ä¹‹åå†™çš„åšå®¢æ–‡ç«  <code>.md</code> éƒ½æ”¾åœ¨è¿™é‡Œã€‚</li><li><code>hexo new "my-first-post"</code> ä¼šè‡ªåŠ¨åœ¨<code>source/_posts/</code> ä¸‹é¢ç”Ÿæˆä¸€ä¸ª<code>my-first-post.md</code><br /></li><li><code>Hexo</code> ä¼šæŠŠ <code>source</code>é‡Œçš„å†…å®¹â€œç¼–è¯‘â€æˆé™æ€ç½‘é¡µè¾“å‡ºåˆ° <code>public</code>/ï¼ˆæ‰§è¡Œ<code>hexo g</code> åæ‰ä¼šå‡ºç° <code>public</code> ç›®å½•ï¼‰</li></ul></li><li><code>scaffolds/</code><ul><li>åšå®¢æ¨¡æ¿ç›®å½•ï¼Œæ–°å»ºæ–‡ç« /é¡µé¢æ—¶ç”¨çš„â€œåˆå§‹æ¨¡æ¿â€ã€‚</li><li>post.mdï¼šä½¿ç”¨ <code>hexo new post</code> åˆ›å»º â€œæ ‡é¢˜â€ æ—¶çš„æ¨¡æ¿</li><li>page.mdï¼šä½¿ç”¨ <code>hexo new page</code> åˆ›å»º â€œaboutâ€ æ—¶çš„æ¨¡æ¿</li><li>draft.mdï¼šä½¿ç”¨ <code>hexo new draft</code> åˆ›å»º â€œè‰ç¨¿æ ‡é¢˜â€æ—¶çš„æ¨¡æ¿</li><li>å¯ä»¥æ”¹è¿™äº›æ–‡ä»¶ï¼Œè®©æ¯ç¯‡æ–°æ–‡ç« è‡ªåŠ¨å¸¦ä¸Šå›ºå®šçš„front-matterï¼ˆæ¯”å¦‚ä½œè€…ã€åˆ†ç±»ç­‰ï¼‰ã€‚</li></ul></li></ul><h2 id="è®¾ç½®">1.2 è®¾ç½®</h2><ul><li><p><code>_config.yml</code>ï¼šæ•´ä¸ªç«™ç‚¹çš„ä¸»é…ç½®æ–‡ä»¶ã€‚åŒ…æ‹¬ï¼š</p><ul><li><p>ç«™ç‚¹æ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€è¯­è¨€</p></li><li><p>URLã€permalink ç»“æ„</p></li><li><p>ä¸»é¢˜</p></li><li><p>Markdown / éƒ¨ç½²ç­‰é…ç½®</p></li><li><p>Hexo ç›¸å…³è®¾ç½®</p></li></ul></li><li><p><code>_config.landscape.yml</code>ï¼šå’Œä¸»é¢˜åå­—å¯¹åº”çš„ä¸»é¢˜é…ç½®æ–‡ä»¶</p><ul><li><p>æ˜¯ <code>Hexo</code> çš„ä¸€ç§â€œæŒ‰ä¸»é¢˜æ‹†åˆ†é…ç½®â€çš„å†™æ³•ã€‚</p></li><li><p>ä½¿ç”¨ <code>theme: landscape</code> æ—¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šä½œä¸º<code>landscape</code> ä¸»é¢˜çš„é…ç½®ç”Ÿæ•ˆã€‚</p></li><li><p>æ¢æˆ <code>Fluid</code> ä¸»é¢˜æ—¶ï¼Œå¯ä»¥ä¹Ÿæä¸€ä¸ª<code>_config.fluid.yml</code>ã€‚</p></li></ul></li><li><p><code>node_modules/</code></p><ul><li><code>npm</code> å®‰è£…çš„æ‰€æœ‰ä¾èµ–åŒ…éƒ½åœ¨è¿™é‡Œï¼ˆhexoæ ¸å¿ƒã€æ’ä»¶ã€ä¸»é¢˜ä¾èµ–ç­‰ï¼‰ã€‚</li><li>éå¸¸å¤§ä½†ä¸ç”¨ç®¡ï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</li><li>ä¸€èˆ¬ä¸ä¼šæäº¤åˆ° gitï¼ˆè¢« .gitignore å¿½ç•¥ï¼‰ã€‚</li></ul></li><li><p><code>package.json</code></p><ul><li><p>é¡¹ç›®çš„â€œè¯´æ˜ä¹¦ + ä¾èµ–æ¸…å•â€ã€‚</p></li><li><p>å†…å®¹åŒ…æ‹¬ï¼š</p><ul><li><p>â€œscriptsâ€ï¼šç»™ Hexo å‘½ä»¤èµ·åˆ«å <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  # æŠŠ source/ çš„å†…å®¹ç¼–è¯‘åè¾“å‡ºåˆ° public/ ç›®å½•<br>  <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hexo generate&quot;</span><span class="hljs-punctuation">,</span><br>  # æ¸…ç†ç¼“å­˜å’Œ public/ è¾“å‡ºç›®å½•ï¼Œé‡åˆ°å¥‡æ€ªé—®é¢˜æ—¶é‡ç½®<br>  <span class="hljs-attr">&quot;clean&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hexo clean&quot;</span><span class="hljs-punctuation">,</span><br>  # æŠŠç”Ÿæˆå¥½çš„ public/ éƒ¨ç½²åˆ°è¿œç«¯ï¼ˆä¾‹å¦‚ GitHub Pagesï¼‰ã€‚<br>  # å…·ä½“æ€ä¹ˆéƒ¨ç½²ï¼Œè¦é…ç½® _config.yml é‡Œçš„ deploy<br>  <span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hexo deploy&quot;</span><span class="hljs-punctuation">,</span><br>  # å¯åŠ¨æœ¬åœ°é¢„è§ˆæœåŠ¡å™¨ï¼Œé»˜è®¤åœ°å€ http<span class="hljs-punctuation">:</span><span class="hljs-comment">//localhost:4000</span><br>  <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hexo server&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure> npm run build = hexogenerate npm run clean = hexo clean npm run deploy = hexo deploy npm runserver = hexo server</p></li><li><p>dependenciesï¼šä¾èµ–å“ªäº› npm åŒ… <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;dependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <br>  # Hexo çš„æ ¸å¿ƒå¼•æ“<br>  <span class="hljs-attr">&quot;hexo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^8.0.0&quot;</span><span class="hljs-punctuation">,</span><br>  # ç”Ÿæˆå™¨ï¼ˆgeneratorsï¼‰ï¼šè´Ÿè´£ç”Ÿæˆä¸åŒé¡µé¢ç±»å‹<br>  <span class="hljs-attr">&quot;hexo-generator-archive&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  <span class="hljs-attr">&quot;hexo-generator-category&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  <span class="hljs-attr">&quot;hexo-generator-index&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^4.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  <span class="hljs-attr">&quot;hexo-generator-tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  # æ¸²æŸ“å™¨ï¼ˆrenderersï¼‰ï¼šæŠŠæ¨¡æ¿/Markdown/CSS å˜æˆæœ€ç»ˆç½‘é¡µ<br>  <span class="hljs-attr">&quot;hexo-renderer-ejs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  <span class="hljs-attr">&quot;hexo-renderer-marked&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^7.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  <span class="hljs-attr">&quot;hexo-renderer-stylus&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^3.0.1&quot;</span><span class="hljs-punctuation">,</span> <br>  # Hexo è‡ªå¸¦çš„æœ¬åœ°é¢„è§ˆæœåŠ¡å™¨ï¼šhexo server / hexo s å°±é å®ƒã€‚<br>  <span class="hljs-attr">&quot;hexo-server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^3.0.0&quot;</span><span class="hljs-punctuation">,</span> <br>  # é»˜è®¤è‡ªå¸¦çš„ä¸»é¢˜ landscape<br>  <span class="hljs-attr">&quot;hexo-theme-landscape&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^1.0.0&quot;</span> <br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></p></li></ul></li></ul></li></ul><h2 id="ä¸»é¢˜">1.3 ä¸»é¢˜</h2><ul><li><code>themes/</code>ï¼šæ¯ä¸ªä¸»é¢˜ä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼Œå¦‚<code>themes/landscape</code>ã€‚<ul><li><p>ç°åœ¨åªæœ‰ä¸€ä¸ª .gitkeepå ä½æ–‡ä»¶ï¼Œè¯´æ˜æ²¡æœ‰çœŸæ­£çš„ä¸»é¢˜æ–‡ä»¶å¤¹ã€‚</p></li><li><p><code>_config.yml</code> é…ç½®äº†<code>theme: landscape</code>ï¼Œ<code>Hexo</code> éœ€è¦åˆ¤æ–­</p><ul><li><p>æœ‰ <code>themes/landscape/</code> â†’ ç”¨è¿™ä»½ï¼ˆæœ¬åœ°ä¸»é¢˜ï¼‰</p></li><li><p>æ²¡æœ‰ <code>themes/landscape/</code> â†’ ç”¨ npm å®‰è£…çš„<code>node_modules/hexo-theme-landscape/</code></p></li><li><p>ä¼˜å…ˆçº§ï¼š<code>æœ¬åœ°ä¸»é¢˜</code> &gt;<code>npm å®‰è£…çš„ä¸»é¢˜</code></p></li><li><p><code>node_modules</code>é‡Œçš„ä¸»é¢˜å½“ä½œâ€œä¾èµ–åŒ…â€ï¼Œä¸è¦ç›´æ¥æ”¹ï¼Œé¿å…ä»¥å <code>npm install</code>è¦†ç›–ä½ çš„ä¿®æ”¹ã€‚</p></li></ul></li></ul></li></ul><h2 id="git-ç›¸å…³">1.4 Git ç›¸å…³</h2><ul><li><p><code>.gitignore</code> å‘Šè¯‰ <code>Git</code>å“ªäº›æ–‡ä»¶ä¸è¦æäº¤ï¼Œæ¯”å¦‚ï¼š</p><ul><li><p><code>node_modules/</code></p></li><li><p><code>public/</code></p></li></ul><p>ä¸»è¦ä½œç”¨æ˜¯é¿å…ä»“åº“å˜å¾—åˆå¤§åˆä¹±ã€‚</p></li><li><p><code>.github/</code></p><p>ä¸“é—¨æä¾›ç»™ <code>GitHub</code> ä½¿ç”¨çš„é…ç½®ç›®å½•ï¼Œæ¯”å¦‚ï¼š</p><ul><li><p><code>GitHub Actions</code> å·¥ä½œæµ</p></li><li><p><code>issue</code> æ¨¡æ¿ç­‰</p></li></ul><p>å¯¹ <code>Hexo</code> æœ¬èº«æ²¡å½±å“ï¼Œæœ‰éœ€è¦å†ç”¨å³å¯ã€‚</p></li></ul><h1 id="æ›´æ¢-hexo-é»˜è®¤ä¸»é¢˜ä¸º-fluid-ä¸»é¢˜">2. æ›´æ¢ Hexo é»˜è®¤ä¸»é¢˜ä¸º Fluidä¸»é¢˜</h1><h2 id="å®‰è£…-fluid-ä¸»é¢˜">2.1 å®‰è£… Fluid ä¸»é¢˜</h2><p>å®‰è£… Fluid ä¸»é¢˜çš„ npm åŒ… <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure> ä¼šåœ¨<code>node_modules/hexo-theme-fluid/</code> æ–‡ä»¶ä¸­å®‰è£… Fluidä¸»é¢˜çš„ä»£ç ã€‚</p><p>æ›´æ–°ä¸»é¢˜ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm update --save hexo-theme-fluid<br></code></pre></td></tr></table></figure> ## 2.2 é…ç½® Fluid ä¸»é¢˜ ç„¶ååœ¨<code>_config.yml</code> é‡Œæ”¹ï¼š <figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">theme:</span> fluid     <span class="hljs-meta"># æŒ‡å®šä¸»é¢˜</span><br><span class="hljs-symbol">language:</span> <span class="hljs-built_in">zh</span>-CN  <span class="hljs-meta"># æŒ‡å®šè¯­è¨€</span><br></code></pre></td></tr></table></figure> é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºç©ºçš„<code>_config.fluid.yml</code>ï¼Œä½œä¸º Fluid ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚</p><h2 id="åˆ›å»ºå…³äºé¡µé¢">2.3 åˆ›å»ºâ€œå…³äºâ€é¡µé¢</h2><ul><li>æ‰§è¡Œ <code>hexo new page about</code> ä¼šåœ¨<code>source/about/</code> ä¸‹åˆ›å»ºä¸€ä¸ª <code>about.md</code> æ–‡ä»¶ã€‚</li><li>ç¼–è¾‘ <code>about.md</code>ï¼Œæ·»åŠ  front-matterï¼š <figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">title:</span> å…³äº<br><span class="hljs-symbol">layout:</span> about<br></code></pre></td></tr></table></figure></li></ul><h1 id="æœ¬åœ°å‘å¸ƒå¹¶è®¿é—®">3. æœ¬åœ°å‘å¸ƒå¹¶è®¿é—®</h1><p>è¿›è¡Œ Hexo ä¸‰ä»¶å¥—å°±å¯ä»¥æœ¬åœ°å‘å¸ƒå¹¶è®¿é—® <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo clean<br>hexo <span class="hljs-selector-tag">g</span><br>hexo s<br></code></pre></td></tr></table></figure></p><h1 id="éƒ¨ç½²åˆ°-github-pages">4. éƒ¨ç½²åˆ° GitHub Pages</h1><p>github å»ºç«‹ä¸€ä¸ªç©ºé¡¹ç›®</p><p>æ³¨æ„ï¼Œéƒ¨ç½²åˆ° GitHub Pages æ—¶ï¼Œéœ€è¦åœ¨ <code>_config.yml</code>é‡Œé…ç½®ï¼š <figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> https:<span class="hljs-comment">//github.com/yourusername/yourusername.github.io.git</span><br><span class="hljs-symbol">  branch:</span> master<br></code></pre></td></tr></table></figure> å¹¶ä¸”éœ€è¦å®‰è£… <code>hexo-deployer-git</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-deployer-git<br></code></pre></td></tr></table></figure></p><p>æœ¬åœ°git å…‹éš†githubç©ºé¡¹ç›®</p><p>ç„¶åæ‰§è¡Œéƒ¨ç½²ä¸‰ä»¶å¥— <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo clean<br>hexo <span class="hljs-selector-tag">g</span><br>hexo d<br></code></pre></td></tr></table></figure></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo ç³»åˆ— - 1. å®‰è£…</title>
    <link href="/2025/11/14/HEXO/hexo_1/"/>
    <url>/2025/11/14/HEXO/hexo_1/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…-node.js">1. å®‰è£… <code>Node.js</code></h1><ul><li>å‰å¾€ <code>Node.js</code> å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼Œæ ¹æ®æç¤ºå®‰è£…å³å¯ã€‚</li><li>å®‰è£… <code>Node.js</code> ä¹‹åï¼Œ<code>npm</code>ä¼šä¸€èµ·å®‰è£…å¥½ã€‚ä¸¤è€…å…³ç³»å¯ä»¥ç®€å•ç†è§£æˆï¼š<ul><li><code>Node.js</code> = è¿è¡Œç¯å¢ƒï¼ˆè®©ä½ èƒ½åœ¨æœ¬æœºè¿è¡Œ JavaScriptçš„â€œå¼•æ“â€ï¼‰</li><li><code>npm</code> = åŒ…ç®¡ç†å™¨ï¼ˆç”¨æ¥å®‰è£… / æ›´æ–° / ç®¡ç† å„ç§ JavaScript/ Node çš„ç¬¬ä¸‰æ–¹åº“ï¼‰</li><li>å°±åƒï¼šPythonï¼ˆè§£é‡Šå™¨ï¼‰ + pipï¼ˆåŒ…ç®¡ç†å™¨ï¼‰</li></ul></li><li>å®‰è£…åï¼Œæ£€æŸ¥ç‰ˆæœ¬å·ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">node -v<br>npm -v<br></code></pre></td></tr></table></figure> å‘½ä»¤è¡Œè¾“å‡ºç‰ˆæœ¬å·è¯´æ˜å®‰è£…æˆåŠŸ</li><li>ä¸ŠåæŒ‡ä»¤ä¹‹æ‰€ä»¥ä¼šåœ¨å‘½ä»¤è¡ŒæˆåŠŸæ‰§è¡Œï¼Œæ˜¯å› ä¸º<ul><li><code>PATH</code> é‡Œæ·»åŠ äº† <code>Node</code> çš„å®‰è£…ç›®å½•ï¼š<code>C:\Program Files\nodejs\</code></li><li><code>PATH</code> é‡Œæ·»åŠ äº† <code>npm</code>çš„å®‰è£…ç›®å½•ï¼š<code>%APPDATA%\npm</code> =<code>C:\Users\XXX\AppData\Roaming\npm</code></li></ul></li></ul><h1 id="å®‰è£…-git">2. å®‰è£… git</h1><p>å®‰è£… git è¿™é‡Œä¸å†èµ˜è¿°ï¼Œå®‰è£…å®Œ git åï¼Œæ£€æŸ¥ç‰ˆæœ¬å·ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git --version<br></code></pre></td></tr></table></figure>å‘½ä»¤è¡Œè¾“å‡ºç‰ˆæœ¬å·è¯´æ˜å®‰è£…æˆåŠŸ</p><p>æ¥ä¸‹æ¥éœ€è¦è®© npm è¯†åˆ« gitï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-deployer-git<br></code></pre></td></tr></table></figure>å‘½ä»¤è¡Œæ— æŠ¥é”™è¯´æ˜å®‰è£…æˆåŠŸ</p><h1 id="åˆ©ç”¨-npm-å®‰è£…-hexo">3. åˆ©ç”¨ <code>npm</code> å®‰è£…<code>Hexo</code></h1><p>æ³¨æ„ä»¥ä¸‹ä¸¤ç§å®‰è£…æ–¹å¼çš„åŒºåˆ«</p><p>ğŸ” å…¨å±€å®‰è£… <code>npm install -g hexo-cli</code></p><ul><li><p><code>-g</code>ï¼šå…¨å±€å®‰è£…ï¼ˆglobalï¼‰</p></li><li><p>å®‰è£…çš„åŒ…ï¼š<code>hexo-cli</code>ï¼Œä¹Ÿå°±æ˜¯ <code>hexo</code>çš„â€œå‘½ä»¤è¡Œå·¥å…·â€</p></li><li><p>ä½œç”¨ï¼šåœ¨ç³»ç»Ÿé‡Œå®‰è£…ä¸€ä¸ªå…¨å±€çš„ <code>hexo</code>å‘½ä»¤ï¼Œä¹‹å<strong>åœ¨ä»»æ„ç›®å½•</strong>éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init<br>hexo new<br>hexo g<br>hexo s<br></code></pre></td></tr></table></figure></p><p>è¿™ç›¸å½“äºè£…äº†ä¸€ä¸ªâ€œHexo å¯åŠ¨å™¨â€ã€‚</p></li></ul><p>ğŸ” æœ¬åœ°å®‰è£… <code>npm install hexo</code></p><ul><li><p>æ²¡æœ‰ <code>-g</code>ï¼šæœ¬åœ°å®‰è£…ï¼ˆåªè£…åœ¨å½“å‰ç›®å½•çš„ node_modulesä¸‹ï¼‰</p></li><li><p>å®‰è£…çš„åŒ…ï¼š<code>hexo</code> æ ¸å¿ƒå¼•æ“ï¼ˆç”Ÿæˆåšå®¢çš„çœŸæ­£åº“ï¼‰</p></li><li><p>ä½œç”¨ï¼šç»™å½“å‰åšå®¢é¡¹ç›®ç›®å½• <code>myblog</code> å®‰è£… Hexoä½œä¸ºä¾èµ–ã€‚æ¥ä¸‹æ¥ï¼Œåªèƒ½åœ¨åšå®¢é¡¹ç›®ç›®å½• <code>myblog</code> è¿è¡Œï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo<br></code></pre></td></tr></table></figure> åšå®¢é¡¹ç›®ç›®å½• <code>myblog</code> ä¼šæœ‰ï¼š</p><ul><li><code>node_modules/hexo</code> æ–‡ä»¶å¤¹</li><li><code>package.json</code> æ–‡ä»¶</li></ul><p>åšå®¢é¡¹ç›®ç›®å½• <code>myblog</code> çš„ <code>hexo</code>ä¼˜å…ˆçº§ä¼šé«˜äºå…¨å±€çš„ hexo-cli ã€‚</p></li></ul><p>âœ… æ­å»ºåšå®¢æ—¶ - å…¨å±€å®‰è£…hexo-cliï¼š<code>npm install -g hexo-cli</code> - åé¢ä½¿ç”¨<code>hexo</code> åˆå§‹åŒ–åšå®¢é¡¹ç›®ç›®å½• <code>myblog</code>æ—¶ï¼Œä¹Ÿä¼šåœ¨åšå®¢é¡¹ç›®ç›®å½• <code>myblog</code> ä¸‹åˆ›å»º -<code>node_modules/hexo</code> æ–‡ä»¶å¤¹ - <code>package.json</code>æ–‡ä»¶</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LaTex ç³»åˆ— - 4. TikZ ç»˜å›¾</title>
    <link href="/2025/11/14/Latex/latex_4-Tikz-2025-11-14/"/>
    <url>/2025/11/14/Latex/latex_4-Tikz-2025-11-14/</url>
    
    <content type="html"><![CDATA[<p>LaTex ä¸­ä¸ºäº†å±•ç¤ºä¸€ä¸ªå›¾ç‰‡ï¼Œéœ€è¦ä½¿ç”¨ <code>\includegraphics</code>å‘½ä»¤ï¼Œå…·ä½“åšæ³•å¦‚ä¸‹ï¼š - ç¼–å†™ matlab/python ä»£ç ç»˜åˆ¶æ›²çº¿ - ä¿å­˜å›¾ç‰‡ä¸º pdfæ ¼å¼ï¼ŒæŒ‰ç…§LaTexæ–‡æ¡£è¦æ±‚æ”¾ç½®åˆ°æŒ‡å®šè·¯å¾„ - åœ¨ LaTex æ–‡æ¡£ä¸­ä½¿ç”¨<code>\includegraphics</code> å‘½ä»¤å¼•å…¥å›¾ç‰‡</p><p>è¿™ç§æ–¹å¼å¯ä»¥åœ¨ LaTexæ–‡æ¡£ä¸­å±•ç¤ºå›¾ç‰‡ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå›¾ç‰‡çš„å¤§å°å’Œä½ç½®éœ€è¦æ‰‹åŠ¨è°ƒæ•´ï¼Œå¦åˆ™ä¼šå½±å“æ–‡æ¡£çš„å¸ƒå±€ã€‚</p><p>è¿™é‡Œä»‹ç»ä¸€ä¸ªä¾¿æ·çš„å·¥å…· â€“ TikZ</p><p>ä¸‹é¢é€šè¿‡å‡ ä¸ªä¾‹å­å±•ç¤ºå¦‚ä½•ä½¿ç”¨ TikZ ç»˜å›¾ã€‚</p><h2 id="ä¾‹-1">ä¾‹ 1</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\begin</span>&#123;tikzpicture&#125;[&gt;=stealth, scale=1]<br>  <span class="hljs-comment">% å¼€å§‹ tikzpicture ç¯å¢ƒã€‚</span><br>  <span class="hljs-comment">% é€‰é¡¹ï¼š</span><br>  <span class="hljs-comment">%   &gt;=stealth  è¡¨ç¤ºä¹‹åæ‰€æœ‰çš„ç®­å¤´ (-&gt;) é»˜è®¤ä½¿ç”¨ â€œstealthâ€ ç®­å¤´æ ·å¼ï¼›</span><br>  <span class="hljs-comment">%   scale=1    å›¾å½¢æ•´ä½“ç¼©æ”¾æ¯”ä¾‹ä¸º 1ï¼ˆå³ä¸ç¼©æ”¾ï¼‰ã€‚</span><br><br>  <span class="hljs-comment">% åæ ‡è½´</span><br>  <span class="hljs-keyword">\draw</span>[-&gt;] (0,0) -- (5,0) node[below] &#123;<span class="hljs-built_in">$</span>t<span class="hljs-built_in">$</span>&#125;;<br>  <span class="hljs-comment">% ç”»æ¨ªè½´ï¼š</span><br>  <span class="hljs-comment">%   ä»åæ ‡ (0,0) ç”»åˆ° (5,0)ï¼Œå¹¶åœ¨ç»ˆç‚¹åŠ ä¸€ä¸ªç®­å¤´ï¼ˆå› ä¸ºä½¿ç”¨äº† -&gt;ï¼‰ã€‚</span><br>  <span class="hljs-comment">%   åœ¨ç»ˆç‚¹ (5,0) ä¸Šé™„ç€ä¸€ä¸ª nodeï¼Œä½ç½®åœ¨ belowï¼ˆçº¿æ®µä¸‹æ–¹ï¼‰ï¼Œå†…å®¹ä¸º tï¼Œ</span><br>  <span class="hljs-comment">%   ä½œä¸ºæ¨ªè½´æ ‡ç­¾ã€‚</span><br><br>  <span class="hljs-keyword">\draw</span>[-&gt;] (0,-2.2) -- (0,2.8) node[left] &#123;<span class="hljs-built_in">$</span>x(t)<span class="hljs-built_in">$</span>&#125;;<br>  <span class="hljs-comment">% ç”»çºµè½´ï¼š</span><br>  <span class="hljs-comment">%   ä» (0,-2.2) ç”»åˆ° (0,2.8)ï¼Œåœ¨é¡¶éƒ¨åŠ ç®­å¤´ã€‚</span><br>  <span class="hljs-comment">%   åœ¨ç»ˆç‚¹å¤„åŠ ä¸€ä¸ª nodeï¼Œä½ç½®åœ¨ leftï¼ˆçº¿æ®µå·¦ä¾§ï¼‰ï¼Œå†…å®¹ä¸º x(t)ï¼Œ</span><br>  <span class="hljs-comment">%   ä½œä¸ºçºµè½´æ ‡ç­¾ã€‚</span><br><br>  <span class="hljs-keyword">\draw</span>[dashed,gray] (0,0) -- (5,0);<br>  <span class="hljs-comment">% ç”»ä¸€æ¡ç°è‰²è™šçº¿ï¼š</span><br>  <span class="hljs-comment">%   ä» (0,0) åˆ° (5,0)ï¼Œä¸æ¨ªè½´é‡åˆï¼Œç”¨æ¥è¡¨ç¤º x(t)=0 è¿™æ¡â€œé›¶çº¿â€ã€‚</span><br><br>  <span class="hljs-comment">% ç”¨å…¬å¼ x(t) = 2.4 e^&#123;-t&#125; ç”»ä¸€æ¡è½¨è¿¹</span><br>  <span class="hljs-keyword">\draw</span>[thick,blue, domain=0:5, samples=100]<br>    plot (<span class="hljs-keyword">\x</span>,&#123;2.4*exp(-<span class="hljs-keyword">\x</span>)&#125;);<br>  <span class="hljs-comment">% ç”»ç¬¬ä¸€æ¡æ›²çº¿ï¼š</span><br>  <span class="hljs-comment">%   çº¿æ¡æ ·å¼ï¼š</span><br>  <span class="hljs-comment">%     thick  åŠ ç²—ï¼›</span><br>  <span class="hljs-comment">%     blue   è“è‰²ï¼›</span><br>  <span class="hljs-comment">%     domain=0:5   è‡ªå˜é‡ \x çš„å–å€¼èŒƒå›´æ˜¯ 0 åˆ° 5ï¼›</span><br>  <span class="hljs-comment">%     samples=100  åœ¨åŒºé—´ [0,5] ä¸Šå– 100 ä¸ªé‡‡æ ·ç‚¹æ¥è¿‘ä¼¼è¿™æ¡æ›²çº¿ã€‚</span><br>  <span class="hljs-comment">%   plot (\x,&#123;2.4*exp(-\x)&#125;)ï¼š</span><br>  <span class="hljs-comment">%     TikZ è‡ªåŠ¨æŠŠ \x å½“ä½œæ¨ªåæ ‡å˜é‡ï¼›</span><br>  <span class="hljs-comment">%     çºµåæ ‡æ˜¯ &#123;2.4*exp(-\x)&#125;ï¼Œå³ y = 2.4 * e^&#123;-x&#125;ï¼›</span><br>  <span class="hljs-comment">%     æ‰€ä»¥è¿™æ¡æ›²çº¿è¡¨ç¤ºè§£è½¨è¿¹ x(t) = 2.4 e^&#123;-t&#125;ã€‚</span><br><br>  <span class="hljs-comment">% å†ç”»ä¸€æ¡ x(t) = -1.6 e^&#123;-t&#125; çš„è½¨è¿¹</span><br>  <span class="hljs-keyword">\draw</span>[thick,blue, domain=0:5, samples=100]<br>    plot (<span class="hljs-keyword">\x</span>,&#123;-1.6*exp(-<span class="hljs-keyword">\x</span>)&#125;);<br>  <span class="hljs-comment">% ç¬¬äºŒæ¡æ›²çº¿ï¼š</span><br>  <span class="hljs-comment">%   æ ·å¼åŒä¸Šï¼ˆåŠ ç²—ã€è“è‰²ã€[0,5] åŒºé—´ã€100 ä¸ªé‡‡æ ·ç‚¹ï¼‰ã€‚</span><br>  <span class="hljs-comment">%   çºµåæ ‡å…¬å¼ä¸º -1.6*exp(-\x)ï¼Œå³ y = -1.6 e^&#123;-x&#125;ï¼Œ</span><br>  <span class="hljs-comment">%   è¡¨ç¤ºä»è´Ÿåˆå€¼ -1.6 å‡ºå‘ï¼ŒåŒæ ·æŒ‡æ•°è¡°å‡åˆ° 0 çš„è§£è½¨è¿¹ã€‚</span><br><br><span class="hljs-keyword">\end</span>&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ <img src="f1.png" alt="regular" /></p><h2 id="ä¾‹-2">ä¾‹ 2</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs python">\begin&#123;tikzpicture&#125;[&gt;=stealth, scale=<span class="hljs-number">1</span>]<br>  % å¼€å§‹ tikzpicture ç¯å¢ƒï¼Œç”¨æ¥ç»˜å›¾ã€‚<br>  % é€‰é¡¹ï¼š<br>  %   &gt;=stealth ï¼šæŠŠä¹‹åæ‰€æœ‰ <span class="hljs-string">&quot;-&gt;&quot;</span> ç®­å¤´çš„ç®­å¤´æ ·å¼è®¾ä¸º stealthï¼›<br>  %   scale=<span class="hljs-number">1</span>   ï¼šæ•´ä½“ç¼©æ”¾å› å­ä¸º <span class="hljs-number">1</span>ï¼ˆä¸ç¼©æ”¾ï¼Œå¦‚æœæ”¹æˆ <span class="hljs-number">1.2</span> å°±ä¼šæ•´ä½“æ”¾å¤§ <span class="hljs-number">1.2</span> å€ï¼‰ã€‚<br><br>  % åæ ‡è½´<br>  \draw[-&gt;] (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) -- (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>) node[below] &#123;$t$&#125;;<br>  % ç”»æ¨ªè½´ï¼š<br>  %   ä»ç‚¹ (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) åˆ° (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>) ç”»ä¸€æ¡ç›´çº¿ï¼Œæœ«ç«¯å¸¦ç®­å¤´ï¼ˆå› ä¸ºä½¿ç”¨äº† <span class="hljs-string">&quot;-&gt;&quot;</span>ï¼‰ã€‚<br>  %   åœ¨ç»ˆç‚¹ (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>) ä¸Šé™„ç€ä¸€ä¸ª nodeï¼Œä½ç½®åœ¨ belowï¼ˆçº¿æ®µä¸‹æ–¹ï¼‰ï¼Œå†…å®¹ä¸º tï¼Œ<br>  %   ä½œä¸ºæ¨ªè½´çš„æ ‡ç­¾ã€‚<br><br>  \draw[-&gt;] (<span class="hljs-number">0</span>,-<span class="hljs-number">2.2</span>) -- (<span class="hljs-number">0</span>,<span class="hljs-number">2.8</span>) node[left] &#123;$x(t)$&#125;;<br>  % ç”»çºµè½´ï¼š<br>  %   ä» (<span class="hljs-number">0</span>,-<span class="hljs-number">2.2</span>) åˆ° (<span class="hljs-number">0</span>,<span class="hljs-number">2.8</span>) ç”»ä¸€æ¡ç›´çº¿ï¼Œæœ«ç«¯å¸¦ç®­å¤´ã€‚<br>  %   åœ¨ç»ˆç‚¹å·¦ä¾§æ”¾ç½®ä¸€ä¸ª nodeï¼Œå†…å®¹ä¸º x(t)ï¼Œä½œä¸ºçºµè½´æ ‡ç­¾ã€‚<br><br>  \draw[dashed,gray] (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) -- (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>);<br>  % ç”»ä¸€æ¡ç°è‰²è™šçº¿ï¼š<br>  %   ä» (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) åˆ° (<span class="hljs-number">5</span>,<span class="hljs-number">0</span>)ï¼Œä¸æ¨ªè½´é‡åˆï¼›<br>  %   æ ·å¼ä¸º dashedï¼ˆè™šçº¿ï¼‰ã€grayï¼ˆç°è‰²ï¼‰ï¼Œè¡¨ç¤º x(t)=<span class="hljs-number">0</span> çš„é›¶çº¿ã€‚<br><br>  % åœ¨ t=<span class="hljs-number">0</span> å·¦ä¾§æ ‡æ³¨ä¸åŒçš„åˆå€¼<br>  \draw (<span class="hljs-number">0</span>,<span class="hljs-number">2.4</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">1</span>)&#125;$&#125;;<br>  % åœ¨åæ ‡ (<span class="hljs-number">0</span>,<span class="hljs-number">2.4</span>) æ”¾ä¸€ä¸ª nodeï¼Œä½ç½®åœ¨è¯¥ç‚¹å·¦ä¾§ï¼ˆleftï¼‰ï¼Œ<br>  % æ–‡æœ¬ä¸º x_0^&#123;(<span class="hljs-number">1</span>)&#125;ï¼Œè¡¨ç¤ºç¬¬ä¸€æ¡è½¨è¿¹çš„åˆå§‹å€¼ã€‚<br><br>  \draw (<span class="hljs-number">0</span>,<span class="hljs-number">1.5</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">2</span>)&#125;$&#125;;<br>  % åœ¨ (<span class="hljs-number">0</span>,<span class="hljs-number">1.5</span>) å·¦ä¾§æ ‡æ³¨ x_0^&#123;(<span class="hljs-number">2</span>)&#125;ã€‚<br><br>  \draw (<span class="hljs-number">0</span>,<span class="hljs-number">0.7</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">3</span>)&#125;$&#125;;<br>  % åœ¨ (<span class="hljs-number">0</span>,<span class="hljs-number">0.7</span>) å·¦ä¾§æ ‡æ³¨ x_0^&#123;(<span class="hljs-number">3</span>)&#125;ã€‚<br><br>  \draw (<span class="hljs-number">0</span>,-<span class="hljs-number">0.8</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">4</span>)&#125;$&#125;;<br>  % åœ¨ (<span class="hljs-number">0</span>,-<span class="hljs-number">0.8</span>) å·¦ä¾§æ ‡æ³¨ x_0^&#123;(<span class="hljs-number">4</span>)&#125;ã€‚<br><br>  \draw (<span class="hljs-number">0</span>,-<span class="hljs-number">1.6</span>) node[left] &#123;$x_0^&#123;(<span class="hljs-number">5</span>)&#125;$&#125;;<br>  % åœ¨ (<span class="hljs-number">0</span>,-<span class="hljs-number">1.6</span>) å·¦ä¾§æ ‡æ³¨ x_0^&#123;(<span class="hljs-number">5</span>)&#125;ã€‚<br>  % è¿™äº”ä¸ªæ ‡è®°ä¸€èµ·è¡¨ç¤ºï¼šåœ¨ t=<span class="hljs-number">0</span> æ—¶ï¼Œç³»ç»Ÿå¯èƒ½çš„äº”ä¸ªä¸åŒåˆå§‹çŠ¶æ€ x_0^&#123;(i)&#125;ã€‚<br><br>  % ç”¨ x(t) = x0 * e^&#123;-t&#125; ç”» <span class="hljs-number">5</span> æ¡è½¨è¿¹<br>  \foreach \xzero <span class="hljs-keyword">in</span> &#123;<span class="hljs-number">2.4</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.7</span>, -<span class="hljs-number">0.8</span>, -<span class="hljs-number">1.6</span>&#125; &#123;<br>    % \foreach æ˜¯ TikZ çš„å¾ªç¯è¯­å¥ï¼š<br>    %   å¾ªç¯å˜é‡ \xzero ä¾æ¬¡å– <span class="hljs-number">2.4</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.7</span>, -<span class="hljs-number">0.8</span>, -<span class="hljs-number">1.6</span> è¿™äº”ä¸ªå€¼ã€‚<br>    %   å¯¹æ¯ä¸ª \xzeroï¼Œéƒ½æ‰§è¡Œå¤§æ‹¬å·ä¸­çš„ \draw å‘½ä»¤ï¼Œç”»å‡ºä¸€æ¡å¯¹åº”åˆå€¼çš„è½¨è¿¹ã€‚<br><br>    \draw[thick,blue, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>, samples=<span class="hljs-number">100</span>]<br>      plot (\x,&#123;\xzero*exp(-\x)&#125;);<br>    % å¯¹å½“å‰çš„åˆå€¼ x0=\xzero ç”»å‡ºè§£è½¨è¿¹ x(t)=x0*e^&#123;-t&#125;ï¼š<br>    %   thick     ï¼šçº¿æ¡åŠ ç²—ï¼›<br>    %   blue      ï¼šçº¿æ¡é¢œè‰²ä¸ºè“è‰²ï¼›<br>    %   domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>ï¼šè‡ªå˜é‡ \x çš„èŒƒå›´æ˜¯ [<span class="hljs-number">0</span>,<span class="hljs-number">5</span>]ï¼›<br>    %   samples=<span class="hljs-number">100</span>ï¼šåœ¨è¿™ä¸ªåŒºé—´å†…å– <span class="hljs-number">100</span> ä¸ªé‡‡æ ·ç‚¹æ¥è¿‘ä¼¼è¿™æ¡æ›²çº¿ã€‚<br>    %   plot (\x,&#123;...&#125;)ï¼š<br>    %     æ¨ªåæ ‡ä¸º \xï¼Œçºµåæ ‡ä¸º \xzero*exp(-\x)ï¼Œ<br>    %     å³ä»ä¸åŒ x0 å‡ºå‘çš„æŒ‡æ•°è¡°å‡è½¨è¿¹ã€‚<br>  &#125;<br><br>  % \node at (<span class="hljs-number">2.6</span>,<span class="hljs-number">2.4</span>) &#123;\small å¥½çš„ $F$&#125;;<br>  % \node at (<span class="hljs-number">2.5</span>,-<span class="hljs-number">2</span>) &#123;ä»»æ„ $x_0$ éƒ½æ”¶æ•›åˆ° <span class="hljs-number">0</span>&#125;;<br>  % ä¸Šé¢ä¸¤è¡Œè¢«æ³¨é‡Šæ‰äº†ï¼ˆè¡Œé¦–æœ‰ %ï¼ŒLaTeX ä¸ä¼šæ‰§è¡Œï¼‰ï¼š<br>  %   å¦‚æœå–æ¶ˆæ³¨é‡Šï¼Œå®ƒä»¬ä¼šåœ¨æŒ‡å®šåæ ‡ä½ç½®æ”¾ç½®è¯´æ˜æ–‡å­—ï¼Œ<br>  %   ç”¨æ¥è¯´æ˜è¿™æ˜¯ä¸€ä¸ªâ€œå¥½çš„ Fï¼ˆåé¦ˆ/æ˜ å°„ï¼‰â€ï¼Œä»»æ„åˆå€¼éƒ½æ”¶æ•›åˆ° <span class="hljs-number">0</span>ã€‚<br><br>\end&#123;tikzpicture&#125;<br>% ç»“æŸ tikzpicture ç¯å¢ƒï¼Œæ•´å¹…å›¾å½¢ç»˜åˆ¶å®Œæˆã€‚<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ <img src="f2.png" alt="regular" /></p><h2 id="ä¾‹-3">ä¾‹ 3</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python">\begin&#123;tikzpicture&#125;<br>  % å¼€å§‹ä¸€ä¸ª TikZ å›¾ç¯å¢ƒï¼Œpgfplots çš„ axis ç¯å¢ƒä¹Ÿæ”¾åœ¨ tikzpicture é‡Œã€‚<br><br>  \begin&#123;axis&#125;[<br>    % å¼€å§‹ pgfplots çš„åæ ‡è½´ç¯å¢ƒï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆåæ ‡ç³»å’Œå‡½æ•°å›¾åƒã€‚<br>    axis lines=middle,<br>    % è®©åæ ‡è½´ç©¿è¿‡åŸç‚¹ï¼Œå¹¶ä¸”åªç”»ä¸¤æ¡â€œä¸­é—´â€çš„åæ ‡è½´ï¼ˆè€Œä¸æ˜¯å››å‘¨çš„è¾¹æ¡†ï¼‰ã€‚<br>    % å³ x è½´å’Œ y è½´éƒ½ä»åŸç‚¹å‘ä¸¤è¾¹å»¶ä¼¸ï¼Œçœ‹èµ·æ¥åƒæ•°å­¦è¯¾æœ¬ä¸Šçš„åæ ‡ç³»ã€‚<br>    xlabel=&#123;$t$&#125;,<br>    % è®¾ç½®æ¨ªè½´çš„æ ‡ç­¾ï¼ˆlabelï¼‰ï¼Œæ˜¾ç¤ºä¸ºæ•°å­¦æ¨¡å¼çš„ tã€‚<br>    ylabel=&#123;$x(t)$&#125;,<br>    % è®¾ç½®çºµè½´çš„æ ‡ç­¾ï¼Œæ˜¾ç¤ºä¸ºæ•°å­¦æ¨¡å¼çš„ x(t)ã€‚<br>    xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">6</span>,<br>    % è®¾ç½® x è½´æ˜¾ç¤ºèŒƒå›´ï¼šä» <span class="hljs-number">0</span> åˆ° <span class="hljs-number">5</span>ã€‚<br>    % å›¾ä¸­ä¸ä¼šç”»å‡ºè¶…è¿‡è¿™ä¸ªèŒƒå›´ä¹‹å¤–çš„å†…å®¹ã€‚<br>    ymin=-<span class="hljs-number">2.2</span>, ymax=<span class="hljs-number">2.8</span>,<br>    % è®¾ç½® y è½´æ˜¾ç¤ºèŒƒå›´ï¼šä» -<span class="hljs-number">2.2</span> åˆ° <span class="hljs-number">2.8</span>ã€‚<br>    % æ–¹ä¾¿æŠŠæ‰€æœ‰è½¨è¿¹éƒ½æ”¾åœ¨åŒä¸€è§†çª—é‡Œã€‚<br>  ]<br>    % ä»¥ä¸Šæ˜¯ axis ç¯å¢ƒçš„å¯é€‰å‚æ•°åˆ—è¡¨ï¼Œæ–¹æ‹¬å·ç»“æŸåˆ°è¿™é‡Œã€‚<br><br>    % x(t) = <span class="hljs-number">2.4</span> e^&#123;-t&#125;<br>    \addplot[blue, thick, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>] &#123;<span class="hljs-number">2.4</span>*exp(-x)&#125;;<br>    % ä½¿ç”¨ pgfplots ç”»ç¬¬ä¸€æ¡å‡½æ•°æ›²çº¿ï¼š<br>    %   å…³é”®å­— \addplot è¡¨ç¤ºâ€œæ·»åŠ ä¸€æ¡æ›²çº¿â€ã€‚<br>    %   [blue, thick, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>] æ˜¯ç”»å›¾é€‰é¡¹ï¼š<br>    %       blue  æ›²çº¿ä¸ºè“è‰²ï¼›<br>    %       thick çº¿æ¡åŠ ç²—ï¼›<br>    %       domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span> è‡ªå˜é‡ x çš„å–å€¼èŒƒå›´æ˜¯ <span class="hljs-number">0</span> åˆ° <span class="hljs-number">5</span>ã€‚<br>    %   èŠ±æ‹¬å·é‡Œçš„ &#123;<span class="hljs-number">2.4</span>*exp(-x)&#125; æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼š<br>    %       å˜é‡åæ˜¯ xï¼ˆpgfplots çº¦å®šä¿—æˆï¼‰ï¼›<br>    %       è¡¨ç¤º y = <span class="hljs-number">2.4</span> * e^&#123;-x&#125;ï¼Œå³ x(t)=<span class="hljs-number">2.4</span> e^&#123;-t&#125; è¿™æ¡æŒ‡æ•°è¡°å‡æ›²çº¿ã€‚<br><br>    % x(t) = -<span class="hljs-number">1.6</span> e^&#123;-t&#125;<br>    \addplot[blue, thick, domain=<span class="hljs-number">0</span>:<span class="hljs-number">5</span>] &#123;-<span class="hljs-number">1.6</span>*exp(-x)&#125;;<br>    % ç¬¬äºŒæ¡å‡½æ•°æ›²çº¿ï¼š<br>    %   åŒæ ·æ˜¯è“è‰²ã€åŠ ç²—ã€å®šä¹‰åŸŸ <span class="hljs-number">0</span>~<span class="hljs-number">5</span>ï¼›<br>    %   å‡½æ•°ä¸º y = -<span class="hljs-number">1.6</span> * e^&#123;-x&#125;ï¼Œå³ä»è´Ÿåˆå§‹å€¼ -<span class="hljs-number">1.6</span> å‡ºå‘çš„è¡°å‡è½¨è¿¹ã€‚<br>    %   ä¸¤æ¡æ›²çº¿ä¸€èµ·è¡¨ç¤ºä¸åŒåˆå§‹å€¼çš„è§£ï¼Œéƒ½éš t å¢å¤§è€Œè¶‹å‘ <span class="hljs-number">0</span>ã€‚<br><br>  \end&#123;axis&#125;<br>  % ç»“æŸåæ ‡è½´ç¯å¢ƒï¼Œåæ ‡ç³»å’Œé‡Œé¢ç”»çš„å‡½æ•°åˆ°æ­¤ä¸ºæ­¢ã€‚<br><br>\end&#123;tikzpicture&#125;<br>% ç»“æŸ tikzpicture ç¯å¢ƒï¼Œè¿™ä¸ªå›¾å½¢å—å°±ç”»å®Œäº†ã€‚<br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ <img src="f3.png" alt="regular" /></p><h2 id="ä¾‹-4">ä¾‹ 4</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs python">\usetikzlibrary&#123;arrows.meta,positioning,shapes.geometric&#125;<br><br>\begin&#123;tikzpicture&#125;[<br>    % å¼€å§‹TikZå›¾å½¢ç¯å¢ƒï¼Œæ–¹æ‹¬å·å†…æ˜¯å…¨å±€æ ·å¼è®¾ç½®    <br>    &gt;=Stealth,<br>    % è®¾ç½®é»˜è®¤ç®­å¤´ç±»å‹ä¸ºStealthï¼ˆä¸‰è§’å½¢å°–å¤´ç®­å¤´ï¼‰    <br>    box/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;box&quot;</span>çš„æ ·å¼ï¼Œç”¨äºä¸¤ä¸ªè“è‰²æ–¹æ¡†        <br>        rectangle,<br>        % å½¢çŠ¶ä¸ºçŸ©å½¢        <br>        rounded corners=15pt,<br>        % åœ†è§’åŠå¾„ä¸º15ptï¼Œä½¿çŸ©å½¢å››è§’å˜åœ†        <br>        minimum width=5cm,<br>        % æœ€å°å®½åº¦<span class="hljs-number">5</span>å˜ç±³        <br>        minimum height=<span class="hljs-number">1.8</span>cm,<br>        % æœ€å°é«˜åº¦<span class="hljs-number">1.8</span>å˜ç±³        <br>        fill=blue!<span class="hljs-number">60</span>,<br>        % å¡«å……é¢œè‰²ä¸º<span class="hljs-number">60</span>%è“è‰²ï¼ˆè“è‰²ä¸ç™½è‰²æ··åˆ<span class="hljs-number">60</span>:<span class="hljs-number">40</span>ï¼‰        <br>        draw=blue!<span class="hljs-number">70</span>,<br>        % è¾¹æ¡†é¢œè‰²ä¸º<span class="hljs-number">70</span>%è“è‰²        <br>        line width=2pt,<br>        % è¾¹æ¡†çº¿å®½2pt        <br>        text=white,<br>        % æ–‡å­—é¢œè‰²ä¸ºç™½è‰²        <br>        font=\Large\bfseries,<br>        % å­—ä½“ä¸ºLargeå¤§å°ä¸”åŠ ç²—        <br>        align=center<br>        % æ–‡å­—å±…ä¸­å¯¹é½<br>    &#125;,    <br>    title/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;title&quot;</span>çš„æ ·å¼ï¼Œç”¨äºçº¢è‰²æ ‡é¢˜æ¡†        <br>        rectangle,<br>        % å½¢çŠ¶ä¸ºçŸ©å½¢        <br>        minimum width=7cm,<br>        % æœ€å°å®½åº¦<span class="hljs-number">7</span>å˜ç±³        <br>        minimum height=<span class="hljs-number">1.2</span>cm,<br>        % æœ€å°é«˜åº¦<span class="hljs-number">1.2</span>å˜ç±³        <br>        fill=red!<span class="hljs-number">80</span>!black,<br>        % å¡«å……é¢œè‰²ï¼š<span class="hljs-number">80</span>%çº¢è‰²+<span class="hljs-number">20</span>%é»‘è‰²ï¼Œäº§ç”Ÿæ·±çº¢è‰²        <br>        text=white,<br>        % æ–‡å­—é¢œè‰²ä¸ºç™½è‰²        <br>        font=\huge\bfseries<br>        % å­—ä½“ä¸ºhugeå¤§å°ä¸”åŠ ç²—<br>    &#125;,    <br>    arrow/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;arrow&quot;</span>çš„æ ·å¼ï¼Œç”¨äºå¼§å½¢ç®­å¤´        <br>        line width=4pt,<br>        % ç®­å¤´çº¿å®½4pt        <br>        blue!<span class="hljs-number">70</span>,<br>        % ç®­å¤´é¢œè‰²ä¸º<span class="hljs-number">70</span>%è“è‰²        <br>        -&gt;,<br>        % çº¿æ¡æœ«ç«¯æ·»åŠ ç®­å¤´        <br>        &gt;=Stealth<br>        % ç®­å¤´æ ·å¼ä¸ºStealthå‹<br>    &#125;<br>]<br>% æ ·å¼å®šä¹‰ç»“æŸ<br><br>    % æ ‡é¢˜<br>    \node[title] (title) at (<span class="hljs-number">0</span>, <span class="hljs-number">3.8</span>) &#123;Feedback Loop&#125;;<br>    % åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼š<br>    % [title]: åº”ç”¨ä¹‹å‰å®šä¹‰çš„titleæ ·å¼<br>    % (title): ç»™è¿™ä¸ªèŠ‚ç‚¹å‘½åä¸ºtitleï¼ˆè™½ç„¶åé¢æ²¡ç”¨åˆ°è¿™ä¸ªåå­—ï¼‰<br>    % at (<span class="hljs-number">0</span>, <span class="hljs-number">2.8</span>): ä½ç½®åœ¨åæ ‡(<span class="hljs-number">0</span>, <span class="hljs-number">2.8</span>)ï¼Œå³x=<span class="hljs-number">0</span>, y=<span class="hljs-number">2.8</span><br>    % &#123;Feedback Loop&#125;: èŠ‚ç‚¹ä¸­æ˜¾ç¤ºçš„æ–‡å­—å†…å®¹<br>    <br>    % å·¦ä¾§æ–¹æ¡†<br>    \node[box] (action) at (-<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>) &#123;Action <span class="hljs-keyword">or</span> Stimulus&#125;;<br>    % åˆ›å»ºå·¦ä¾§è“è‰²æ–¹æ¡†ï¼š<br>    % [box]: åº”ç”¨boxæ ·å¼<br>    % (action): èŠ‚ç‚¹å‘½åä¸ºactionï¼Œåé¢ç»˜åˆ¶ç®­å¤´æ—¶ä¼šç”¨åˆ°<br>    % at (-<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>): ä½ç½®åœ¨x=-<span class="hljs-number">3.2</span>, y=<span class="hljs-number">0</span>ï¼ˆå·¦ä¾§ï¼‰<br>    % &#123;Action <span class="hljs-keyword">or</span> Stimulus&#125;: æ˜¾ç¤ºçš„æ–‡å­—<br>    <br>    % å³ä¾§æ–¹æ¡†<br>    \node[box] (response) at (<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>) &#123;Response (Feedback)&#125;;<br>    % åˆ›å»ºå³ä¾§è“è‰²æ–¹æ¡†ï¼š<br>    % [box]: åº”ç”¨boxæ ·å¼<br>    % (response): èŠ‚ç‚¹å‘½åä¸ºresponse<br>    % at (<span class="hljs-number">3.2</span>, <span class="hljs-number">0</span>): ä½ç½®åœ¨x=<span class="hljs-number">3.2</span>, y=<span class="hljs-number">0</span>ï¼ˆå³ä¾§ï¼‰<br>    % &#123;Response (Feedback)&#125;: æ˜¾ç¤ºçš„æ–‡å­—<br>    <br>    % ä¸Šæ–¹å¼§å½¢ç®­å¤´ï¼ˆä»å·¦åˆ°å³ï¼‰- ä»æ ‡é¢˜ä¸‹æ–¹ç»è¿‡<br>    \draw[arrow] (action.north) to[out=<span class="hljs-number">70</span>, <span class="hljs-keyword">in</span>=<span class="hljs-number">110</span>] (response.north);<br>    % ç»˜åˆ¶ä¸Šæ–¹çš„å¼§å½¢ç®­å¤´ï¼š<br>    % [arrow]: åº”ç”¨arrowæ ·å¼<br>    % (action.north): èµ·ç‚¹æ˜¯actionèŠ‚ç‚¹çš„åŒ—ä¾§ï¼ˆä¸Šæ–¹ä¸­å¿ƒç‚¹ï¼‰<br>    % to[out=<span class="hljs-number">70</span>, <span class="hljs-keyword">in</span>=<span class="hljs-number">110</span>]: ä½¿ç”¨è´å¡å°”æ›²çº¿è¿æ¥<br>    %   out=<span class="hljs-number">70</span>: ä»èµ·ç‚¹ä»¥<span class="hljs-number">70</span>åº¦è§’åº¦å‡ºå‘ï¼ˆ<span class="hljs-number">0</span>åº¦æ˜¯æ­£å³ï¼Œ<span class="hljs-number">90</span>åº¦æ˜¯æ­£ä¸Šï¼‰<br>    %   <span class="hljs-keyword">in</span>=<span class="hljs-number">110</span>: ä»¥<span class="hljs-number">110</span>åº¦è§’åº¦è¿›å…¥ç»ˆç‚¹<br>    % (response.north): ç»ˆç‚¹æ˜¯responseèŠ‚ç‚¹çš„åŒ—ä¾§<br>    <br>    % ä¸‹æ–¹å¼§å½¢ç®­å¤´ï¼ˆä»å³åˆ°å·¦ï¼‰<br>    \draw[arrow] (response.south) to[out=-<span class="hljs-number">110</span>, <span class="hljs-keyword">in</span>=-<span class="hljs-number">70</span>] (action.south);<br>    % ç»˜åˆ¶ä¸‹æ–¹çš„å¼§å½¢ç®­å¤´ï¼š<br>    % [arrow]: åº”ç”¨arrowæ ·å¼<br>    % (response.south): èµ·ç‚¹æ˜¯responseèŠ‚ç‚¹çš„å—ä¾§ï¼ˆä¸‹æ–¹ä¸­å¿ƒç‚¹ï¼‰<br>    % to[out=-<span class="hljs-number">110</span>, <span class="hljs-keyword">in</span>=-<span class="hljs-number">70</span>]: ä½¿ç”¨è´å¡å°”æ›²çº¿<br>    %   out=-<span class="hljs-number">110</span>: ä»èµ·ç‚¹ä»¥-<span class="hljs-number">110</span>åº¦ï¼ˆå³å‘å·¦ä¸‹ï¼‰å‡ºå‘<br>    %   <span class="hljs-keyword">in</span>=-<span class="hljs-number">70</span>: ä»¥-<span class="hljs-number">70</span>åº¦ï¼ˆå³ä»å³ä¸‹ï¼‰è¿›å…¥ç»ˆç‚¹<br>    % (action.south): ç»ˆç‚¹æ˜¯actionèŠ‚ç‚¹çš„å—ä¾§<br><br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ <img src="f4.png" alt="regular" /></p><h2 id="ä¾‹-5">ä¾‹ 5</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br></pre></td><td class="code"><pre><code class="hljs python">\usetikzlibrary&#123;arrows.meta,positioning,calc,fit&#125;<br>%\usepackage&#123;mathptmx&#125; % Times New Roman å­—ä½“<br><br>\begin&#123;tikzpicture&#125;[<br>    % å¼€å§‹TikZç»˜å›¾ç¯å¢ƒï¼Œæ–¹æ‹¬å·å†…å®šä¹‰å…¨å±€æ ·å¼    <br>    &gt;=Stealth,<br>    % è®¾ç½®é»˜è®¤ç®­å¤´æ ·å¼ä¸ºStealthï¼ˆä¸‰è§’å½¢ç®­å¤´ï¼‰    <br>    thick,<br>    % è®¾ç½®æ‰€æœ‰çº¿æ¡ä¸ºç²—çº¿    <br>    % å®šä¹‰å„ç§èŠ‚ç‚¹æ ·å¼<br>    block/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;block&quot;</span>çš„æ ·å¼ï¼Œç”¨äºç»˜åˆ¶æ–¹æ¡†ï¼ˆå¦‚Pã€Iã€Dã€Systemï¼‰<br>        draw,<br>        % ç»˜åˆ¶è¾¹æ¡†<br>        rectangle,<br>        % å½¢çŠ¶ä¸ºçŸ©å½¢        <br>        minimum height=1cm,<br>        % æœ€å°é«˜åº¦<span class="hljs-number">1</span>å˜ç±³        <br>        minimum width=2cm,<br>        % æœ€å°å®½åº¦<span class="hljs-number">2</span>å˜ç±³        <br>        align=center,<br>        % æ–‡æœ¬å±…ä¸­å¯¹é½        <br>        line width=<span class="hljs-number">0.8</span>pt<br>        % è¾¹æ¡†çº¿å®½<span class="hljs-number">0.8</span>pt<br>    &#125;,    <br>    <span class="hljs-built_in">sum</span>/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;sum&quot;</span>çš„æ ·å¼ï¼Œç”¨äºç»˜åˆ¶æ±‚å’Œå™¨ï¼ˆåœ†åœˆï¼‰        <br>        draw,<br>        % ç»˜åˆ¶è¾¹æ¡†        <br>        circle,<br>        % å½¢çŠ¶ä¸ºåœ†å½¢        <br>        inner sep=0pt,<br>        % å†…éƒ¨é—´è·ä¸º<span class="hljs-number">0</span>ï¼ˆæ–‡å­—ç´§è´´è¾¹æ¡†ï¼‰        <br>        minimum size=8mm,<br>        % åœ†çš„æœ€å°ç›´å¾„<span class="hljs-number">8</span>æ¯«ç±³        <br>        line width=<span class="hljs-number">0.8</span>pt<br>        % è¾¹æ¡†çº¿å®½<span class="hljs-number">0.8</span>pt<br>    &#125;,    <br>    dashedbox/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;dashedbox&quot;</span>çš„æ ·å¼ï¼Œç”¨äºç»˜åˆ¶è™šçº¿æ¡†        <br>        draw=cyan!<span class="hljs-number">60</span>,<br>        % è¾¹æ¡†é¢œè‰²ä¸º<span class="hljs-number">60</span>%é’è‰²        <br>        dashed,<br>        % è¾¹æ¡†ä¸ºè™šçº¿        <br>        line width=1pt,<br>        % è™šçº¿çº¿å®½1pt        <br>        rounded corners=3pt,<br>        % åœ†è§’åŠå¾„3pt        <br>        inner sep=8pt<br>        % å†…éƒ¨é—´è·8ptï¼ˆæ¡†ä¸å†…å®¹çš„è·ç¦»ï¼‰<br>    &#125;,    <br>    label/.style=&#123;<br>        % å®šä¹‰åä¸º<span class="hljs-string">&quot;label&quot;</span>çš„æ ·å¼ï¼Œç”¨äºè™šçº¿æ¡†ä¸Šæ–¹çš„æ ‡ç­¾æ–‡å­—        <br>        font=\small,<br>        % å­—ä½“å¤§å°ä¸ºsmall        <br>        cyan!<span class="hljs-number">70</span>!blue<br>        % é¢œè‰²ä¸º<span class="hljs-number">70</span>%é’è‰²+<span class="hljs-number">30</span>%è“è‰²çš„æ··åˆè‰²<br>    &#125;<br>]<br>% å…¨å±€æ ·å¼å®šä¹‰ç»“æŸ<br><br>    % ä¸»è¦èŠ‚ç‚¹å®šä¹‰<br>    % æ±‚å’Œå™¨<span class="hljs-number">1</span>ï¼ˆæ¯”è¾ƒå™¨ï¼‰<br>    \node[<span class="hljs-built_in">sum</span>] (sum1) at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) &#123;$\Sigma$&#125;;<br>    % åˆ›å»ºç¬¬ä¸€ä¸ªæ±‚å’Œå™¨èŠ‚ç‚¹ï¼š<br>    % [<span class="hljs-built_in">sum</span>]: åº”ç”¨<span class="hljs-built_in">sum</span>æ ·å¼<br>    % (sum1): èŠ‚ç‚¹å‘½åä¸ºsum1<br>    % at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>): ä½ç½®åœ¨åæ ‡åŸç‚¹<br>    % &#123;$\Sigma$&#125;: æ˜¾ç¤ºæ±‚å’Œç¬¦å·Î£<br>    <br>    % ç§¯åˆ†ç¯èŠ‚<br>    \node[block] (integral) at (<span class="hljs-number">4</span>,<span class="hljs-number">0</span>) &#123;$\displaystyle\text&#123;I&#125;\quad K_i\<span class="hljs-built_in">int</span> e(t)dt$&#125;;<br>    % åˆ›å»ºç§¯åˆ†ç¯èŠ‚èŠ‚ç‚¹ï¼š<br>    % [block]: åº”ç”¨blockæ ·å¼<br>    % (integral): å‘½åä¸ºintegral<br>    % at (<span class="hljs-number">4</span>,<span class="hljs-number">0</span>): ä½ç½®åœ¨x=<span class="hljs-number">4</span>, y=<span class="hljs-number">0</span><br>    % \displaystyle: ä½¿ç§¯åˆ†ç¬¦å·ä»¥æ˜¾ç¤ºæ¨¡å¼ï¼ˆæ›´å¤§ï¼‰æ˜¾ç¤º<br>    % \text&#123;I&#125;: æ–‡æœ¬æ¨¡å¼æ˜¾ç¤ºå­—æ¯I<br>    % \quad: æ·»åŠ ä¸€ä¸ªç©ºæ ¼<br>    % K_i\<span class="hljs-built_in">int</span> e(t)dt: ç§¯åˆ†å…¬å¼<br>    <br>    % æ±‚å’Œå™¨<span class="hljs-number">2</span><br>    \node[<span class="hljs-built_in">sum</span>] (sum2) at (<span class="hljs-number">7.5</span>,<span class="hljs-number">0</span>) &#123;$\Sigma$&#125;;<br>    % åˆ›å»ºç¬¬äºŒä¸ªæ±‚å’Œå™¨<br>    % at (<span class="hljs-number">7.5</span>,<span class="hljs-number">0</span>): ä½ç½®åœ¨x=<span class="hljs-number">7.5</span>, y=<span class="hljs-number">0</span><br>    <br>    % ç³»ç»Ÿ<br>    \node[block, minimum width=<span class="hljs-number">2.5</span>cm] (system) at (<span class="hljs-number">11</span>,<span class="hljs-number">0</span>) &#123;System&#125;;<br>    % åˆ›å»ºç³»ç»Ÿæ–¹æ¡†ï¼š<br>    % minimum width=<span class="hljs-number">2.5</span>cm: è¦†ç›–é»˜è®¤å®½åº¦ï¼Œè®¾ä¸º<span class="hljs-number">2.5</span>cm<br>    % (system): å‘½åä¸ºsystem<br>    % at (<span class="hljs-number">11</span>,<span class="hljs-number">0</span>): ä½ç½®åœ¨x=<span class="hljs-number">11</span>, y=<span class="hljs-number">0</span><br>    <br>    % æ¯”ä¾‹ç¯èŠ‚<br>    \node[block, minimum width=2cm] (prop) at (<span class="hljs-number">4</span>,<span class="hljs-number">2.2</span>) &#123;$\text&#123;P&#125;\quad K_p e(t)$&#125;;<br>    % åˆ›å»ºæ¯”ä¾‹ç¯èŠ‚ï¼ˆPæ§åˆ¶å™¨ï¼‰ï¼š<br>    % at (<span class="hljs-number">4</span>,<span class="hljs-number">2.2</span>): ä½ç½®åœ¨x=<span class="hljs-number">4</span>, y=<span class="hljs-number">2.2</span>ï¼ˆä¸Šæ–¹ï¼‰<br>    % (prop): å‘½åä¸ºprop<br>    <br>    % å¾®åˆ†ç¯èŠ‚<br>    \node[block, minimum width=2cm] (diff) at (<span class="hljs-number">4</span>,-<span class="hljs-number">2.2</span>) &#123;$\displaystyle\text&#123;D&#125;\quad K_d\frac&#123;de(t)&#125;&#123;dt&#125;$&#125;;<br>    % åˆ›å»ºå¾®åˆ†ç¯èŠ‚ï¼ˆDæ§åˆ¶å™¨ï¼‰ï¼š<br>    % at (<span class="hljs-number">4</span>,-<span class="hljs-number">2.2</span>): ä½ç½®åœ¨x=<span class="hljs-number">4</span>, y=-<span class="hljs-number">2.2</span>ï¼ˆä¸‹æ–¹ï¼‰<br>    % (diff): å‘½åä¸ºdiff<br>    % \frac&#123;de(t)&#125;&#123;dt&#125;: å¾®åˆ†ç¬¦å·<br>    <br>    % è¾“å…¥è¾“å‡ºèŠ‚ç‚¹<br>    \node[left=<span class="hljs-number">1.5</span>cm of sum1] (<span class="hljs-built_in">input</span>) &#123;$r(t)$&#125;;<br>    % åˆ›å»ºè¾“å…¥èŠ‚ç‚¹ï¼š<br>    % left=<span class="hljs-number">1.5</span>cm of sum1: åœ¨sum1èŠ‚ç‚¹å·¦ä¾§<span class="hljs-number">1.5</span>cmå¤„<br>    % (<span class="hljs-built_in">input</span>): å‘½åä¸º<span class="hljs-built_in">input</span><br>    % &#123;$r(t)$&#125;: æ˜¾ç¤ºè¾“å…¥ä¿¡å·r(t)<br>    <br>    \node[right=<span class="hljs-number">1.5</span>cm of system] (output) &#123;$y(t)$&#125;;<br>    % åˆ›å»ºè¾“å‡ºèŠ‚ç‚¹ï¼š<br>    % right=<span class="hljs-number">1.5</span>cm of system: åœ¨systemèŠ‚ç‚¹å³ä¾§<span class="hljs-number">1.5</span>cmå¤„<br>    % (output): å‘½åä¸ºoutput<br>    <br>    % è™šçº¿æ¡†<span class="hljs-number">1</span>ï¼šComparator<br>    \node[dashedbox, fit=(sum1), label distance=2mm] (comp-box) &#123;&#125;;<br>    % åˆ›å»ºæ¯”è¾ƒå™¨è™šçº¿æ¡†ï¼š<br>    % [dashedbox]: åº”ç”¨è™šçº¿æ¡†æ ·å¼<br>    % fit=(sum1): è‡ªåŠ¨è°ƒæ•´å¤§å°ä»¥åŒ…å›´sum1èŠ‚ç‚¹<br>    % label distance=2mm: æ ‡ç­¾è·ç¦»ï¼ˆæœªç›´æ¥ä½¿ç”¨ï¼‰<br>    % (comp-box): å‘½åä¸ºcomp-box<br>    % &#123;&#125;: èŠ‚ç‚¹å†…å®¹ä¸ºç©ºï¼ˆåªæ˜¾ç¤ºè¾¹æ¡†ï¼‰<br>    <br>    \node[label, above=2mm of comp-box.north] &#123;Comparator&#125;;<br>    % åœ¨è™šçº¿æ¡†ä¸Šæ–¹åˆ›å»º<span class="hljs-string">&quot;Comparator&quot;</span>æ–‡å­—æ ‡ç­¾ï¼š<br>    % [label]: åº”ç”¨labelæ ·å¼<br>    % above=2mm of comp-box.north: åœ¨comp-boxçš„åŒ—ä¾§ï¼ˆä¸Šæ–¹ï¼‰ä¸Šæ–¹2mmå¤„<br>    <br>    % è™šçº¿æ¡†<span class="hljs-number">2</span>ï¼šLoop Filter<br>    \coordinate (<span class="hljs-built_in">filter</span>-nw) at ([xshift=-8mm, yshift=10mm]prop.north west);<br>    % å®šä¹‰Loop Filterè™šçº¿æ¡†çš„è¥¿åŒ—è§’åæ ‡ï¼š<br>    % \coordinate: å®šä¹‰ä¸€ä¸ªåæ ‡ç‚¹ï¼ˆä¸å¯è§ï¼‰<br>    % (<span class="hljs-built_in">filter</span>-nw): å‘½åä¸º<span class="hljs-built_in">filter</span>-nwï¼ˆnorthwestï¼‰<br>    % [xshift=-8mm, yshift=10mm]: ç›¸å¯¹äºprop.north westï¼ˆæ¯”ä¾‹ç¯èŠ‚å·¦ä¸Šè§’ï¼‰<br>    %   å‘å·¦åç§»8mmï¼Œå‘ä¸Šåç§»10mm<br>    <br>    \coordinate (<span class="hljs-built_in">filter</span>-se) at ([xshift=8mm, yshift=-10mm]diff.south east);<br>    % å®šä¹‰Loop Filterè™šçº¿æ¡†çš„ä¸œå—è§’åæ ‡ï¼š<br>    % (<span class="hljs-built_in">filter</span>-se): å‘½åä¸º<span class="hljs-built_in">filter</span>-seï¼ˆsoutheastï¼‰<br>    % ç›¸å¯¹äºdiff.south eastï¼ˆå¾®åˆ†ç¯èŠ‚å³ä¸‹è§’ï¼‰<br>    %   å‘å³åç§»8mmï¼Œå‘ä¸‹åç§»10mm<br>    <br>    \node[dashedbox, fit=&#123;(<span class="hljs-built_in">filter</span>-nw)(<span class="hljs-built_in">filter</span>-se)(sum2)&#125;] (<span class="hljs-built_in">filter</span>-box) &#123;&#125;;<br>    % åˆ›å»ºLoop Filterè™šçº¿æ¡†ï¼š<br>    % fit=&#123;(<span class="hljs-built_in">filter</span>-nw)(<span class="hljs-built_in">filter</span>-se)(sum2)&#125;: è‡ªåŠ¨è°ƒæ•´å¤§å°ä»¥åŒ…å›´è¿™ä¸‰ä¸ªç‚¹/èŠ‚ç‚¹<br>    % è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«Pã€Iã€Då’Œsum2çš„å¤§è™šçº¿æ¡†<br>    <br>    \node[label, above=2mm of <span class="hljs-built_in">filter</span>-box.north] &#123;Loop Filter&#125;;<br>    % åœ¨è™šçº¿æ¡†ä¸Šæ–¹åˆ›å»º<span class="hljs-string">&quot;Loop Filter&quot;</span>æ–‡å­—æ ‡ç­¾<br>    <br>    % ç»˜åˆ¶è¿æ¥çº¿ - å…¨éƒ¨æ¨ªå¹³ç«–ç›´<br>    % è¾“å…¥åˆ°æ±‚å’Œå™¨<span class="hljs-number">1</span><br>    \draw[-&gt;] (<span class="hljs-built_in">input</span>) -- (sum1);<br>    % ä»<span class="hljs-built_in">input</span>èŠ‚ç‚¹ç”»ç®­å¤´åˆ°sum1èŠ‚ç‚¹<br>    % [-&gt;]: è¡¨ç¤ºçº¿çš„æœ«ç«¯æœ‰ç®­å¤´<br>    % --: ç›´çº¿è¿æ¥<br>    <br>    % æ±‚å’Œå™¨<span class="hljs-number">1</span>åçš„åˆ†æ”¯ç‚¹<br>    \coordinate (branch1) at ([xshift=<span class="hljs-number">1.5</span>cm]sum1.east);<br>    % å®šä¹‰ä¸€ä¸ªåˆ†æ”¯ç‚¹åæ ‡ï¼š<br>    % (branch1): å‘½åä¸ºbranch1<br>    % at ([xshift=<span class="hljs-number">1.5</span>cm]sum1.east): åœ¨sum1çš„ä¸œä¾§ï¼ˆå³ä¾§ï¼‰å‘å³<span class="hljs-number">1.5</span>cmå¤„<br>    % è¿™ä¸ªç‚¹ç”¨äºä¿¡å·åˆ†æˆä¸‰è·¯ï¼ˆPã€Iã€Dï¼‰<br>    <br>    % æ±‚å’Œå™¨<span class="hljs-number">1</span>åˆ°åˆ†æ”¯ç‚¹ï¼Œæ ‡æ³¨e(t)<br>    \draw[-&gt;] (sum1.east) -- (branch1) node[pos=<span class="hljs-number">0.5</span>, above, font=\small] &#123;$e(t)$&#125;;<br>    % ä»sum1çš„å³ä¾§ç”»ç®­å¤´åˆ°åˆ†æ”¯ç‚¹ï¼š<br>    % node[pos=<span class="hljs-number">0.5</span>, above, font=\small] &#123;$e(t)$&#125;: åœ¨çº¿æ®µä¸­ç‚¹ï¼ˆpos=<span class="hljs-number">0.5</span>ï¼‰<br>    %   ä¸Šæ–¹æ·»åŠ æ–‡å­—æ ‡ç­¾e(t)<br>    <br>    % åˆ†æ”¯ç‚¹åˆ°æ¯”ä¾‹ç¯èŠ‚ï¼ˆå…ˆç«–ç›´åæ°´å¹³ï¼‰<br>    \draw (branch1) |- (prop.west);<br>    % ä»branch1åˆ°prop.westç”»çº¿ï¼š<br>    % |-: å…ˆæ°´å¹³åç«–ç›´çš„è¿æ¥æ–¹å¼ï¼ˆå®é™…è¿™é‡Œæ˜¯å…ˆç«–ç›´åæ°´å¹³ï¼Œå› ä¸ºç›®æ ‡åœ¨ä¸Šæ–¹ï¼‰<br>    <br>    \draw[-&gt;] ([xshift=-<span class="hljs-number">0.3</span>cm]prop.west) -- (prop.west);<br>    % åœ¨æ¯”ä¾‹ç¯èŠ‚å…¥å£å¤„ç”»ä¸€å°æ®µç®­å¤´ï¼š<br>    % [xshift=-<span class="hljs-number">0.3</span>cm]prop.west: ä»propå·¦ä¾§å‘å·¦<span class="hljs-number">0.3</span>cmçš„ä½ç½®<br>    % åˆ°prop.west: ç®­å¤´æŒ‡å‘æ¯”ä¾‹ç¯èŠ‚<br>    % è¿™æ ·åšæ˜¯ä¸ºäº†è®©ç®­å¤´å‡ºç°åœ¨å…¥å£å¤„è€Œä¸æ˜¯è½¬è§’å¤„<br>    <br>    % åˆ†æ”¯ç‚¹åˆ°ç§¯åˆ†ç¯èŠ‚ï¼ˆæ°´å¹³ç›´çº¿ï¼‰<br>    \draw[-&gt;] (branch1) -- (integral.west);<br>    % ä»åˆ†æ”¯ç‚¹ç›´æ¥ç”»ç®­å¤´åˆ°ç§¯åˆ†ç¯èŠ‚å·¦ä¾§<br>    % å› ä¸ºåœ¨åŒä¸€æ°´å¹³çº¿ä¸Šï¼Œæ‰€ä»¥æ˜¯ç›´çº¿<br>    <br>    % åˆ†æ”¯ç‚¹åˆ°å¾®åˆ†ç¯èŠ‚ï¼ˆå…ˆç«–ç›´åæ°´å¹³ï¼‰<br>    \draw (branch1) |- (diff.west);<br>    % ä»åˆ†æ”¯ç‚¹åˆ°å¾®åˆ†ç¯èŠ‚ï¼Œå…ˆç«–ç›´ä¸‹é™å†æ°´å¹³åˆ°è¾¾<br>    <br>    \draw[-&gt;] ([xshift=-<span class="hljs-number">0.3</span>cm]diff.west) -- (diff.west);<br>    % åœ¨å¾®åˆ†ç¯èŠ‚å…¥å£å¤„æ·»åŠ ç®­å¤´<br>    <br>    % æ¯”ä¾‹ç¯èŠ‚åˆ°æ±‚å’Œå™¨<span class="hljs-number">2</span>ï¼ˆå…ˆæ°´å¹³åç«–ç›´ï¼‰<br>    \coordinate (prop-corner) at ([xshift=<span class="hljs-number">2.3</span>cm]prop.east);<br>    % å®šä¹‰æ¯”ä¾‹ç¯èŠ‚è¾“å‡ºçš„è½¬è§’ç‚¹ï¼š<br>    % (prop-corner): å‘½åä¸ºprop-corner<br>    % at ([xshift=<span class="hljs-number">2.3</span>cm]prop.east): åœ¨propå³ä¾§å‘å³<span class="hljs-number">2.3</span>cmå¤„<br>    <br>    \draw (prop.east) -- (prop-corner);<br>    % ä»æ¯”ä¾‹ç¯èŠ‚å³ä¾§ç”»çº¿åˆ°è½¬è§’ç‚¹ï¼ˆæ°´å¹³çº¿ï¼‰<br>    <br>    \draw[-&gt;] (prop-corner) |- (sum2.north);<br>    % ä»è½¬è§’ç‚¹ç”»çº¿åˆ°sum2çš„åŒ—ä¾§ï¼ˆä¸Šæ–¹ï¼‰ï¼š<br>    % |-: å…ˆç«–ç›´åæ°´å¹³åˆ°è¾¾ï¼ˆè¿™é‡Œæ˜¯ç«–ç›´ä¸‹é™ï¼‰<br>    % ç®­å¤´æŒ‡å‘sum2çš„ä¸Šæ–¹å…¥å£<br>    <br>    % ç§¯åˆ†ç¯èŠ‚åˆ°æ±‚å’Œå™¨<span class="hljs-number">2</span>ï¼ˆæ°´å¹³ç›´çº¿ï¼‰<br>    \draw[-&gt;] (integral.east) -- (sum2.west);<br>    % ä»ç§¯åˆ†ç¯èŠ‚å³ä¾§ç›´æ¥ç”»ç®­å¤´åˆ°sum2å·¦ä¾§<br>    % åœ¨åŒä¸€æ°´å¹³çº¿ä¸Š<br>    <br>    % å¾®åˆ†ç¯èŠ‚åˆ°æ±‚å’Œå™¨<span class="hljs-number">2</span>ï¼ˆå…ˆæ°´å¹³åç«–ç›´ï¼‰<br>    \coordinate (diff-corner) at ([xshift=<span class="hljs-number">2.3</span>cm]diff.east);<br>    % å®šä¹‰å¾®åˆ†ç¯èŠ‚è¾“å‡ºçš„è½¬è§’ç‚¹<br>    <br>    \draw (diff.east) -- (diff-corner);<br>    % ä»å¾®åˆ†ç¯èŠ‚å³ä¾§ç”»çº¿åˆ°è½¬è§’ç‚¹ï¼ˆæ°´å¹³çº¿ï¼‰<br>    <br>    \draw[-&gt;] (diff-corner) |- (sum2.south);<br>    % ä»è½¬è§’ç‚¹ç”»çº¿åˆ°sum2çš„å—ä¾§ï¼ˆä¸‹æ–¹ï¼‰<br>    % ç«–ç›´ä¸Šå‡ååˆ°è¾¾sum2ä¸‹æ–¹å…¥å£<br>    <br>    % æ±‚å’Œå™¨<span class="hljs-number">2</span>åˆ°ç³»ç»Ÿï¼Œæ ‡æ³¨u(t)<br>    \draw[-&gt;] (sum2.east) -- (system.west) node[pos=<span class="hljs-number">0.5</span>, above, font=\small] &#123;$u(t)$&#125;;<br>    % ä»sum2å³ä¾§ç”»ç®­å¤´åˆ°systemå·¦ä¾§<br>    % åœ¨ä¸­ç‚¹ä¸Šæ–¹æ ‡æ³¨u(t)<br>    <br>    % ç³»ç»Ÿåˆ°è¾“å‡º<br>    \draw[-&gt;] (system.east) -- (output);<br>    % ä»systemå³ä¾§ç”»ç®­å¤´åˆ°outputèŠ‚ç‚¹<br>    <br>    % åé¦ˆçº¿ - æ¨ªå¹³ç«–ç›´<br>    \coordinate (fb-right) at ([xshift=1cm]system.east);<br>    % å®šä¹‰åé¦ˆçº¿çš„ç¬¬ä¸€ä¸ªè½¬è§’ç‚¹ï¼š<br>    % (fb-right): å‘½åä¸ºfb-right<br>    % at ([xshift=1cm]system.east): åœ¨systemå³ä¾§å‘å³1cmå¤„<br>    <br>    \coordinate (fb-bottom) at (fb-right |- <span class="hljs-number">0</span>,-<span class="hljs-number">4</span>);<br>    % å®šä¹‰åé¦ˆçº¿åº•éƒ¨çš„ç‚¹ï¼š<br>    % (fb-bottom): å‘½åä¸ºfb-bottom<br>    % at (fb-right |- <span class="hljs-number">0</span>,-<span class="hljs-number">4</span>): ä½¿ç”¨å‚ç›´æŠ•å½±è¯­æ³•<br>    %   xåæ ‡ä¸fb-rightç›¸åŒï¼Œyåæ ‡ä¸º-<span class="hljs-number">4</span><br>    %   è¿™æ ·ç¡®ä¿ç«–ç›´ä¸‹é™<br>    <br>    \coordinate (fb-left) at (sum1.south |- fb-bottom);<br>    % å®šä¹‰åé¦ˆçº¿å·¦ä¾§çš„è½¬è§’ç‚¹ï¼š<br>    % (fb-left): å‘½åä¸ºfb-left<br>    % at (sum1.south |- fb-bottom): <br>    %   xåæ ‡ä¸sum1.southç›¸åŒï¼Œyåæ ‡ä¸fb-bottomç›¸åŒ<br>    %   è¿™æ ·ç¡®ä¿æ°´å¹³çº¿å¯¹é½<br>    <br>    \draw (output) -- (fb-right);<br>    % ä»outputç”»çº¿åˆ°ç¬¬ä¸€ä¸ªè½¬è§’ç‚¹ï¼ˆæ°´å¹³çº¿ï¼‰<br>    <br>    \draw (fb-right) -- (fb-bottom);<br>    % ä»ç¬¬ä¸€ä¸ªè½¬è§’ç‚¹ç”»çº¿åˆ°åº•éƒ¨ï¼ˆç«–ç›´çº¿ï¼‰<br>    <br>    \draw (fb-bottom) -- (fb-left);<br>    % ä»åº•éƒ¨ç”»çº¿åˆ°å·¦ä¾§è½¬è§’ç‚¹ï¼ˆæ°´å¹³çº¿ï¼‰<br>    <br>    \draw[-&gt;] (fb-left) -- (sum1.south);<br>    % ä»å·¦ä¾§è½¬è§’ç‚¹ç”»ç®­å¤´åˆ°sum1çš„å—ä¾§ï¼ˆä¸‹æ–¹ï¼‰<br>    % ç«–ç›´ä¸Šå‡ï¼Œç®­å¤´æŒ‡å‘sum1<br>    <br>    % æ±‚å’Œå™¨çš„åŠ å‡å·<br>    \node[font=\scriptsize] at ($(sum1.north west)+(<span class="hljs-number">0.15</span>,-<span class="hljs-number">0.15</span>)$) &#123;$+$&#125;;<br>    % åœ¨sum1çš„è¥¿åŒ—è§’å†…ä¾§ä½ç½®æ·»åŠ åŠ å·ï¼š<br>    % [font=\scriptsize]: å­—ä½“ä¸ºscriptsizeï¼ˆå¾ˆå°ï¼‰<br>    % at ($(sum1.north west)+(<span class="hljs-number">0.15</span>,-<span class="hljs-number">0.15</span>)$): ä½¿ç”¨calcåº“è®¡ç®—åæ ‡<br>    %   $(...)$: calcè¯­æ³•<br>    %   sum1.north west: sum1çš„è¥¿åŒ—è§’ï¼ˆå·¦ä¸Šè§’ï¼‰<br>    %   +(<span class="hljs-number">0.15</span>,-<span class="hljs-number">0.15</span>): å‘å³<span class="hljs-number">0.15</span>ï¼Œå‘ä¸‹<span class="hljs-number">0.15</span><br>    <br>    \node[font=\scriptsize] at ($(sum1.south west)+(<span class="hljs-number">0.15</span>,<span class="hljs-number">0.15</span>)$) &#123;$-$&#125;;<br>    % åœ¨sum1çš„è¥¿å—è§’å†…ä¾§ä½ç½®æ·»åŠ å‡å·<br>    % å‘å³<span class="hljs-number">0.15</span>ï¼Œå‘ä¸Š<span class="hljs-number">0.15</span><br>    <br>    \node[font=\scriptsize] at ($(sum2.north)+(<span class="hljs-number">0</span>,<span class="hljs-number">0.15</span>)$) &#123;$+$&#125;;<br>    % åœ¨sum2çš„æ­£ä¸Šæ–¹å†…ä¾§æ·»åŠ åŠ å·<br>    % å‘ä¸‹<span class="hljs-number">0.15</span>ï¼ˆè¿›å…¥åœ†å†…ï¼‰<br>    <br>    \node[font=\scriptsize] at ($(sum2.west)+(<span class="hljs-number">0.2</span>,<span class="hljs-number">0</span>)$) &#123;$+$&#125;;<br>    % åœ¨sum2çš„æ­£å·¦ä¾§å†…ä¾§æ·»åŠ åŠ å·<br>    % å‘å³<span class="hljs-number">0.2</span>ï¼ˆè¿›å…¥åœ†å†…ï¼‰<br>    <br>    \node[font=\scriptsize] at ($(sum2.south)+(<span class="hljs-number">0</span>,-<span class="hljs-number">0.15</span>)$) &#123;$+$&#125;;<br>    % åœ¨sum2çš„æ­£ä¸‹æ–¹å†…ä¾§æ·»åŠ åŠ å·<br>    % å‘ä¸Š<span class="hljs-number">0.15</span>ï¼ˆè¿›å…¥åœ†å†…ï¼Œç”¨è´Ÿå€¼è¡¨ç¤ºå‘ä¸‹ç§»åŠ¨-<span class="hljs-number">0.15</span>ï¼‰<br>    <br>    % åº•éƒ¨è¯´æ˜æ–‡å­— - å±…ä¸­æ˜¾ç¤º<br>    \coordinate (center) at (<span class="hljs-number">6</span>,<span class="hljs-number">0</span>);  <br>    % å®šä¹‰å›¾å½¢çš„ä¸­å¿ƒç‚¹åæ ‡ï¼š<br>    % (center): å‘½åä¸ºcenter<br>    % at (<span class="hljs-number">6</span>,<span class="hljs-number">0</span>): å¤§è‡´åœ¨æ•´ä¸ªå›¾å½¢çš„æ°´å¹³ä¸­å¤®<br>    <br>    \node[below=<span class="hljs-number">4.8</span>cm of center, font=\small] (labels) &#123;<br>        % åˆ›å»ºè¯´æ˜æ–‡å­—èŠ‚ç‚¹ï¼š<br>        % below=<span class="hljs-number">4.8</span>cm of center: åœ¨centerç‚¹ä¸‹æ–¹<span class="hljs-number">4.8</span>cmå¤„<br>        % [font=\small]: å­—ä½“å¤§å°ä¸ºsmall<br>        % (labels): å‘½åä¸ºlabels<br>        <br>        $r(t) = \text&#123;System Setpoint&#125;$ \qquad<br>        % ç¬¬ä¸€é¡¹è¯´æ˜<br>        % \qquad: æ·»åŠ è¾ƒå¤§çš„æ°´å¹³é—´è·<br>        <br>        $e(t) = \text&#123;Error Signal&#125;$ \qquad<br>        % ç¬¬äºŒé¡¹è¯´æ˜<br>        <br>        $u(t) = \text&#123;Control Signal&#125;$ \qquad<br>        % ç¬¬ä¸‰é¡¹è¯´æ˜<br>        <br>        $y(t) = \text&#123;System Output&#125;$<br>        % ç¬¬å››é¡¹è¯´æ˜<br>    &#125;;<br>    % æ‰€æœ‰è¯´æ˜æ–‡å­—åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸­ï¼Œè‡ªåŠ¨å±…ä¸­å¯¹é½<br><br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ <img src="f5.png" alt="regular" /></p><h2 id="ä¾‹-6">ä¾‹ 6</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><code class="hljs python">\usetikzlibrary&#123;shapes,arrows,positioning,calc&#125;<br>% åŠ è½½ TikZ çš„å‡ ä¸ªåº“ï¼š<br>%   shapes     ï¼šæä¾›å„ç§å½¢çŠ¶ï¼ˆçŸ©å½¢ã€åœ†ã€æ¤­åœ†ç­‰ï¼‰çš„é«˜çº§æ ·å¼ï¼›<br>%   arrows     ï¼šæä¾›ç®­å¤´æ ·å¼ï¼ˆlatex, stealth ç­‰ï¼‰ï¼›<br>%   positioningï¼šæ”¯æŒç›¸å¯¹å®šä½è¯­æ³•ï¼Œå¦‚ right of=...ã€above of=...ï¼›<br>%   calc       ï¼šæ”¯æŒåæ ‡è®¡ç®—ï¼Œå¦‚ ($(A)+(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)$)ã€‚<br><br>\tikzset&#123;<br>    block/.style = &#123;draw, fill=white, rectangle, minimum height=3em, minimum width=3em&#125;,<br>    % å®šä¹‰ä¸€ä¸ªé€šç”¨æ ·å¼ blockï¼š<br>    %   draw           ï¼šç”»å‡ºè¾¹æ¡†ï¼›<br>    %   fill=white     ï¼šå†…éƒ¨å¡«å……ä¸ºç™½è‰²ï¼›<br>    %   rectangle      ï¼šçŸ©å½¢å½¢çŠ¶ï¼›<br>    %   minimum height  ï¼šæœ€å°é«˜åº¦ 3emï¼›<br>    %   minimum width   ï¼šæœ€å°å®½åº¦ 3emã€‚<br>    % ä»¥åå†™ [block] å°±ç­‰ä»·äºä½¿ç”¨è¿™äº›å±æ€§ã€‚<br>    tmp/.style  = &#123;coordinate&#125;, <br>    % å®šä¹‰ tmp æ ·å¼ä¸º coordinate ç±»å‹ï¼š<br>    %   è¿™ç§èŠ‚ç‚¹æœ¬èº«æ²¡æœ‰å¯è§å½¢çŠ¶ï¼Œåªæ˜¯ç”¨æ¥å½“â€œåæ ‡ç‚¹/è¿æ¥ç‚¹â€ã€‚<br>    <span class="hljs-built_in">sum</span>/.style= &#123;draw, fill=white, circle, node distance=1cm&#125;,<br>    % å®šä¹‰ <span class="hljs-built_in">sum</span> æ ·å¼ï¼š<br>    %   ç”»è¾¹æ¡† drawï¼›<br>    %   å¡«å……ç™½è‰² fill=whiteï¼›<br>    %   circleï¼šåœ†å½¢èŠ‚ç‚¹ï¼›<br>    %   node distance=1cmï¼šé»˜è®¤èŠ‚ç‚¹é—´è· 1cmï¼ˆä¾› positioning åº“ç”¨ï¼‰ã€‚<br>    <span class="hljs-built_in">input</span>/.style = &#123;coordinate&#125;,<br>    % <span class="hljs-built_in">input</span> æ ·å¼ï¼šä»…ä»…æ˜¯ä¸€ä¸ªåæ ‡ç‚¹ï¼Œç”¨æ¥å½“è¾“å…¥ç«¯ã€‚<br>    output/.style= &#123;coordinate&#125;,<br>    % output æ ·å¼ï¼šåŒä¸Šï¼Œç”¨æ¥å½“è¾“å‡ºç«¯ã€‚<br>    pinstyle/.style = &#123;pin edge=&#123;to-,thin,black&#125;<br>    % pinstyle æ ·å¼ï¼šç”¨äºå¸¦ pin çš„èŠ‚ç‚¹æ—¶ï¼Œpin è¿æ¥çº¿ä½¿ç”¨ â€œto-â€ çº¿å‹ã€ç»†çº¿ã€é»‘è‰²ã€‚<br>    % æœ¬æ®µä»£ç ä¸­æ²¡çœŸæ­£ç”¨åˆ° pinstyleï¼Œä½†é¢„å®šä¹‰äº†ä¸€ä¸ªæ–¹ä¾¿ä»¥åä½¿ç”¨çš„æ ·å¼ã€‚<br>    &#125;<br>&#125;<br><br><br>\begin&#123;tikzpicture&#125;[auto, node distance=2cm,&gt;=latex<span class="hljs-string">&#x27;]</span><br><span class="hljs-string">% å¼€å§‹ tikzpicture ç¯å¢ƒã€‚</span><br><span class="hljs-string">% é€‰é¡¹ï¼š</span><br><span class="hljs-string">%   auto             ï¼šè‡ªåŠ¨é€‰æ‹©è¾¹ä¸Šæ ‡ç­¾çš„æ–¹å‘ï¼ˆä¸Š/ä¸‹/å·¦/å³ï¼‰ï¼›</span><br><span class="hljs-string">%   node distance=2cmï¼šé»˜è®¤èŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ä¸º 2cmï¼ˆç»™ positioning åº“ç”¨ï¼‰ï¼›</span><br><span class="hljs-string">%   &gt;=latex&#x27;</span>         ï¼šç®­å¤´é»˜è®¤ä½¿ç”¨ latex<span class="hljs-string">&#x27; æ ·å¼ï¼ˆLaTeX é£æ ¼çš„ç®­å¤´ï¼‰ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [input, name=rinput] (rinput) &#123;&#125;;</span><br><span class="hljs-string">    % å®šä¹‰ä¸€ä¸ª input ç±»å‹çš„èŠ‚ç‚¹ï¼š</span><br><span class="hljs-string">    %   æ ·å¼ä¸º [input]ï¼ˆå³ coordinateï¼‰ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªâ€œä¸å¯è§ç‚¹â€ï¼›</span><br><span class="hljs-string">    %   name=rinputï¼ˆå¯é€‰ï¼‰å’Œ (rinput) éƒ½ç»™å®ƒå–åä¸º rinputï¼Œæ–¹ä¾¿åç»­å¼•ç”¨ï¼›</span><br><span class="hljs-string">    %   èŠ±æ‹¬å· &#123;&#125; ä¸­æ— å†…å®¹ï¼Œæ‰€ä»¥ä¸æ˜¾ç¤ºæ–‡å­—ã€‚</span><br><span class="hljs-string">    %   è¿™æ˜¯æ•´ä¸ªæ¡†å›¾æœ€å·¦è¾¹çš„è¾“å…¥åæ ‡ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [sum, right of=rinput] (sum1) &#123;&#125;;</span><br><span class="hljs-string">    % å®šä¹‰ä¸€ä¸ª sum èŠ‚ç‚¹ï¼ˆåœ†å½¢æ±‚å’Œç‚¹ï¼‰ï¼š</span><br><span class="hljs-string">    %   ä½ç½®ï¼šright of=rinputï¼Œè¡¨ç¤ºåœ¨ rinput å³ä¾§ï¼Œè·ç¦»ç”± node distance æ§åˆ¶ï¼ˆ2cmï¼‰ï¼›</span><br><span class="hljs-string">    %   åå­—ä¸º sum1ï¼›</span><br><span class="hljs-string">    %   å†…å®¹ä¸ºç©ºï¼Œæ‰€ä»¥åªæ˜¯ä¸€ä¸ªç©ºåœ†åœˆï¼ˆå¯ä»¥åœ¨ä¸Šé¢å åŠ  +, - ç­‰ç¬¦å·ï¼‰ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, right of=sum1] (controller) &#123;$k_&#123;p\beta&#125;$&#125;;</span><br><span class="hljs-string">    % å®šä¹‰ä¸€ä¸ª block èŠ‚ç‚¹ï¼ˆçŸ©å½¢ï¼‰ï¼š</span><br><span class="hljs-string">    %   åœ¨ sum1 å³ä¾§ï¼ˆ2cmï¼‰ï¼›</span><br><span class="hljs-string">    %   åå­— controllerï¼›</span><br><span class="hljs-string">    %   å†…éƒ¨æ–‡å­—ä¸º $k_&#123;p\beta&#125;$ï¼Œè¡¨ç¤ºæ¯”ä¾‹ç¯èŠ‚ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, above of=controller,node distance=1.3cm] (up)&#123;$\frac&#123;k_&#123;i\beta&#125;&#125;&#123;s&#125;$&#125;;</span><br><span class="hljs-string">    % å®šä¹‰ä¸€ä¸ª block èŠ‚ç‚¹ï¼š</span><br><span class="hljs-string">    %   åœ¨ controller æ­£ä¸Šæ–¹ 1.3cm å¤„ï¼ˆè¦†ç›–é»˜è®¤ node distanceï¼‰ï¼›</span><br><span class="hljs-string">    %   åå­— upï¼›</span><br><span class="hljs-string">    %   å†…éƒ¨æ–‡å­—ä¸ºç§¯åˆ†ç¯èŠ‚ï¼šk_&#123;iÎ²&#125;/sã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, below of=controller,node distance=1.3cm] (rate) &#123;$sk_&#123;d\beta&#125;$&#125;;</span><br><span class="hljs-string">    % å®šä¹‰ä¸€ä¸ª block èŠ‚ç‚¹ï¼š</span><br><span class="hljs-string">    %   åœ¨ controller æ­£ä¸‹æ–¹ 1.3cm å¤„ï¼›</span><br><span class="hljs-string">    %   åå­— rateï¼›</span><br><span class="hljs-string">    %   å†…éƒ¨æ–‡å­—ä¸ºå¾®åˆ†ç¯èŠ‚ï¼šs k_&#123;dÎ²&#125;ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [sum, right of=controller,node distance=2cm] (sum2) &#123;&#125;;</span><br><span class="hljs-string">    % åœ¨ controller å³ä¾§ 2cm å¤„å®šä¹‰ç¬¬äºŒä¸ªæ±‚å’ŒèŠ‚ç‚¹ sum2ï¼ˆåœ†ï¼‰ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, above = 2cm of sum2](extra)&#123;$\frac&#123;1&#125;&#123;\alpha_&#123;\beta2&#125;&#125;$&#125;;  %</span><br><span class="hljs-string">    % åœ¨ sum2 ä¸Šæ–¹ 2cm å¤„å®šä¹‰ä¸€ä¸ªé¢å¤–çš„ blockï¼š</span><br><span class="hljs-string">    %   åå­— extraï¼›</span><br><span class="hljs-string">    %   å†…éƒ¨ä¸º 1/Î±_&#123;Î²2&#125;ï¼Œè¡¨ç¤ºæŸä¸ªé¢å¤–æ¨¡å—/é€šé“å¯¹ sum2 çš„è¾“å…¥ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [block, right of=sum2,node distance=2cm] (system) </span><br><span class="hljs-string">&#123;$\frac&#123;a_&#123;\beta 2&#125;&#125;&#123;s+a_&#123;\beta 1&#125;&#125;$&#125;;</span><br><span class="hljs-string">    % åœ¨ sum2 å³ä¾§ 2cm å¤„å®šä¹‰è¢«æ§å¯¹è±¡æ¨¡å— systemï¼š</span><br><span class="hljs-string">    %   ä¼ é€’å‡½æ•°ä¸º a_&#123;Î²2&#125;/(s + a_&#123;Î²1&#125;)ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [output, right of=system, node distance=2cm] (output) &#123;&#125;;</span><br><span class="hljs-string">    % åœ¨ system å³ä¾§ 2cm å¤„å®šä¹‰è¾“å‡ºåæ ‡èŠ‚ç‚¹ outputï¼ˆä¸å¯è§åæ ‡ç‚¹ï¼‰ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \node [tmp, below of=controller] (tmp1)&#123;$H(s)$&#125;;</span><br><span class="hljs-string">    % åœ¨ controller ä¸‹æ–¹ï¼ˆé»˜è®¤èŠ‚ç‚¹è·ç¦» 2cmï¼‰å®šä¹‰ä¸€ä¸ª tmp èŠ‚ç‚¹ tmp1ï¼š</span><br><span class="hljs-string">    %   æ ·å¼æ˜¯ coordinateï¼ˆä¸å¯è§ï¼‰ï¼Œä½†è¿™é‡Œåœ¨èŠ±æ‹¬å·é‡Œå†™äº† $H(s)$ï¼Œ</span><br><span class="hljs-string">    %   æ‰€ä»¥ä¼šåœ¨è¿™ä¸ªä½ç½®æ˜¾ç¤ºæ–‡å­— H(s)ï¼›</span><br><span class="hljs-string">    %   é€šå¸¸ç”¨æ¥æ ‡æ³¨åé¦ˆè·¯å¾„çš„ä¼ é€’å‡½æ•° H(s)ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (rinput) -- node&#123;$R(s)$&#125; (sum1);</span><br><span class="hljs-string">    % ä» rinput åˆ° sum1 ç”»ä¸€æ¡å¸¦ç®­å¤´çš„è¿çº¿ï¼š</span><br><span class="hljs-string">    %   åœ¨çº¿çš„ä¸­é—´åŠ ä¸€ä¸ª nodeï¼Œå†…å®¹ä¸º R(s)ï¼Œè¡¨ç¤ºå‚è€ƒè¾“å…¥ä¿¡å· R(s)ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (sum1) --node[name=z,anchor=north]&#123;$E(s)$&#125; (controller);</span><br><span class="hljs-string">    % ä» sum1 åˆ° controller ç”»ç®­å¤´ï¼š</span><br><span class="hljs-string">    %   åœ¨çº¿æ®µä¸­æ·»åŠ ä¸€ä¸ª nodeï¼š</span><br><span class="hljs-string">    %     name=z     ï¼šè¿™ä¸ªæ ‡ç­¾èŠ‚ç‚¹å‘½åä¸º zï¼Œåé¢å¯ä»¥æ‹¿å®ƒå½“â€œåæ ‡â€ä½¿ç”¨ï¼›</span><br><span class="hljs-string">    %     anchor=northï¼šz è¿™ä¸ª node çš„åŒ—ä¾§é”šç‚¹è´´åœ¨çº¿ä¸Šï¼ˆè®©æ–‡å­—åœ¨ä¸‹é¢ï¼‰ï¼›</span><br><span class="hljs-string">    %     å†…å®¹ä¸º E(s)ï¼Œè¡¨ç¤ºè¯¯å·®ä¿¡å· E(s)ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (controller) -- (sum2);</span><br><span class="hljs-string">    % ä»æ¯”ä¾‹é€šé“ controller è¾“å‡ºåˆ° sum2 çš„ä¸»é€šé“ç®­å¤´ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (sum2) -- node&#123;$U(s)$&#125; (system);</span><br><span class="hljs-string">    % ä» sum2 åˆ° system çš„ç®­å¤´ï¼š</span><br><span class="hljs-string">    %   åœ¨çº¿çš„ä¸­é—´åŠ æ–‡å­— U(s)ï¼Œè¡¨ç¤ºæ§åˆ¶ä¿¡å· U(s)ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (system) -- node [name=y] &#123;$Y(s)$&#125;(output);</span><br><span class="hljs-string">    % ä» system åˆ° output çš„ç®­å¤´ï¼š</span><br><span class="hljs-string">    %   åœ¨çº¿ä¸­é—´åŠ  nodeï¼Œåå­—ä¸º yï¼Œå†…å®¹ä¸º Y(s)ï¼Œè¡¨ç¤ºè¾“å‡ºä¿¡å·ï¼›</span><br><span class="hljs-string">    %   ä¹‹åä¼šç”¨ (y) ä½œä¸ºåé¦ˆå›è·¯çš„èµ·ç‚¹ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (z) |- (rate);</span><br><span class="hljs-string">    % ä»æ ‡ç­¾èŠ‚ç‚¹ zï¼ˆå³ E(s) é‚£ä¸ªæ ‡ç­¾çš„åæ ‡ï¼‰å‡ºå‘ï¼š</span><br><span class="hljs-string">    %   ä½¿ç”¨ |- è·¯å¾„è¯­æ³•ï¼šå…ˆç«–ç›´å†æ°´å¹³æ‹å¼¯ï¼Œ</span><br><span class="hljs-string">    %   ç”»åˆ° rateï¼ˆå¾®åˆ†é€šé“ï¼‰ï¼›</span><br><span class="hljs-string">    %   è¡¨ç¤ºè¯¯å·®ä¿¡å· E(s) åŒæ—¶é€å…¥å¾®åˆ†æ”¯è·¯ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (rate) -| (sum2);</span><br><span class="hljs-string">    % ä» rate è¾“å‡ºåˆ° sum2ï¼š</span><br><span class="hljs-string">    %   ä½¿ç”¨ -|ï¼šå…ˆæ°´å¹³å†ç«–ç›´æ‹å¼¯ï¼Œæ¥å…¥ sum2ï¼›</span><br><span class="hljs-string">    %   è¡¨ç¤ºå¾®åˆ†æ”¯è·¯çš„è¾“å‡ºä¸ä¸»é€šé“åœ¨ sum2 æ±‡æ€»ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (z) |- (up);</span><br><span class="hljs-string">    % ä» E(s) æ ‡ç­¾ï¼ˆzï¼‰åˆ°ç§¯åˆ†é€šé“ upï¼š</span><br><span class="hljs-string">    %   E(s) åŒæ—¶é€å…¥ç§¯åˆ†æ”¯è·¯ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (up) -| (sum2);</span><br><span class="hljs-string">    % ä»ç§¯åˆ†æ”¯è·¯ up è¾“å‡ºå›åˆ° sum2 ç›¸åŠ ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (y) |- (tmp1)-| node[pos=0.99] &#123;$-$&#125; (sum1);</span><br><span class="hljs-string">    % ä»è¾“å‡ºæ ‡ç­¾ yï¼ˆå³ Y(s) çš„ä½ç½®ï¼‰å‡ºå‘ï¼š</span><br><span class="hljs-string">    %   |- åˆ° tmp1ï¼šå…ˆç«–ç›´å†æ°´å¹³æ‹å¼¯ï¼Œè¾¾åˆ° H(s) æ ‡æ³¨çš„ä½ç½®ï¼›</span><br><span class="hljs-string">    %   å† -| åˆ° sum1ï¼šä» tmp1 ç»•å› sum1ï¼Œä¸‹ä¾§å½¢æˆåé¦ˆé—­ç¯ï¼›</span><br><span class="hljs-string">    %   åœ¨è¿™æ¡è·¯å¾„ä¸Šï¼Œç”¨ node[pos=0.99] &#123;$-$&#125; åœ¨æ¥è¿‘ç»ˆç‚¹çš„ä½ç½®æ ‡ä¸€ä¸ªå‡å·â€œâˆ’â€ï¼Œ</span><br><span class="hljs-string">    %   è¡¨ç¤ºåœ¨ sum1 å¤„æ˜¯è´Ÿåé¦ˆï¼ˆåé¦ˆä¿¡å·å¸¦è´Ÿå·ï¼‰ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] (extra)--(sum2);</span><br><span class="hljs-string">    % ä» extra æ¨¡å—ï¼ˆ1/Î±_&#123;Î²2&#125;ï¼‰è¾“å‡ºåˆ° sum2ï¼š</span><br><span class="hljs-string">    %   è¡¨ç¤ºä¸€ä¸ªå¤–éƒ¨è¾“å…¥ d_&#123;Î²2&#125; ç»è¿‡ extra åä¹ŸåŠ åˆ° sum2 ä¸­ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    \draw [-&gt;] ($(0,1.5cm)+(extra)$)node[above]&#123;$d_&#123;\beta 2&#125;$&#125; -- (extra);</span><br><span class="hljs-string">    % ä½¿ç”¨ calc åº“çš„åæ ‡è®¡ç®—ï¼š</span><br><span class="hljs-string">    %   $(extra)$ è¡¨ç¤º extra èŠ‚ç‚¹çš„åæ ‡ï¼›</span><br><span class="hljs-string">    %   $(0,1.5cm)+(extra)$ è¡¨ç¤ºåœ¨ extra ä¸Šæ–¹ 1.5cm çš„ä½ç½®ï¼›</span><br><span class="hljs-string">    %   ä»è¿™ä¸ªä¸Šæ–¹çš„ç‚¹ç”»ä¸€æ¡ç®­å¤´æŒ‡å‘ extraã€‚</span><br><span class="hljs-string">    % åœ¨çº¿æ®µèµ·ç‚¹å¤„æ”¾ç½®ä¸€ä¸ª node[above]&#123;$d_&#123;\beta 2&#125;$&#125;ï¼š</span><br><span class="hljs-string">    %   æ–‡å­— d_&#123;Î²2&#125; æ˜¾ç¤ºåœ¨è¿™æ¡ç®­çš„ä¸Šæ–¹ï¼Œè¡¨ç¤ºå¤–éƒ¨æ‰°åŠ¨/è¾“å…¥ d_&#123;Î²2&#125;ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">\end&#123;tikzpicture&#125;</span><br><span class="hljs-string">% ç»“æŸæ•´ä¸ªæ§åˆ¶æ¡†å›¾çš„ç»˜åˆ¶ã€‚</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœ <img src="f6.png" alt="regular" /></p>]]></content>
    
    
    <categories>
      
      <category>LaTex</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LaTex</tag>
      
      <tag>TikZ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pytorch ç³»åˆ— - 3. MINIST æ•°æ®</title>
    <link href="/2025/11/14/Pytorch/pytorch_3-MINIST-2025_11_14/"/>
    <url>/2025/11/14/Pytorch/pytorch_3-MINIST-2025_11_14/</url>
    
    <content type="html"><![CDATA[<h1 id="pytorch-ç³»åˆ—---3.-åˆ©ç”¨-cnn-æ­å»º-mnist-æ‰‹å†™æ•°å­—è¯†åˆ«ç³»ç»Ÿ">Pytorchç³»åˆ— - 3. åˆ©ç”¨ CNN æ­å»º MNIST æ‰‹å†™æ•°å­—è¯†åˆ«ç³»ç»Ÿ</h1><h2 id="å¼•è¨€">å¼•è¨€</h2><p>æ‰‹å†™æ•°å­—è¯†åˆ«æ˜¯æ·±åº¦å­¦ä¹ é¢†åŸŸçš„ â€œHello Worldâ€é¡¹ç›®ï¼Œä¹Ÿæ˜¯è®¡ç®—æœºè§†è§‰å…¥é—¨çš„æœ€ä½³å®è·µã€‚æœ¬æ–‡å°†è¯¦ç»†è§£æä¸€ä¸ªå®Œæ•´çš„MNISTæ‰‹å†™æ•°å­—è¯†åˆ«é¡¹ç›®ï¼Œä»æ•°æ®åŠ è½½ã€æ¨¡å‹æ„å»ºã€è®­ç»ƒä¼˜åŒ–åˆ°æ€§èƒ½è¯„ä¼°ï¼Œå…¨é¢æŒæ¡CNNå›¾åƒåˆ†ç±»çš„æ ¸å¿ƒæŠ€æœ¯ã€‚</p><h2 id="ç›®å½•">ç›®å½•</h2><ol type="1"><li>MNISTæ•°æ®é›†è¯¦è§£</li><li>æ•°æ®é¢„å¤„ç†ä¸å¢å¼º</li><li>CNNç½‘ç»œæ¶æ„è®¾è®¡</li><li>è®­ç»ƒæµç¨‹ä¸ä¼˜åŒ–ç­–ç•¥</li><li>æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–</li><li>å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–å»ºè®®</li></ol><hr /><h2 id="ä¸€mnistæ•°æ®é›†è¯¦è§£">ä¸€ã€MNISTæ•°æ®é›†è¯¦è§£</h2><h3 id="ä»€ä¹ˆæ˜¯mnist">1.1 ä»€ä¹ˆæ˜¯MNISTï¼Ÿ</h3><p>MNISTï¼ˆModified National Institute of Standards andTechnologyï¼‰æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸæœ€è‘—åçš„æ•°æ®é›†ä¹‹ä¸€ï¼ŒåŒ…å«70,000å¼ æ‰‹å†™æ•°å­—å›¾åƒï¼š</p><p><span class="math display">\[\varphi = 1+\frac{1} {1+\frac{1} {1+\frac{1} {1+\cdots} } }\]</span></p><ul><li><strong>è®­ç»ƒé›†</strong>ï¼š60,000å¼ å›¾åƒ</li><li><strong>æµ‹è¯•é›†</strong>ï¼š10,000å¼ å›¾åƒ</li><li><strong>å›¾åƒå°ºå¯¸</strong>ï¼š28Ã—28åƒç´ çš„ç°åº¦å›¾</li><li><strong>ç±»åˆ«æ•°é‡</strong>ï¼š10ç±»ï¼ˆæ•°å­—0-9ï¼‰</li></ul><figure><img src="MINIST.png" alt="regular" /><figcaption aria-hidden="true">regular</figcaption></figure><h3 id="ä½¿ç”¨torchvisionåŠ è½½æ•°æ®">1.2 ä½¿ç”¨torchvisionåŠ è½½æ•°æ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torchvision <span class="hljs-keyword">import</span> datasets, transforms<br><br><span class="hljs-comment"># ä¸‹è½½å¹¶åŠ è½½MNISTæ•°æ®é›†</span><br>mnist_train = datasets.MNIST(<br>    root=<span class="hljs-string">&quot;./dataset&quot;</span>,<br>    train=<span class="hljs-literal">True</span>,<br>    download=<span class="hljs-literal">True</span>,<br>    transform=transforms.ToTensor()<br>)<br></code></pre></td></tr></table></figure><p><strong>å…³é”®å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>root</code>ï¼šæ•°æ®å­˜å‚¨è·¯å¾„ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºMNISTå­ç›®å½•</li><li><code>train</code>ï¼šTrueåŠ è½½è®­ç»ƒé›†ï¼ŒFalseåŠ è½½æµ‹è¯•é›†</li><li><code>download</code>ï¼šé¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨ä»ç½‘ç»œä¸‹è½½</li><li><code>transform</code>ï¼šæ•°æ®è½¬æ¢æ“ä½œï¼Œè¿™é‡Œå°†PILå›¾åƒè½¬ä¸ºTensor</li></ul><p><strong>æ•°æ®å­˜å‚¨ç»“æ„</strong>ï¼š <figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix">.<span class="hljs-operator">/</span>dataset<span class="hljs-symbol">/</span><br>â””â”€â”€ MNIST<span class="hljs-symbol">/</span><br>    â”œâ”€â”€ raw<span class="hljs-symbol">/</span>          <span class="hljs-comment"># åŸå§‹.gzå‹ç¼©æ–‡ä»¶</span><br>    â””â”€â”€ processed<span class="hljs-symbol">/</span>    <span class="hljs-comment"># å¤„ç†åçš„.ptç¼“å­˜æ–‡ä»¶</span><br></code></pre></td></tr></table></figure></p><h3 id="dataloaderé«˜æ•ˆçš„æ•°æ®åŠ è½½å™¨">1.3DataLoaderï¼šé«˜æ•ˆçš„æ•°æ®åŠ è½½å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> DataLoader<br><br>train_loader = DataLoader(<br>    dataset=train_dataset,<br>    batch_size=<span class="hljs-number">64</span>,<br>    shuffle=<span class="hljs-literal">True</span>,<br>    num_workers=<span class="hljs-number">0</span><br>)<br></code></pre></td></tr></table></figure><p><strong>DataLoaderçš„ä½œç”¨</strong>ï¼š</p><ol type="1"><li><strong>æ‰¹å¤„ç†</strong>ï¼ˆBatchingï¼‰ï¼šå°†æ ·æœ¬ç»„ç»‡æˆæ‰¹æ¬¡ï¼Œæé«˜GPUåˆ©ç”¨ç‡</li><li><strong>æ‰“ä¹±</strong>ï¼ˆShufflingï¼‰ï¼šéšæœºåŒ–è®­ç»ƒé¡ºåºï¼Œé¿å…æ¨¡å‹è®°å¿†æ ·æœ¬é¡ºåº</li><li><strong>å¹¶è¡ŒåŠ è½½</strong>ï¼ˆMulti-processingï¼‰ï¼šé€šè¿‡num_workersåŠ é€Ÿæ•°æ®è¯»å–</li></ol><p><strong>æœ€ä½³å®è·µ</strong>ï¼š -è®­ç»ƒé›†ï¼š<code>shuffle=True</code>ï¼Œæ‰“ç ´æ ·æœ¬ç›¸å…³æ€§ -æµ‹è¯•é›†ï¼š<code>shuffle=False</code>ï¼Œä¿æŒè¯„ä¼°ä¸€è‡´æ€§ -<code>batch_size</code>ï¼šæ ¹æ®æ˜¾å­˜è°ƒæ•´ï¼Œå¸¸ç”¨32/64/128 -<code>num_workers</code>ï¼šWindowså»ºè®®0ï¼ŒLinux/Macå¯è®¾ä¸º4-8</p><hr /><h2 id="äºŒæ•°æ®é¢„å¤„ç†ä¸æ ‡å‡†åŒ–">äºŒã€æ•°æ®é¢„å¤„ç†ä¸æ ‡å‡†åŒ–</h2><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®é¢„å¤„ç†">2.1 ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®é¢„å¤„ç†ï¼Ÿ</h3><p>åŸå§‹å›¾åƒåƒç´ å€¼èŒƒå›´æ˜¯[0, 255]ï¼Œç›´æ¥è¾“å…¥ç¥ç»ç½‘ç»œä¼šå¯¼è‡´ï¼š</p><ol type="1"><li><strong>æ¢¯åº¦çˆ†ç‚¸/æ¶ˆå¤±</strong>ï¼šæ•°å€¼è¿‡å¤§å¯¼è‡´æ¢¯åº¦ä¸ç¨³å®š</li><li><strong>æ”¶æ•›ç¼“æ…¢</strong>ï¼šä¸åŒç‰¹å¾é‡çº§å·®å¼‚å¤§ï¼Œä¼˜åŒ–å›°éš¾</li><li><strong>æ¿€æ´»å‡½æ•°é¥±å’Œ</strong>ï¼šè¶…å‡ºæ¿€æ´»å‡½æ•°æœ‰æ•ˆåŒºé—´</li></ol><h3 id="æ ‡å‡†åŒ–æµç¨‹">2.2 æ ‡å‡†åŒ–æµç¨‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">transform = transforms.Compose([<br>    transforms.ToTensor(),                              <span class="hljs-comment"># æ­¥éª¤1</span><br>    transforms.Normalize(mean=(<span class="hljs-number">0.1307</span>,), std=(<span class="hljs-number">0.3081</span>,)) <span class="hljs-comment"># æ­¥éª¤2</span><br>])<br></code></pre></td></tr></table></figure><p><strong>æ­¥éª¤1ï¼šToTensor()</strong> -å°†PILå›¾åƒ/NumPyæ•°ç»„è½¬ä¸ºPyTorchå¼ é‡ - å½¢çŠ¶å˜æ¢ï¼š[H, W, C] â†’ [C, H, W] -åƒç´ å½’ä¸€åŒ–ï¼š[0, 255] â†’ [0, 1]</p><p><strong>æ­¥éª¤2ï¼šNormalize()</strong> -å…¬å¼ï¼š<code>output = (input - mean) / std</code> - MNISTçš„å…¨å±€ç»Ÿè®¡å€¼ï¼š -å‡å€¼ï¼ˆmeanï¼‰= 0.1307 - æ ‡å‡†å·®ï¼ˆstdï¼‰= 0.3081 -ç»“æœï¼šæ•°æ®åˆ†å¸ƒè¿‘ä¼¼æ ‡å‡†æ­£æ€åˆ†å¸ƒN(0, 1)</p><h3 id="æ ‡å‡†åŒ–çš„æ•°å­¦åŸç†">2.3 æ ‡å‡†åŒ–çš„æ•°å­¦åŸç†</h3><p>å¯¹äºæ¯ä¸ªåƒç´ å€¼ <spanclass="math inline">\(x\)</span>ï¼Œæ ‡å‡†åŒ–æ“ä½œä¸ºï¼š</p><p><span class="math display">\[x_{normalized} = \frac{x - \mu}{\sigma}\]</span></p><p>å…¶ä¸­ <span class="math inline">\(\mu\)</span> æ˜¯å‡å€¼ï¼Œ<spanclass="math inline">\(\sigma\)</span> æ˜¯æ ‡å‡†å·®ã€‚æ ‡å‡†åŒ–åçš„æ•°æ®å…·æœ‰ï¼š -å‡å€¼ä¸º0 - æ ‡å‡†å·®ä¸º1 - æ¶ˆé™¤é‡çº²å½±å“</p><p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨0.1307å’Œ0.3081ï¼Ÿ</strong></p><p>è¿™ä¸¤ä¸ªå€¼æ˜¯é€šè¿‡è®¡ç®—æ•´ä¸ªMNISTè®­ç»ƒé›†çš„å…¨å±€å‡å€¼å’Œæ ‡å‡†å·®å¾—åˆ°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®¡ç®—MNISTè®­ç»ƒé›†çš„å…¨å±€ç»Ÿè®¡å€¼</span><br>mean = train_data.mean() / <span class="hljs-number">255.0</span>  <span class="hljs-comment"># â‰ˆ 0.1307</span><br>std = train_data.std() / <span class="hljs-number">255.0</span>    <span class="hljs-comment"># â‰ˆ 0.3081</span><br></code></pre></td></tr></table></figure><hr /><h2 id="ä¸‰cnnç½‘ç»œæ¶æ„è®¾è®¡">ä¸‰ã€CNNç½‘ç»œæ¶æ„è®¾è®¡</h2><h3 id="å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€">3.1 å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€</h3><p>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰æ˜¯ä¸“é—¨å¤„ç†å›¾åƒæ•°æ®çš„æ·±åº¦å­¦ä¹ æ¶æ„ï¼Œä¸»è¦ç”±ä»¥ä¸‹ç»„ä»¶æ„æˆï¼š</p><ol type="1"><li><strong>å·ç§¯å±‚</strong>ï¼ˆConvolutional Layerï¼‰ï¼šç‰¹å¾æå–</li><li><strong>æ¿€æ´»å‡½æ•°</strong>ï¼ˆActivationï¼‰ï¼šå¼•å…¥éçº¿æ€§</li><li><strong>æ± åŒ–å±‚</strong>ï¼ˆPooling Layerï¼‰ï¼šé™ç»´ä¸ç‰¹å¾é€‰æ‹©</li><li><strong>å…¨è¿æ¥å±‚</strong>ï¼ˆFully Connected Layerï¼‰ï¼šåˆ†ç±»å†³ç­–</li></ol><h3 id="æ¨¡å‹æ¶æ„è¯¦è§£">3.2 æ¨¡å‹æ¶æ„è¯¦è§£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MNIST_CNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(MNIST_CNN, <span class="hljs-variable language_">self</span>).__init__()<br>        <br>        <span class="hljs-comment"># ç¬¬ä¸€å·ç§¯æ¨¡å—</span><br>        <span class="hljs-variable language_">self</span>.conv1 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, kernel_size=<span class="hljs-number">5</span>),<br>            nn.ReLU(),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>)<br>        )<br>        <br>        <span class="hljs-comment"># ç¬¬äºŒå·ç§¯æ¨¡å—</span><br>        <span class="hljs-variable language_">self</span>.conv2 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, kernel_size=<span class="hljs-number">5</span>),<br>            nn.ReLU(),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>)<br>        )<br>        <br>        <span class="hljs-comment"># å…¨è¿æ¥æ¨¡å—</span><br>        <span class="hljs-variable language_">self</span>.fc = nn.Sequential(<br>            nn.Flatten(),<br>            nn.Linear(<span class="hljs-number">320</span>, <span class="hljs-number">50</span>),<br>            nn.Linear(<span class="hljs-number">50</span>, <span class="hljs-number">10</span>)<br>        )<br></code></pre></td></tr></table></figure><h3 id="ç‰¹å¾å›¾å°ºå¯¸è®¡ç®—">3.3 ç‰¹å¾å›¾å°ºå¯¸è®¡ç®—</h3><p><strong>è¾“å…¥å±‚</strong>ï¼š<code>[batch_size, 1, 28, 28]</code></p><p><strong>ç¬¬ä¸€å·ç§¯æ¨¡å—</strong>ï¼š - Conv2d(1â†’10,5Ã—5)ï¼š<code>[B, 1, 28, 28]</code> â†’ <code>[B, 10, 24, 24]</code> -è®¡ç®—å…¬å¼ï¼š<span class="math inline">\(H_{out} = H_{in} - kernel\_size +1 = 28 - 5 + 1 = 24\)</span> -MaxPool2d(2Ã—2)ï¼š<code>[B, 10, 24, 24]</code> â†’<code>[B, 10, 12, 12]</code> - æ¯ä¸ªç»´åº¦ç¼©å°ä¸€åŠï¼š<spanclass="math inline">\(24 \div 2 = 12\)</span></p><p><strong>ç¬¬äºŒå·ç§¯æ¨¡å—</strong>ï¼š - Conv2d(10â†’20,5Ã—5)ï¼š<code>[B, 10, 12, 12]</code> â†’ <code>[B, 20, 8, 8]</code> - <spanclass="math inline">\(H_{out} = 12 - 5 + 1 = 8\)</span> -MaxPool2d(2Ã—2)ï¼š<code>[B, 20, 8, 8]</code> â†’ <code>[B, 20, 4, 4]</code>- <span class="math inline">\(8 \div 2 = 4\)</span></p><p><strong>å…¨è¿æ¥å±‚</strong>ï¼š - Flattenï¼š<code>[B, 20, 4, 4]</code> â†’<code>[B, 320]</code> - <span class="math inline">\(20 \times 4 \times 4= 320\)</span> - Linear(320â†’50)ï¼š<code>[B, 320]</code> â†’<code>[B, 50]</code> - Linear(50â†’10)ï¼š<code>[B, 50]</code> â†’<code>[B, 10]</code></p><p><strong>è¾“å‡ºå±‚</strong>ï¼š<code>[batch_size, 10]</code>ï¼Œ10ä¸ªlogitså¯¹åº”10ä¸ªç±»åˆ«</p><h3 id="å…³é”®å±‚è¯¦è§£">3.4 å…³é”®å±‚è¯¦è§£</h3><h4 id="å·ç§¯å±‚conv2d">å·ç§¯å±‚ï¼ˆConv2dï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">nn.Conv2d(in_channels, out_channels, kernel_size)<br></code></pre></td></tr></table></figure><p><strong>ä½œç”¨</strong>ï¼šé€šè¿‡å·ç§¯æ ¸æ»‘åŠ¨æå–å±€éƒ¨ç‰¹å¾</p><p><strong>å‚æ•°</strong>ï¼š -<code>in_channels</code>ï¼šè¾“å…¥é€šé“æ•°ï¼ˆç°åº¦å›¾=1ï¼ŒRGB=3ï¼‰ -<code>out_channels</code>ï¼šè¾“å‡ºé€šé“æ•°ï¼ˆç‰¹å¾å›¾æ•°é‡ï¼‰ -<code>kernel_size</code>ï¼šå·ç§¯æ ¸å¤§å°ï¼ˆå¸¸ç”¨3Ã—3, 5Ã—5ï¼‰</p><p><strong>ç‰¹ç‚¹</strong>ï¼š - å±€éƒ¨è¿æ¥ï¼šåªå…³æ³¨å±€éƒ¨åŒºåŸŸ -æƒé‡å…±äº«ï¼šåŒä¸€å·ç§¯æ ¸æ‰«ææ•´ä¸ªå›¾åƒ - å‚æ•°é‡ï¼š<spanclass="math inline">\(kernel\_size^2 \times in\_channels \timesout\_channels\)</span></p><h4 id="æ¿€æ´»å‡½æ•°relu">æ¿€æ´»å‡½æ•°ï¼ˆReLUï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">nn.ReLU()<br></code></pre></td></tr></table></figure><p><strong>å…¬å¼</strong>ï¼š<span class="math inline">\(ReLU(x) = max(0,x)\)</span></p><p><strong>ä¼˜ç‚¹</strong>ï¼š - è®¡ç®—ç®€å•ï¼Œè®­ç»ƒé€Ÿåº¦å¿« - ç¼“è§£æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ -å¼•å…¥éçº¿æ€§ï¼Œå¢å¼ºæ¨¡å‹è¡¨è¾¾èƒ½åŠ›</p><h4 id="æ± åŒ–å±‚maxpool2d">æ± åŒ–å±‚ï¼ˆMaxPool2dï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p><strong>ä½œç”¨</strong>ï¼š - é™ä½ç‰¹å¾å›¾ç©ºé—´ç»´åº¦ - å‡å°‘å‚æ•°é‡å’Œè®¡ç®—é‡ -æä¾›å¹³ç§»ä¸å˜æ€§</p><p><strong>MaxPooling vs AvgPooling</strong>ï¼š -MaxPoolingï¼šå–åŒºåŸŸæœ€å¤§å€¼ï¼Œä¿ç•™æ˜¾è‘—ç‰¹å¾ -AvgPoolingï¼šå–åŒºåŸŸå¹³å‡å€¼ï¼Œä¿ç•™æ•´ä½“ä¿¡æ¯</p><hr /><h2 id="å››è®­ç»ƒæµç¨‹ä¸ä¼˜åŒ–ç­–ç•¥">å››ã€è®­ç»ƒæµç¨‹ä¸ä¼˜åŒ–ç­–ç•¥</h2><h3 id="å®Œæ•´è®­ç»ƒæµç¨‹">4.1 å®Œæ•´è®­ç»ƒæµç¨‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">model, train_loader, optimizer, epoch</span>):<br>    model.train()  <span class="hljs-comment"># è®¾ç½®ä¸ºè®­ç»ƒæ¨¡å¼</span><br>    <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(epoch):<br>        <span class="hljs-keyword">for</span> batch_idx, data <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(train_loader):<br>            <span class="hljs-comment"># 1. æ•°æ®åŠ è½½</span><br>            inputs, labels = data[<span class="hljs-number">0</span>].to(device), data[<span class="hljs-number">1</span>].to(device)<br>            <br>            <span class="hljs-comment"># 2. æ¸…é›¶æ¢¯åº¦</span><br>            optimizer.zero_grad()<br>            <br>            <span class="hljs-comment"># 3. å‰å‘ä¼ æ’­</span><br>            outputs = model(inputs)<br>            <br>            <span class="hljs-comment"># 4. è®¡ç®—æŸå¤±</span><br>            loss = criterion(outputs, labels)<br>            <br>            <span class="hljs-comment"># 5. åå‘ä¼ æ’­</span><br>            loss.backward()<br>            <br>            <span class="hljs-comment"># 6. å‚æ•°æ›´æ–°</span><br>            optimizer.step()<br></code></pre></td></tr></table></figure><h3 id="è®­ç»ƒå¾ªç¯å…³é”®æ­¥éª¤">4.2 è®­ç»ƒå¾ªç¯å…³é”®æ­¥éª¤</h3><h4 id="æ­¥éª¤1æ•°æ®åŠ è½½">æ­¥éª¤1ï¼šæ•°æ®åŠ è½½</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">inputs, labels = data[<span class="hljs-number">0</span>].to(device), data[<span class="hljs-number">1</span>].to(device)<br></code></pre></td></tr></table></figure><ul><li><code>data</code>æ˜¯DataLoaderè¿”å›çš„å…ƒç»„ï¼š(å›¾åƒ, æ ‡ç­¾)</li><li><code>.to(device)</code>ï¼šå°†æ•°æ®ç§»åŠ¨åˆ°GPU/CPU</li></ul><h4 id="æ­¥éª¤2æ¸…é›¶æ¢¯åº¦">æ­¥éª¤2ï¼šæ¸…é›¶æ¢¯åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">optimizer.zero_grad()<br></code></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ</strong></p><p>PyTorché»˜è®¤ä¼šç´¯ç§¯æ¢¯åº¦ï¼Œå¦‚æœä¸æ¸…é›¶ï¼š <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç¬¬ä¸€æ¬¡backward</span><br>loss1.backward()  <span class="hljs-comment"># grad = grad1</span><br><br><span class="hljs-comment"># ç¬¬äºŒæ¬¡backwardï¼ˆæœªæ¸…é›¶ï¼‰</span><br>loss2.backward()  <span class="hljs-comment"># grad = grad1 + grad2  âŒé”™è¯¯ï¼</span><br></code></pre></td></tr></table></figure></p><p>æ­£ç¡®åšæ³•ï¼š <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">optimizer.zero_grad()  <span class="hljs-comment"># grad = 0</span><br>loss.backward()        <span class="hljs-comment"># grad = grad_new âœ“</span><br></code></pre></td></tr></table></figure></p><h4 id="æ­¥éª¤3-4å‰å‘ä¼ æ’­ä¸æŸå¤±è®¡ç®—">æ­¥éª¤3-4ï¼šå‰å‘ä¼ æ’­ä¸æŸå¤±è®¡ç®—</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">outputs = model(inputs)         <span class="hljs-comment"># å‰å‘ä¼ æ’­</span><br>loss = criterion(outputs, labels)  <span class="hljs-comment"># è®¡ç®—æŸå¤±</span><br></code></pre></td></tr></table></figure><p><strong>CrossEntropyLossè¯¦è§£</strong>ï¼š</p><p><span class="math display">\[Loss = -\sum_{i=1}^{C} y_i \log(\hat{y}_i)\]</span></p><p>å…¶ä¸­ï¼š - <spanclass="math inline">\(y_i\)</span>ï¼šçœŸå®æ ‡ç­¾çš„one-hotç¼–ç  - <spanclass="math inline">\(\hat{y}_i\)</span>ï¼šç»è¿‡softmaxçš„é¢„æµ‹æ¦‚ç‡</p><p><strong>å†…éƒ¨å®ç°</strong>ï¼š 1. å¯¹logitsåº”ç”¨softmaxï¼š<spanclass="math inline">\(\hat{y}_i = \frac{e^{z_i}}{\sum_{j=1}^{C}e^{z_j}}\)</span> 2. è®¡ç®—è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±</p><h4 id="æ­¥éª¤5-6åå‘ä¼ æ’­ä¸å‚æ•°æ›´æ–°">æ­¥éª¤5-6ï¼šåå‘ä¼ æ’­ä¸å‚æ•°æ›´æ–°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">loss.backward()    <span class="hljs-comment"># åå‘ä¼ æ’­ï¼šè®¡ç®—æ¢¯åº¦</span><br>optimizer.step()   <span class="hljs-comment"># å‚æ•°æ›´æ–°ï¼šåº”ç”¨æ¢¯åº¦</span><br></code></pre></td></tr></table></figure><p><strong>åå‘ä¼ æ’­åŸç†</strong>ï¼š</p><p>é€šè¿‡é“¾å¼æ³•åˆ™è®¡ç®—æŸå¤±å¯¹æ¯ä¸ªå‚æ•°çš„åå¯¼æ•°ï¼š</p><p><span class="math display">\[\frac{\partial L}{\partial w} = \frac{\partial L}{\partial y} \cdot\frac{\partial y}{\partial w}\]</span></p><p><strong>å‚æ•°æ›´æ–°ï¼ˆSGDï¼‰</strong>ï¼š</p><p><span class="math display">\[w_{new} = w_{old} - \eta \cdot \frac{\partial L}{\partial w}\]</span></p><p>å…¶ä¸­ <span class="math inline">\(\eta\)</span> æ˜¯å­¦ä¹ ç‡ï¼ˆlearningrateï¼‰</p><h3 id="ä¼˜åŒ–å™¨é€‰æ‹©">4.3 ä¼˜åŒ–å™¨é€‰æ‹©</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">optimizer = optim.SGD(<br>    model.parameters(),<br>    lr=<span class="hljs-number">0.01</span>,<br>    momentum=<span class="hljs-number">0.9</span><br>)<br></code></pre></td></tr></table></figure><h4 id="sgd-with-momentum">SGD with Momentum</h4><p><strong>æ ‡å‡†SGD</strong>ï¼š <span class="math display">\[w_{t+1} = w_t - \eta \cdot g_t\]</span></p><p><strong>å¸¦åŠ¨é‡çš„SGD</strong>ï¼š <span class="math display">\[v_{t+1} = \beta \cdot v_t + g_t\]</span> <span class="math display">\[w_{t+1} = w_t - \eta \cdot v_{t+1}\]</span></p><p><strong>ä¼˜ç‚¹</strong>ï¼š - åŠ é€Ÿæ”¶æ•›ï¼šå€ŸåŠ©å†å²æ¢¯åº¦çš„â€æƒ¯æ€§â€ -å‡å°‘éœ‡è¡ï¼šå¹³æ»‘æ¢¯åº¦æ›´æ–°æ–¹å‘ - è·³å‡ºå±€éƒ¨æœ€ä¼˜ï¼šåŠ¨é‡å¸®åŠ©è¶Šè¿‡å°çš„â€å±±è°·â€</p><h4 id="å…¶ä»–å¸¸ç”¨ä¼˜åŒ–å™¨">å…¶ä»–å¸¸ç”¨ä¼˜åŒ–å™¨</h4><table><thead><tr><th>ä¼˜åŒ–å™¨</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>SGD</td><td>ç®€å•ç¨³å®š</td><td>è®¡ç®—æœºè§†è§‰ä»»åŠ¡</td></tr><tr><td>Adam</td><td>è‡ªé€‚åº”å­¦ä¹ ç‡</td><td>å¤§å¤šæ•°æ·±åº¦å­¦ä¹ ä»»åŠ¡</td></tr><tr><td>AdamW</td><td>Adam + æƒé‡è¡°å‡</td><td>Transformeræ¨¡å‹</td></tr><tr><td>RMSprop</td><td>è‡ªé€‚åº”å­¦ä¹ ç‡</td><td>RNNä»»åŠ¡</td></tr></tbody></table><h3 id="å­¦ä¹ ç‡è°ƒåº¦">4.4 å­¦ä¹ ç‡è°ƒåº¦</h3><p>å›ºå®šå­¦ä¹ ç‡å¯èƒ½å¯¼è‡´ï¼š - åˆæœŸï¼šå­¦ä¹ ç‡è¿‡å°ï¼Œæ”¶æ•›æ…¢ -åæœŸï¼šå­¦ä¹ ç‡è¿‡å¤§ï¼Œæ— æ³•æ”¶æ•›</p><p><strong>å¸¸ç”¨ç­–ç•¥</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. é˜¶æ¢¯å¼è¡°å‡</span><br>scheduler = optim.lr_scheduler.StepLR(optimizer, step_size=<span class="hljs-number">30</span>, gamma=<span class="hljs-number">0.1</span>)<br><br><span class="hljs-comment"># 2. ä½™å¼¦é€€ç«</span><br>scheduler = optim.lr_scheduler.CosineAnnealingLR(optimizer, T_max=<span class="hljs-number">100</span>)<br><br><span class="hljs-comment"># 3. è‡ªé€‚åº”è°ƒæ•´</span><br>scheduler = optim.lr_scheduler.ReduceLROnPlateau(optimizer, patience=<span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><hr /><h2 id="äº”æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–">äº”ã€æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–</h2><h3 id="è¯„ä¼°æŒ‡æ ‡ä½“ç³»">5.1 è¯„ä¼°æŒ‡æ ‡ä½“ç³»</h3><h4 id="å‡†ç¡®ç‡accuracy">å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰</h4><p><span class="math display">\[Accuracy = \frac{æ­£ç¡®é¢„æµ‹æ•°}{æ€»æ ·æœ¬æ•°}\]</span></p><p><strong>ä¼˜ç‚¹</strong>ï¼šç›´è§‚æ˜“æ‡‚<strong>ç¼ºç‚¹</strong>ï¼šç±»åˆ«ä¸å¹³è¡¡æ—¶ä¼šè¯¯å¯¼</p><h4 id="ç²¾ç¡®ç‡precision">ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰</h4><p><span class="math display">\[Precision = \frac{TP}{TP + FP}\]</span></p><p><strong>å«ä¹‰</strong>ï¼šé¢„æµ‹ä¸ºæ­£ä¾‹ä¸­ï¼ŒçœŸæ­£ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹</p><h4 id="å¬å›ç‡recall">å¬å›ç‡ï¼ˆRecallï¼‰</h4><p><span class="math display">\[Recall = \frac{TP}{TP + FN}\]</span></p><p><strong>å«ä¹‰</strong>ï¼šçœŸå®æ­£ä¾‹ä¸­ï¼Œè¢«æ­£ç¡®é¢„æµ‹çš„æ¯”ä¾‹</p><h4 id="f1åˆ†æ•°">F1åˆ†æ•°</h4><p><span class="math display">\[F1 = 2 \cdot \frac{Precision \times Recall}{Precision + Recall}\]</span></p><p><strong>å«ä¹‰</strong>ï¼šç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡</p><h3 id="ä½¿ç”¨sklearnç”Ÿæˆåˆ†ç±»æŠ¥å‘Š">5.2 ä½¿ç”¨sklearnç”Ÿæˆåˆ†ç±»æŠ¥å‘Š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> classification_report<br><br><span class="hljs-comment"># æ”¶é›†é¢„æµ‹ç»“æœ</span><br>y_trues, y_preds = [], []<br>model.<span class="hljs-built_in">eval</span>()<br><span class="hljs-keyword">with</span> torch.no_grad():<br>    <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> test_loader:<br>        x = x.to(device)<br>        logits = model(x)<br>        preds = logits.argmax(dim=<span class="hljs-number">1</span>).cpu()<br>        y_preds.extend(preds.numpy())<br>        y_trues.extend(y.numpy())<br><br><span class="hljs-comment"># ç”ŸæˆæŠ¥å‘Š</span><br><span class="hljs-built_in">print</span>(classification_report(y_trues, y_preds, target_names=classes))<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š <figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs crystal">              precision    recall  f1-score   support<br><br>           <span class="hljs-number">0</span>       <span class="hljs-number">0.98</span>      <span class="hljs-number">0.99</span>      <span class="hljs-number">0.99</span>       <span class="hljs-number">980</span><br>           <span class="hljs-number">1</span>       <span class="hljs-number">0.99</span>      <span class="hljs-number">0.99</span>      <span class="hljs-number">0.99</span>      <span class="hljs-number">1135</span><br>           <span class="hljs-number">2</span>       <span class="hljs-number">0.98</span>      <span class="hljs-number">0.97</span>      <span class="hljs-number">0.98</span>      <span class="hljs-number">1032</span><br>           ...<br>    accuracy                           <span class="hljs-number">0.98</span>     <span class="hljs-number">10000</span><br>   <span class="hljs-function"><span class="hljs-keyword">macro</span> <span class="hljs-title">avg</span></span>       <span class="hljs-number">0.98</span>      <span class="hljs-number">0.98</span>      <span class="hljs-number">0.98</span>     <span class="hljs-number">10000</span><br>weighted avg       <span class="hljs-number">0.98</span>      <span class="hljs-number">0.98</span>      <span class="hljs-number">0.98</span>     <span class="hljs-number">10000</span><br></code></pre></td></tr></table></figure></p><h3 id="æ··æ·†çŸ©é˜µå¯è§†åŒ–">5.3 æ··æ·†çŸ©é˜µå¯è§†åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> confusion_matrix, ConfusionMatrixDisplay<br><br><span class="hljs-comment"># è®¡ç®—æ··æ·†çŸ©é˜µ</span><br>cm = confusion_matrix(y_trues, y_preds)<br><br><span class="hljs-comment"># å¯è§†åŒ–</span><br>disp = ConfusionMatrixDisplay(confusion_matrix=cm, display_labels=classes)<br>disp.plot(cmap=plt.cm.Blues)<br>plt.title(<span class="hljs-string">&quot;Confusion Matrix&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><strong>æ··æ·†çŸ©é˜µè§£è¯»</strong>ï¼š</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs tap">            é¢„æµ‹<br>         <span class="hljs-number"> 0 </span> <span class="hljs-number"> 1 </span> <span class="hljs-number"> 2 </span>  ...<br>çœŸ <span class="hljs-number"> 0 </span>  [950 <span class="hljs-number"> 0 </span> <span class="hljs-number"> 2 </span> ...]<br>å® <span class="hljs-number"> 1 </span>  [<span class="hljs-number"> 0 </span><span class="hljs-number"> 980 </span><span class="hljs-number"> 1 </span> ...]<br>   <span class="hljs-number"> 2 </span>  [<span class="hljs-number"> 3 </span> <span class="hljs-number"> 1 </span><span class="hljs-number"> 970 </span>...]<br>    ...<br></code></pre></td></tr></table></figure><ul><li>å¯¹è§’çº¿ï¼šæ­£ç¡®é¢„æµ‹æ•°é‡</li><li>éå¯¹è§’çº¿ï¼šè¯¯åˆ†ç±»æƒ…å†µ</li><li>è¡Œå’Œï¼šæ¯ä¸ªç±»åˆ«çš„çœŸå®æ•°é‡</li><li>åˆ—å’Œï¼šæ¯ä¸ªç±»åˆ«çš„é¢„æµ‹æ•°é‡</li></ul><p><strong>å¸¸è§è¯¯åˆ†ç±»åˆ†æ</strong>ï¼š - æ•°å­—1å’Œ7å®¹æ˜“æ··æ·† -æ•°å­—4å’Œ9å®¹æ˜“æ··æ·† - æ•°å­—3å’Œ8å®¹æ˜“æ··æ·†</p><h3 id="æ¨¡å‹é¢„æµ‹æµç¨‹">5.4 æ¨¡å‹é¢„æµ‹æµç¨‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">model.<span class="hljs-built_in">eval</span>()  <span class="hljs-comment"># è¯„ä¼°æ¨¡å¼</span><br><span class="hljs-keyword">with</span> torch.no_grad():  <span class="hljs-comment"># ä¸è®¡ç®—æ¢¯åº¦</span><br>    outputs = model(inputs)<br>    preds = outputs.argmax(dim=<span class="hljs-number">1</span>)  <span class="hljs-comment"># å–æœ€å¤§æ¦‚ç‡çš„ç±»åˆ«</span><br></code></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆéœ€è¦model.eval()ï¼Ÿ</strong></p><p>è®­ç»ƒæ¨¡å¼å’Œè¯„ä¼°æ¨¡å¼çš„åŒºåˆ«ï¼š</p><table><thead><tr><th>å±‚ç±»å‹</th><th>è®­ç»ƒæ¨¡å¼</th><th>è¯„ä¼°æ¨¡å¼</th></tr></thead><tbody><tr><td>Dropout</td><td>éšæœºä¸¢å¼ƒç¥ç»å…ƒ</td><td>ä¿ç•™æ‰€æœ‰ç¥ç»å…ƒ</td></tr><tr><td>BatchNorm</td><td>ä½¿ç”¨æ‰¹æ¬¡ç»Ÿè®¡</td><td>ä½¿ç”¨å…¨å±€ç»Ÿè®¡</td></tr><tr><td>æ¢¯åº¦è®¡ç®—</td><td>å¼€å¯</td><td>å…³é—­ï¼ˆé…åˆno_gradï¼‰</td></tr></tbody></table><hr /><h2 id="å…­å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–å»ºè®®">å…­ã€å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–å»ºè®®</h2><h3 id="ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜">6.1 ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜</h3><h4 id="é—®é¢˜1å…¨è¿æ¥å±‚ç¼ºå°‘æ¿€æ´»å‡½æ•°">é—®é¢˜1ï¼šå…¨è¿æ¥å±‚ç¼ºå°‘æ¿€æ´»å‡½æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å½“å‰ä»£ç </span><br><span class="hljs-variable language_">self</span>.fc = nn.Sequential(<br>    nn.Flatten(),<br>    nn.Linear(<span class="hljs-number">320</span>, <span class="hljs-number">50</span>),<br>    nn.Linear(<span class="hljs-number">50</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment"># âŒ ç›´æ¥è¾“å‡ºï¼Œç¼ºå°‘æ¿€æ´»</span><br>)<br><br><span class="hljs-comment"># æ”¹è¿›ç‰ˆæœ¬</span><br><span class="hljs-variable language_">self</span>.fc = nn.Sequential(<br>    nn.Flatten(),<br>    nn.Linear(<span class="hljs-number">320</span>, <span class="hljs-number">50</span>),<br>    nn.ReLU(),          <span class="hljs-comment"># âœ“ æ·»åŠ æ¿€æ´»å‡½æ•°</span><br>    nn.Dropout(<span class="hljs-number">0.5</span>),    <span class="hljs-comment"># âœ“ æ·»åŠ Dropouté˜²æ­¢è¿‡æ‹Ÿåˆ</span><br>    nn.Linear(<span class="hljs-number">50</span>, <span class="hljs-number">10</span>)<br>)<br></code></pre></td></tr></table></figure><h4 id="é—®é¢˜2æœªåˆ›å»ºcheckpointsç›®å½•">é—®é¢˜2ï¼šæœªåˆ›å»ºcheckpointsç›®å½•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®­ç»ƒå‰æ·»åŠ </span><br><span class="hljs-keyword">import</span> os<br>os.makedirs(<span class="hljs-string">&#x27;./checkpoints&#x27;</span>, exist_ok=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="é—®é¢˜3å›ºå®šå­¦ä¹ ç‡">é—®é¢˜3ï¼šå›ºå®šå­¦ä¹ ç‡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ·»åŠ å­¦ä¹ ç‡è°ƒåº¦å™¨</span><br>scheduler = optim.lr_scheduler.StepLR(optimizer, step_size=<span class="hljs-number">30</span>, gamma=<span class="hljs-number">0.1</span>)<br><br><span class="hljs-comment"># è®­ç»ƒå¾ªç¯ä¸­</span><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>):<br>    train_one_epoch()<br>    scheduler.step()  <span class="hljs-comment"># æ›´æ–°å­¦ä¹ ç‡</span><br></code></pre></td></tr></table></figure><h3 id="æ€§èƒ½ä¼˜åŒ–ç­–ç•¥">6.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3><h4 id="æ•°æ®å¢å¼º">1. æ•°æ®å¢å¼º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">transform_train = transforms.Compose([<br>    transforms.RandomRotation(<span class="hljs-number">10</span>),           <span class="hljs-comment"># éšæœºæ—‹è½¬Â±10åº¦</span><br>    transforms.RandomAffine(<span class="hljs-number">0</span>, translate=(<span class="hljs-number">0.1</span>, <span class="hljs-number">0.1</span>)),  <span class="hljs-comment"># éšæœºå¹³ç§»</span><br>    transforms.ToTensor(),<br>    transforms.Normalize((<span class="hljs-number">0.1307</span>,), (<span class="hljs-number">0.3081</span>,))<br>])<br></code></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong>ï¼šå¢åŠ è®­ç»ƒæ ·æœ¬å¤šæ ·æ€§ï¼Œæå‡æ³›åŒ–èƒ½åŠ›</p><h4 id="æ‰¹æ ‡å‡†åŒ–batch-normalization">2. æ‰¹æ ‡å‡†åŒ–ï¼ˆBatchNormalizationï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-variable language_">self</span>.conv1 = nn.Sequential(<br>    nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, kernel_size=<span class="hljs-number">5</span>),<br>    nn.BatchNorm2d(<span class="hljs-number">10</span>),  <span class="hljs-comment"># æ·»åŠ BNå±‚</span><br>    nn.ReLU(),<br>    nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>)<br>)<br></code></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹</strong>ï¼š - åŠ é€Ÿè®­ç»ƒ - å…è®¸æ›´å¤§å­¦ä¹ ç‡ -å‡å°‘å¯¹åˆå§‹åŒ–çš„ä¾èµ–</p><h4 id="æ®‹å·®è¿æ¥resnetæ€æƒ³">3. æ®‹å·®è¿æ¥ï¼ˆResNetæ€æƒ³ï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResBlock</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, channels</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.conv = nn.Sequential(<br>            nn.Conv2d(channels, channels, <span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.BatchNorm2d(channels),<br>            nn.ReLU(),<br>            nn.Conv2d(channels, channels, <span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.BatchNorm2d(channels)<br>        )<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> F.relu(<span class="hljs-variable language_">self</span>.conv(x) + x)  <span class="hljs-comment"># æ®‹å·®è¿æ¥</span><br></code></pre></td></tr></table></figure><h4 id="æ··åˆç²¾åº¦è®­ç»ƒ">4. æ··åˆç²¾åº¦è®­ç»ƒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torch.cuda.amp <span class="hljs-keyword">import</span> autocast, GradScaler<br><br>scaler = GradScaler()<br><br><span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> train_loader:<br>    optimizer.zero_grad()<br>    <br>    <span class="hljs-keyword">with</span> autocast():  <span class="hljs-comment"># è‡ªåŠ¨æ··åˆç²¾åº¦</span><br>        outputs = model(inputs)<br>        loss = criterion(outputs, labels)<br>    <br>    scaler.scale(loss).backward()<br>    scaler.step(optimizer)<br>    scaler.update()<br></code></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong>ï¼šæ˜¾å­˜å ç”¨å‡å°‘50%ï¼Œè®­ç»ƒé€Ÿåº¦æå‡2-3å€</p><h3 id="è¶…å‚æ•°è°ƒä¼˜å»ºè®®">6.3 è¶…å‚æ•°è°ƒä¼˜å»ºè®®</h3><table><thead><tr><th>è¶…å‚æ•°</th><th>æ¨èèŒƒå›´</th><th>è°ƒä¼˜ç­–ç•¥</th></tr></thead><tbody><tr><td>å­¦ä¹ ç‡</td><td>1e-4 ~ 1e-1</td><td>ç½‘æ ¼æœç´¢/å­¦ä¹ ç‡æŸ¥æ‰¾å™¨</td></tr><tr><td>batch_size</td><td>32 ~ 256</td><td>æ ¹æ®æ˜¾å­˜è°ƒæ•´</td></tr><tr><td>å·ç§¯æ ¸å¤§å°</td><td>3Ã—3, 5Ã—5</td><td>å°å·ç§¯æ ¸æ›´å¸¸ç”¨</td></tr><tr><td>Dropoutç‡</td><td>0.3 ~ 0.5</td><td>é˜²æ­¢è¿‡æ‹Ÿåˆ</td></tr></tbody></table><h3 id="è°ƒè¯•æŠ€å·§">6.4 è°ƒè¯•æŠ€å·§</h3><h4 id="æ£€æŸ¥æ•°æ®ç»´åº¦">æ£€æŸ¥æ•°æ®ç»´åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Input shape: <span class="hljs-subst">&#123;inputs.shape&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Output shape: <span class="hljs-subst">&#123;outputs.shape&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Label shape: <span class="hljs-subst">&#123;labels.shape&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="å¯è§†åŒ–ç‰¹å¾å›¾">å¯è§†åŒ–ç‰¹å¾å›¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">visualize_feature_maps</span>(<span class="hljs-params">model, image</span>):<br>    activation = &#123;&#125;<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hook</span>(<span class="hljs-params">name</span>):<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">module, <span class="hljs-built_in">input</span>, output</span>):<br>            activation[name] = output<br>        <span class="hljs-keyword">return</span> fn<br>    <br>    model.conv1.register_forward_hook(hook(<span class="hljs-string">&#x27;conv1&#x27;</span>))<br>    <br>    <span class="hljs-keyword">with</span> torch.no_grad():<br>        model(image)<br>    <br>    feat = activation[<span class="hljs-string">&#x27;conv1&#x27;</span>].squeeze()<br>    <br>    fig, axes = plt.subplots(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))<br>    <span class="hljs-keyword">for</span> i, ax <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(axes.flat):<br>        ax.imshow(feat[i].cpu(), cmap=<span class="hljs-string">&#x27;viridis&#x27;</span>)<br>        ax.axis(<span class="hljs-string">&#x27;off&#x27;</span>)<br>    plt.show()<br></code></pre></td></tr></table></figure><h4 id="æ¢¯åº¦æ£€æŸ¥">æ¢¯åº¦æ£€æŸ¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ£€æŸ¥æ¢¯åº¦æ˜¯å¦æ­£å¸¸</span><br><span class="hljs-keyword">for</span> name, param <span class="hljs-keyword">in</span> model.named_parameters():<br>    <span class="hljs-keyword">if</span> param.grad <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;name&#125;</span>: grad_norm = <span class="hljs-subst">&#123;param.grad.norm():<span class="hljs-number">.4</span>f&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><hr /><h2 id="ä¸ƒè¿›é˜¶æ‰©å±•">ä¸ƒã€è¿›é˜¶æ‰©å±•</h2><h3 id="æ¨¡å‹å‹ç¼©">7.1 æ¨¡å‹å‹ç¼©</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># çŸ¥è¯†è’¸é¦</span><br>teacher_model = MNIST_CNN_Large()  <span class="hljs-comment"># å¤§æ¨¡å‹</span><br>student_model = MNIST_CNN_Small()  <span class="hljs-comment"># å°æ¨¡å‹</span><br><br><span class="hljs-comment"># è’¸é¦æŸå¤±</span><br>distillation_loss = F.kl_div(<br>    F.log_softmax(student_output / T, dim=<span class="hljs-number">1</span>),<br>    F.softmax(teacher_output / T, dim=<span class="hljs-number">1</span>),<br>    reduction=<span class="hljs-string">&#x27;batchmean&#x27;</span><br>) * (T * T)<br></code></pre></td></tr></table></figure><h3 id="è¿ç§»å­¦ä¹ ">7.2 è¿ç§»å­¦ä¹ </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åŠ è½½é¢„è®­ç»ƒæ¨¡å‹</span><br>pretrained_model = torch.load(<span class="hljs-string">&#x27;mnist_best.pth&#x27;</span>)<br><br><span class="hljs-comment"># å†»ç»“å‰é¢çš„å±‚</span><br><span class="hljs-keyword">for</span> param <span class="hljs-keyword">in</span> model.conv1.parameters():<br>    param.requires_grad = <span class="hljs-literal">False</span><br><br><span class="hljs-comment"># åªè®­ç»ƒåˆ†ç±»å™¨</span><br>optimizer = optim.Adam(model.fc.parameters(), lr=<span class="hljs-number">0.001</span>)<br></code></pre></td></tr></table></figure><h3 id="æ¨¡å‹é›†æˆ">7.3 æ¨¡å‹é›†æˆ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŠ•ç¥¨é›†æˆ</span><br>models = [model1, model2, model3]<br><br>predictions = []<br><span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> models:<br>    model.<span class="hljs-built_in">eval</span>()<br>    <span class="hljs-keyword">with</span> torch.no_grad():<br>        pred = model(inputs).argmax(dim=<span class="hljs-number">1</span>)<br>        predictions.append(pred)<br><br><span class="hljs-comment"># å¤šæ•°æŠ•ç¥¨</span><br>final_pred = torch.mode(torch.stack(predictions), dim=<span class="hljs-number">0</span>)[<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><hr /><h2 id="å…«æ€»ç»“">å…«ã€æ€»ç»“</h2><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†ä½¿ç”¨PyTorchæ„å»ºMNISTæ‰‹å†™æ•°å­—è¯†åˆ«ç³»ç»Ÿçš„å®Œæ•´æµç¨‹ï¼Œæ¶µç›–äº†ï¼š</p><p><strong>æ ¸å¿ƒæŠ€æœ¯ç‚¹</strong>ï¼š - æ•°æ®åŠ è½½ä¸é¢„å¤„ç† - CNNç½‘ç»œæ¶æ„è®¾è®¡ -è®­ç»ƒæµç¨‹ä¸ä¼˜åŒ– - æ¨¡å‹è¯„ä¼°ä¸å¯è§†åŒ–</p><p><strong>å…³é”®è¦ç‚¹</strong>ï¼š 1. æ•°æ®æ ‡å‡†åŒ–æ˜¯æå‡æ¨¡å‹æ€§èƒ½çš„åŸºç¡€ 2.CNNé€šè¿‡å·ç§¯å’Œæ± åŒ–æå–å›¾åƒç‰¹å¾ 3. åˆç†çš„ä¼˜åŒ–å™¨å’Œå­¦ä¹ ç‡è°ƒåº¦è‡³å…³é‡è¦ 4.å¤šç»´åº¦è¯„ä¼°æŒ‡æ ‡å…¨é¢äº†è§£æ¨¡å‹æ€§èƒ½</p><p><strong>ä¼˜åŒ–æ–¹å‘</strong>ï¼š - æ•°æ®å¢å¼ºæå‡æ³›åŒ–èƒ½åŠ› - BatchNormalizationåŠ é€Ÿè®­ç»ƒ - Dropouté˜²æ­¢è¿‡æ‹Ÿåˆ - æ··åˆç²¾åº¦è®­ç»ƒæå‡æ•ˆç‡</p><p><strong>å®è·µå»ºè®®</strong>ï¼š - ä»ç®€å•æ¨¡å‹å¼€å§‹ï¼Œé€æ­¥å¢åŠ å¤æ‚åº¦ -é‡è§†æ•°æ®è´¨é‡å’Œé¢„å¤„ç† - å®šæœŸä¿å­˜æ¨¡å‹å’Œå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ -ä½¿ç”¨TensorBoardç›‘æ§è®­ç»ƒæŒ‡æ ‡</p><hr /><h2 id="å‚è€ƒèµ„æº">å‚è€ƒèµ„æº</h2><h3 id="å®˜æ–¹æ–‡æ¡£">å®˜æ–¹æ–‡æ¡£</h3><ul><li><a href="https://pytorch.org/docs/">PyTorchå®˜æ–¹æ–‡æ¡£</a></li><li><ahref="https://pytorch.org/vision/stable/index.html">torchvisionæ–‡æ¡£</a></li><li><a href="http://yann.lecun.com/exdb/mnist/">MNISTæ•°æ®é›†</a></li></ul><h3 id="è¿›é˜¶é˜…è¯»">è¿›é˜¶é˜…è¯»</h3><ul><li>ã€Šæ·±åº¦å­¦ä¹ ã€‹ï¼ˆIan Goodfellowï¼‰</li><li>ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹ï¼ˆææ²ï¼‰</li><li><a href="http://cs231n.stanford.edu/">CS231n: Convolutional NeuralNetworks</a></li></ul><h3 id="ä»£ç ä»“åº“">ä»£ç ä»“åº“</h3><ul><li><a href="https://github.com/pytorch/examples">PyTorchExamples</a></li><li><a href="https://paperswithcode.com/dataset/mnist">Papers with Code- MNIST</a></li></ul><hr /><h2 id="é™„å½•å®Œæ•´ä»£ç æ¸…å•">é™„å½•ï¼šå®Œæ•´ä»£ç æ¸…å•</h2><h3 id="a.-æ”¹è¿›ç‰ˆæ¨¡å‹">A. æ”¹è¿›ç‰ˆæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImprovedMNIST_CNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(ImprovedMNIST_CNN, <span class="hljs-variable language_">self</span>).__init__()<br>        <br>        <span class="hljs-variable language_">self</span>.conv1 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">32</span>),<br>            nn.ReLU(),<br>            nn.Conv2d(<span class="hljs-number">32</span>, <span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">32</span>),<br>            nn.ReLU(),<br>            nn.MaxPool2d(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>),<br>            nn.Dropout2d(<span class="hljs-number">0.25</span>)<br>        )<br>        <br>        <span class="hljs-variable language_">self</span>.conv2 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(),<br>            nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(),<br>            nn.MaxPool2d(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>),<br>            nn.Dropout2d(<span class="hljs-number">0.25</span>)<br>        )<br>        <br>        <span class="hljs-variable language_">self</span>.fc = nn.Sequential(<br>            nn.Flatten(),<br>            nn.Linear(<span class="hljs-number">64</span> * <span class="hljs-number">7</span> * <span class="hljs-number">7</span>, <span class="hljs-number">256</span>),<br>            nn.BatchNorm1d(<span class="hljs-number">256</span>),<br>            nn.ReLU(),<br>            nn.Dropout(<span class="hljs-number">0.5</span>),<br>            nn.Linear(<span class="hljs-number">256</span>, <span class="hljs-number">10</span>)<br>        )<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = <span class="hljs-variable language_">self</span>.conv1(x)<br>        x = <span class="hljs-variable language_">self</span>.conv2(x)<br>        x = <span class="hljs-variable language_">self</span>.fc(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h3 id="b.-å®Œæ•´è®­ç»ƒè„šæœ¬">B. å®Œæ•´è®­ç»ƒè„šæœ¬</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_improved</span>(<span class="hljs-params">model, train_loader, val_loader, epochs=<span class="hljs-number">50</span></span>):<br>    device = torch.device(<span class="hljs-string">&#x27;cuda&#x27;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;cpu&#x27;</span>)<br>    model = model.to(device)<br>    <br>    criterion = nn.CrossEntropyLoss()<br>    optimizer = optim.Adam(model.parameters(), lr=<span class="hljs-number">0.001</span>)<br>    scheduler = optim.lr_scheduler.ReduceLROnPlateau(<br>        optimizer, mode=<span class="hljs-string">&#x27;min&#x27;</span>, patience=<span class="hljs-number">5</span>, factor=<span class="hljs-number">0.5</span><br>    )<br>    <br>    best_acc = <span class="hljs-number">0.0</span><br>    history = &#123;<span class="hljs-string">&#x27;train_loss&#x27;</span>: [], <span class="hljs-string">&#x27;val_loss&#x27;</span>: [], <span class="hljs-string">&#x27;val_acc&#x27;</span>: []&#125;<br>    <br>    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(epochs):<br>        <span class="hljs-comment"># è®­ç»ƒé˜¶æ®µ</span><br>        model.train()<br>        train_loss = <span class="hljs-number">0.0</span><br>        <br>        <span class="hljs-keyword">for</span> inputs, labels <span class="hljs-keyword">in</span> train_loader:<br>            inputs, labels = inputs.to(device), labels.to(device)<br>            <br>            optimizer.zero_grad()<br>            outputs = model(inputs)<br>            loss = criterion(outputs, labels)<br>            loss.backward()<br>            optimizer.step()<br>            <br>            train_loss += loss.item()<br>        <br>        <span class="hljs-comment"># éªŒè¯é˜¶æ®µ</span><br>        model.<span class="hljs-built_in">eval</span>()<br>        val_loss = <span class="hljs-number">0.0</span><br>        correct = <span class="hljs-number">0</span><br>        total = <span class="hljs-number">0</span><br>        <br>        <span class="hljs-keyword">with</span> torch.no_grad():<br>            <span class="hljs-keyword">for</span> inputs, labels <span class="hljs-keyword">in</span> val_loader:<br>                inputs, labels = inputs.to(device), labels.to(device)<br>                outputs = model(inputs)<br>                loss = criterion(outputs, labels)<br>                <br>                val_loss += loss.item()<br>                _, predicted = outputs.<span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>)<br>                total += labels.size(<span class="hljs-number">0</span>)<br>                correct += predicted.eq(labels).<span class="hljs-built_in">sum</span>().item()<br>        <br>        <span class="hljs-comment"># è®°å½•æŒ‡æ ‡</span><br>        train_loss /= <span class="hljs-built_in">len</span>(train_loader)<br>        val_loss /= <span class="hljs-built_in">len</span>(val_loader)<br>        val_acc = <span class="hljs-number">100.</span> * correct / total<br>        <br>        history[<span class="hljs-string">&#x27;train_loss&#x27;</span>].append(train_loss)<br>        history[<span class="hljs-string">&#x27;val_loss&#x27;</span>].append(val_loss)<br>        history[<span class="hljs-string">&#x27;val_acc&#x27;</span>].append(val_acc)<br>        <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Epoch <span class="hljs-subst">&#123;epoch+<span class="hljs-number">1</span>&#125;</span>/<span class="hljs-subst">&#123;epochs&#125;</span>:&#x27;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;  Train Loss: <span class="hljs-subst">&#123;train_loss:<span class="hljs-number">.4</span>f&#125;</span>&#x27;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;  Val Loss: <span class="hljs-subst">&#123;val_loss:<span class="hljs-number">.4</span>f&#125;</span>, Val Acc: <span class="hljs-subst">&#123;val_acc:<span class="hljs-number">.2</span>f&#125;</span>%&#x27;</span>)<br>        <br>        <span class="hljs-comment"># å­¦ä¹ ç‡è°ƒæ•´</span><br>        scheduler.step(val_loss)<br>        <br>        <span class="hljs-comment"># ä¿å­˜æœ€ä½³æ¨¡å‹</span><br>        <span class="hljs-keyword">if</span> val_acc &gt; best_acc:<br>            best_acc = val_acc<br>            torch.save(model.state_dict(), <span class="hljs-string">&#x27;best_model.pth&#x27;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;  Best model saved! (Acc: <span class="hljs-subst">&#123;best_acc:<span class="hljs-number">.2</span>f&#125;</span>%)&#x27;</span>)<br>    <br>    <span class="hljs-keyword">return</span> history<br></code></pre></td></tr></table></figure><h3 id="c.-å¯è§†åŒ–å·¥å…·">C. å¯è§†åŒ–å·¥å…·</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_training_history</span>(<span class="hljs-params">history</span>):<br>    fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">4</span>))<br>    <br>    <span class="hljs-comment"># æŸå¤±æ›²çº¿</span><br>    ax1.plot(history[<span class="hljs-string">&#x27;train_loss&#x27;</span>], label=<span class="hljs-string">&#x27;Train Loss&#x27;</span>)<br>    ax1.plot(history[<span class="hljs-string">&#x27;val_loss&#x27;</span>], label=<span class="hljs-string">&#x27;Val Loss&#x27;</span>)<br>    ax1.set_xlabel(<span class="hljs-string">&#x27;Epoch&#x27;</span>)<br>    ax1.set_ylabel(<span class="hljs-string">&#x27;Loss&#x27;</span>)<br>    ax1.set_title(<span class="hljs-string">&#x27;Training and Validation Loss&#x27;</span>)<br>    ax1.legend()<br>    ax1.grid(<span class="hljs-literal">True</span>)<br>    <br>    <span class="hljs-comment"># å‡†ç¡®ç‡æ›²çº¿</span><br>    ax2.plot(history[<span class="hljs-string">&#x27;val_acc&#x27;</span>], label=<span class="hljs-string">&#x27;Val Accuracy&#x27;</span>, color=<span class="hljs-string">&#x27;green&#x27;</span>)<br>    ax2.set_xlabel(<span class="hljs-string">&#x27;Epoch&#x27;</span>)<br>    ax2.set_ylabel(<span class="hljs-string">&#x27;Accuracy (%)&#x27;</span>)<br>    ax2.set_title(<span class="hljs-string">&#x27;Validation Accuracy&#x27;</span>)<br>    ax2.legend()<br>    ax2.grid(<span class="hljs-literal">True</span>)<br>    <br>    plt.tight_layout()<br>    plt.show()<br></code></pre></td></tr></table></figure><hr /><p><strong>ä½œè€…</strong>ï¼š[æ‚¨çš„åå­—]<br /><strong>æ—¥æœŸ</strong>ï¼š2024å¹´<br /><strong>ç‰ˆæœ¬</strong>ï¼š1.0</p><blockquote><p>æœ¬æ–‡æ‰€æœ‰ä»£ç å‡å·²åœ¨PyTorch2.0+ç¯å¢ƒä¸‹æµ‹è¯•é€šè¿‡ã€‚å¦‚æœ‰é—®é¢˜æ¬¢è¿äº¤æµè®¨è®ºï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Pytorch</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pytorch</tag>
      
      <tag>CNN</tag>
      
      <tag>MINIST</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pytorch ç³»åˆ— - 2. æ¢¯åº¦ä¸‹é™</title>
    <link href="/2025/11/13/Pytorch/pytorch_2-GD-2025_11_13/"/>
    <url>/2025/11/13/Pytorch/pytorch_2-GD-2025_11_13/</url>
    
    <content type="html"><![CDATA[<p>asd</p>]]></content>
    
    
    <categories>
      
      <category>Pytorch</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pytorch</tag>
      
      <tag>Gradient Descent</tag>
      
      <tag>autograd</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pytorch ç³»åˆ— - 1. æ›²çº¿æ‹Ÿåˆ</title>
    <link href="/2025/11/10/Pytorch/pytorch_1-regression-2025_11_10/"/>
    <url>/2025/11/10/Pytorch/pytorch_1-regression-2025_11_10/</url>
    
    <content type="html"><![CDATA[<h2 id="æ›²çº¿æ‹Ÿåˆé—®é¢˜">1. æ›²çº¿æ‹Ÿåˆé—®é¢˜</h2><p>è€ƒè™‘ä»¥ä¸‹æ›²çº¿æ‹Ÿåˆé—®é¢˜</p><ul><li>ç»™å®šä¸€ç»„æ•°æ®ï¼ˆæ»¡è¶³æŸç§<strong>æœªçŸ¥æ˜ å°„</strong>ï¼Œå¯èƒ½è¿˜ä¼šé™„åŠ ä¸€äº›å™ªå£°ï¼‰</li><li>åˆ©ç”¨ <code>pytorch</code> æ­å»ºç¥ç»ç½‘ç»œï¼ŒåŸºäºç»™å®šæ•°æ®ï¼Œå°è¯•é‡æ„<strong>æœªçŸ¥æ˜ å°„</strong></li><li>åˆ©ç”¨ <code>pytorch</code>è¿›è¡Œ<strong>ç¥ç»ç½‘ç»œå‚æ•°å­¦ä¹ </strong>ï¼Œå°†è¿­ä»£è¿‡ç¨‹ä¸­æ¯æ¬¡æ›²çº¿æ‹Ÿåˆæ•ˆæœåŠ¨æ€çš„å±•ç¤ºå‡ºæ¥ï¼ˆä¸åŸå§‹ç»™å®šæ•°æ®ä¸€èµ·å±•ç¤ºï¼‰&lt;!â€“ - è¿­ä»£è¿‡ç¨‹ï¼ˆæ¯10æ¬¡ï¼‰ä¸­çš„ç¥ç»ç½‘ç»œæ¨¡å‹ç»“æ„å’Œå‚æ•°éƒ½ä¿å­˜ä¸‹æ¥ã€‚</li><li>è¿­ä»£ç»“æŸåï¼ŒåŠ è½½ä»»æ„ä¸€ä¸ªä¿å­˜çš„æ¨¡å‹æ–‡ä»¶ï¼Œå±•ç¤ºæ‹Ÿåˆæ•ˆæœï¼ˆä¸åŸå§‹ç»™å®šæ•°æ®ä¸€èµ·å±•ç¤ºï¼‰â€“&gt;</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># ===================== 1. ç”Ÿæˆæ•°æ® =====================</span><br>torch.manual_seed(<span class="hljs-number">0</span>)<br>np.random.seed(<span class="hljs-number">0</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">true_func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1.5</span> * x**<span class="hljs-number">2</span> - <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br><br>n_samples = <span class="hljs-number">80</span><br>x = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, n_samples)<br>y = true_func(x) + np.random.normal(scale=<span class="hljs-number">1.0</span>, size=n_samples)  <span class="hljs-comment"># åŠ å™ªå£°</span><br><br>x_train = torch.from_numpy(x).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># [N, 1]</span><br>y_train = torch.from_numpy(y).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># [N, 1]</span><br><br><span class="hljs-comment"># ===================== 2. å®šä¹‰ç½‘ç»œ =====================</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Net</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.net = nn.Sequential(<br>            nn.Linear(<span class="hljs-number">1</span>, <span class="hljs-number">64</span>),<br>            nn.Tanh(),<br>            nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            nn.Tanh(),<br>            nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">1</span>),<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.net(x)<br><br>model = Net()<br>criterion = nn.MSELoss()<br>optimizer = optim.Adam(model.parameters(), lr=<span class="hljs-number">0.01</span>)<br><br><span class="hljs-comment"># ===================== 3. è®­ç»ƒè®¾ç½® =====================</span><br>epochs = <span class="hljs-number">400</span><br>plot_interval = <span class="hljs-number">20</span>   <span class="hljs-comment"># æ¯éš”å¤šå°‘æ¬¡ç”»ä¸€æ¬¡</span><br>save_interval = <span class="hljs-number">10</span>   <span class="hljs-comment"># æ¯éš”å¤šå°‘æ¬¡ä¿å­˜ä¸€æ¬¡æ¨¡å‹</span><br><br>ckpt_dir = <span class="hljs-string">&quot;checkpoints&quot;</span><br>os.makedirs(ckpt_dir, exist_ok=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># ===================== 4. åŠ¨æ€å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ =====================</span><br>plt.ion()  <span class="hljs-comment"># æ‰“å¼€äº¤äº’æ¨¡å¼</span><br>fig, ax = plt.subplots()<br><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, epochs + <span class="hljs-number">1</span>):<br>    <span class="hljs-comment"># 0. æ—¢ä¸ä¼šåšå‰å‘è®¡ç®—ï¼Œä¹Ÿä¸ä¼šæ›´æ–°å‚æ•°ï¼ŒæŠŠæ¨¡å‹åˆ‡æ¢åˆ°â€œtraining modeâ€</span><br>    model.train()<br><br>    <span class="hljs-comment"># 1. æ¸…ç©ºä¹‹å‰çš„æ¢¯åº¦</span><br>    optimizer.zero_grad()<br><br>    <span class="hljs-comment"># 2. çœŸæ­£çš„â€œç®—è¾“å‡ºâ€</span><br>    y_pred = model(x_train)<br>    <br>    <span class="hljs-comment"># 3. æŒ‡å®šä¼˜åŒ–ç›®æ ‡ loss</span><br>    loss = criterion(y_pred, y_train)<br>    <br>    <span class="hljs-comment"># 4. çœŸæ­£çš„â€œæ›´æ–°å‚æ•°â€</span><br>    loss.backward()  <span class="hljs-comment"># åå‘ä¼ æ’­ï¼šè®¡ç®—æ¯ä¸ªå‚æ•°çš„ã€æ¢¯åº¦ã€‘</span><br>    optimizer.step() <span class="hljs-comment"># ç”¨ã€æ¢¯åº¦ã€‘æ›´æ–°å‚æ•°</span><br><br>    <span class="hljs-comment"># ---- å®šæœŸç”»å›¾ï¼Œå±•ç¤ºæ‹Ÿåˆæ•ˆæœ ----</span><br>    <span class="hljs-keyword">if</span> epoch % plot_interval == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> epoch == <span class="hljs-number">1</span>:<br>        model.<span class="hljs-built_in">eval</span>()<br>        <span class="hljs-keyword">with</span> torch.no_grad():<br>            x_plot = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">200</span>)<br>            x_plot_tensor = torch.from_numpy(x_plot).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>            y_plot_pred = model(x_plot_tensor).numpy()<br>            y_true = true_func(x_plot)<br><br>        ax.clear()<br>        ax.scatter(x, y, s=<span class="hljs-number">15</span>, label=<span class="hljs-string">&quot;Noisy data&quot;</span>)  <span class="hljs-comment"># åŸå§‹æ•£ç‚¹</span><br>        ax.plot(x_plot, y_true, linestyle=<span class="hljs-string">&quot;--&quot;</span>, label=<span class="hljs-string">&quot;True function&quot;</span>)  <span class="hljs-comment"># çœŸå®æ›²çº¿</span><br>        ax.plot(<br>            x_plot,<br>            y_plot_pred,<br>            label=<span class="hljs-string">f&quot;NN prediction (epoch=<span class="hljs-subst">&#123;epoch&#125;</span>, loss=<span class="hljs-subst">&#123;loss.item():<span class="hljs-number">.2</span>f&#125;</span>)&quot;</span><br>        )<br>        ax.set_xlabel(<span class="hljs-string">&quot;x&quot;</span>)<br>        ax.set_ylabel(<span class="hljs-string">&quot;y&quot;</span>)<br>        ax.set_title(<span class="hljs-string">&quot;Fitting $y = 1.5x^2 - 2x + 1$ with a Neural Network&quot;</span>)<br>        ax.legend()<br>        plt.pause(<span class="hljs-number">0.5</span>)   <span class="hljs-comment"># çŸ­æš‚åœé¡¿å®ç°åŠ¨ç”»æ•ˆæœ</span><br><br>plt.ioff()<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="pytorch-ä¿å­˜ä¸åŠ è½½ç¥ç»ç½‘ç»œæ¨¡å‹">2. pytorchä¿å­˜ä¸åŠ è½½ç¥ç»ç½‘ç»œæ¨¡å‹</h2><h3 id="ä¸¤ç§ä¿å­˜ç¥ç»ç½‘ç»œæ¨¡å‹çš„æ–¹å¼">2.1 ä¸¤ç§ä¿å­˜ç¥ç»ç½‘ç»œæ¨¡å‹çš„æ–¹å¼</h3><ul><li>ä¿å­˜å®Œæ•´æ¨¡å‹ï¼ˆä¸æ¨èï¼‰ï¼š<code>model</code><ul><li><code>torch.save(model, "path/filename.pth")</code></li><li>ä¿å­˜æ¨¡å‹çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç»“æ„å’Œå‚æ•°ã€‚</li><li>è¿™ç§æ–¹å¼æ–‡ä»¶è¾ƒå¤§ï¼Œä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</li></ul></li><li>ä¿å­˜æ¨¡å‹å‚æ•°ï¼ˆæ¨èï¼‰ï¼š<code>model.state_dict()</code><ul><li><code>torch.save(model.state_dict(), "path/filename.pth")</code></li><li>åªä¿å­˜æ¨¡å‹çš„å‚æ•°ï¼ˆæƒé‡å’Œåç½®ï¼‰ï¼Œè€Œä¸ä¿å­˜æ¨¡å‹çš„ç»“æ„ã€‚</li><li>è¿™ç§æ–¹å¼æ›´è½»é‡çº§ï¼Œé€‚ç”¨äºéƒ¨ç½²åœºæ™¯ã€‚</li><li>åŠ è½½æ¨¡å‹æ—¶ï¼Œéœ€è¦å…ˆå®šä¹‰æ¨¡å‹ç»“æ„ï¼Œç„¶ååŠ è½½å‚æ•°åˆ°æ¨¡å‹ä¸­ã€‚</li></ul></li><li>ä¸¤ç§æ¨¡å¼ä¿å­˜çš„æ–‡ä»¶ç±»å‹éƒ½æ˜¯ <code>.pth</code><ul><li>ä»€ä¹ˆæ˜¯ <code>.pth</code>ï¼Ÿ<ul><li><code>.pth</code> æ–‡ä»¶æœ¬è´¨ä¸Šå°±æ˜¯ <code>torch.save</code>å­˜çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé€šå¸¸ä½œä¸º <code>æ¨¡å‹/å‚æ•°/checkpoint</code> çš„å®¹å™¨ã€‚</li><li>å¸¸è§ç¥ç»ç½‘ç»œæ¨¡å‹å­˜å‚¨æ–‡ä»¶æ ¼å¼çš„è¿˜æœ‰<code>.pt</code>ã€<code>.pth.tar</code>ï¼Œæœ¬è´¨ä¸€æ ·ã€‚</li><li>å­˜å‚¨åŸç†ï¼š<code>torch.save()</code> = <code>Python çš„ pickle</code>+ <code>PyTorch çš„ tensor</code></li><li>ç”±äºæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåªèƒ½ç”¨<code>PyTorch</code>æ­£ç¡®è¯»å–ï¼Œä¸æ˜¯äººç±»å¯è¯»æ–‡æœ¬ã€‚</li></ul></li><li><code>.pth</code> é‡Œå¯ä»¥ä¿å­˜ä»€ä¹ˆï¼Ÿ<ul><li>ä»»ä½•å¯ä»¥è¢« <code>pickle</code> åºåˆ—åŒ–çš„<code>Python å¯¹è±¡</code></li><li>æ¨¡å‹å‚æ•°ï¼ˆæ¨èï¼‰</li><li>æ•´ä¸ªæ¨¡å‹å¯¹è±¡ï¼ˆä¸å¤ªæ¨èï¼Œåªåšæ¼”ç¤ºï¼‰</li><li>è®­ç»ƒ checkpointï¼ˆå¼ºçƒˆæ¨èï¼‰ å¯ä»¥åŒ…å«<ol type="1"><li>æ¨¡å‹å‚æ•°</li><li>ä¼˜åŒ–å™¨å‚æ•°ï¼ˆåŠ¨é‡ç­‰ï¼‰</li><li>å½“å‰ epochã€å­¦ä¹ ç‡ã€æŸå¤±</li><li>æƒ³è®°å½•çš„å…¶ä»–ä¿¡æ¯ï¼ˆè¶…å‚æ•°è®¾ç½®ã€éšæœºç§å­ç­‰ï¼‰</li></ol>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ˆå†™åœ¨å¾ªç¯é‡Œé¢ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¿å­˜ä»¥ä¸‹ä¿¡æ¯ï¼‰<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.save(<br>&#123;<br>    <span class="hljs-string">&quot;epoch&quot;</span>: epoch,<br>    <span class="hljs-string">&quot;model_state_dict&quot;</span>: model.state_dict(),<br>    <span class="hljs-string">&quot;optimizer_state_dict&quot;</span>: optimizer.state_dict(),<br>    <span class="hljs-string">&quot;loss&quot;</span>: loss_value,<br>    <span class="hljs-string">&quot;extra_info&quot;</span>: <span class="hljs-string">&quot;anything you want&quot;</span>,<br>&#125;, <br><span class="hljs-string">&quot;ckpt_epoch_100.pth&quot;</span><br>)<br></code></pre></td></tr></table></figure></li></ul></li><li><code>.pth</code> æ˜¯å¦‚ä½•ä¿å­˜æ•°æ®çš„ï¼Ÿ<ul><li><code>torch.save(obj, path/filename.pth)</code> ä¼šæŠŠ obj é€šè¿‡<code>Python çš„ pickle</code> åºåˆ—åŒ–ï¼›</li><li>å¯¹äº <code>tensor</code>ï¼Œ<code>PyTorch</code>ä¼šæŠŠçœŸå®æ•°å€¼å­˜æˆé«˜æ•ˆçš„äºŒè¿›åˆ¶å—ï¼ˆåŒ…å«<code>dtype</code>ã€<code>shape</code> ç­‰å…ƒæ•°æ®ï¼‰</li><li>æ‰€æœ‰è¿™äº›è¢«å†™å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°±æ˜¯ <code>.pth</code> æ–‡ä»¶</li><li><code>.pth</code> æ–‡ä»¶ ä¸èƒ½ç”¨è®°äº‹æœ¬ç›´æ¥çœ‹ï¼›ä¼šæ˜¯ä¹±ç </li><li><code>torch.load()</code>æœ¬è´¨æ˜¯ååºåˆ—åŒ–ï¼Œæœ‰å®‰å…¨é£é™©ï¼šä¸è¦éšä¾¿åŠ è½½æ¥è·¯ä¸æ˜çš„<code>.pth</code>ï¼ˆå› ä¸º <code>pickle</code> ç†è®ºä¸Šå¯æ‰§è¡Œä»»æ„ä»£ç ï¼‰</li></ul></li></ul></li></ul><h3 id="ä¸¤ç§åŠ è½½ç¥ç»ç½‘ç»œæ¨¡å‹çš„æ–¹å¼">2.2 ä¸¤ç§åŠ è½½ç¥ç»ç½‘ç»œæ¨¡å‹çš„æ–¹å¼</h3><ul><li><p>å¦‚æœä¿å­˜ <code>model</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.save(model, <span class="hljs-string">&quot;path/filename.pth&quot;</span>)<br></code></pre></td></tr></table></figure> å°±ç”¨<code>torch.load()</code> åŠ è½½ <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. åŠ è½½ pth æ–‡ä»¶</span><br>model = torch.load(<span class="hljs-string">&quot;path/filename.pth&quot;</span>)<br>model.<span class="hljs-built_in">eval</span>()<br><br><span class="hljs-comment"># 2. å‡†å¤‡ä¸ä¹‹å‰ä¸€è‡´çš„æ•°æ®ï¼Œç”¨äºå±•ç¤ºï¼ˆx -&gt; yï¼‰</span><br>np.random.seed(<span class="hljs-number">0</span>)<br>n_samples = <span class="hljs-number">80</span><br>x = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, n_samples)<br>y = true_func(x) + np.random.normal(scale=<span class="hljs-number">3.0</span>, size=n_samples)<br><br><span class="hljs-comment"># 3. ç¥ç»ç½‘ç»œè®¡ç®— (x_tensor -&gt; y_pred)</span><br><span class="hljs-keyword">with</span> torch.no_grad():<br>    x_plot = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">200</span>)<br>    x_tensor = torch.from_numpy(x_plot).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    y_pred = model(x_tensor).numpy()<br></code></pre></td></tr></table></figure></p></li><li><p>å¦‚æœä¿å­˜ <code>model.state_dict()</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.save(model.state_dict(), <span class="hljs-string">&quot;path/filename.pth&quot;</span>)<br></code></pre></td></tr></table></figure> å°±ç”¨<code>model.load_state_dict()</code> åŠ è½½ <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 0. ä¸è®­ç»ƒæ—¶ä¿æŒä¸€è‡´çš„ç½‘ç»œå®šä¹‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Net</span>(torch.nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.net = torch.nn.Sequential(<br>            torch.nn.Linear(<span class="hljs-number">1</span>, <span class="hljs-number">64</span>),<br>            torch.nn.Tanh(),<br>            torch.nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            torch.nn.Tanh(),<br>            torch.nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">1</span>),<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.net(x)<br><br><span class="hljs-comment"># 1. é€‰æ‹©è¦åŠ è½½çš„ pth æ–‡ä»¶</span><br>checkpoint = torch.load(<span class="hljs-string">&quot;path/filename&quot;</span>)<br><br><span class="hljs-comment"># 2. é‡å»ºåŒç»“æ„ç½‘ç»œ &amp; åŠ è½½å‚æ•°</span><br>model = Net()<br>model.load_state_dict(checkpoint[<span class="hljs-string">&quot;model_state_dict&quot;</span>])<br>model.<span class="hljs-built_in">eval</span>()<br><br><span class="hljs-comment"># 3. å‡†å¤‡ä¸ä¹‹å‰ä¸€è‡´çš„æ•°æ®ï¼Œç”¨äºå±•ç¤ºï¼ˆx -&gt; yï¼‰</span><br>np.random.seed(<span class="hljs-number">0</span>)<br>n_samples = <span class="hljs-number">80</span><br>x = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, n_samples)<br>y = true_func(x) + np.random.normal(scale=<span class="hljs-number">3.0</span>, size=n_samples)<br><br><span class="hljs-comment"># 4. ç¥ç»ç½‘ç»œè®¡ç®— (x_tensor -&gt; y_pred)</span><br><span class="hljs-keyword">with</span> torch.no_grad():<br>    x_plot = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">200</span>)<br>    x_tensor = torch.from_numpy(x_plot).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    y_pred = model(x_tensor).numpy()<br></code></pre></td></tr></table></figure>å‚æ•°åç¤ºä¾‹ï¼š<code>net.0.weight</code>, <code>net.0.bias</code></p></li><li><p>å¦‚æœä¿å­˜ <code>checkpoint</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.save(<br>  &#123;<br>      <span class="hljs-string">&quot;epoch&quot;</span>: epoch,<br>      <span class="hljs-string">&quot;model_state_dict&quot;</span>: model.state_dict(),<br>      <span class="hljs-string">&quot;optimizer_state_dict&quot;</span>: optimizer.state_dict(),<br>      <span class="hljs-string">&quot;loss&quot;</span>: loss,<br>  &#125;, <br>  <span class="hljs-string">&quot;ckpt_epoch_200.pth&quot;</span><br>)<br></code></pre></td></tr></table></figure> å°±è¿™æ ·åŠ è½½<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">ckpt = torch.load(<span class="hljs-string">&quot;ckpt_epoch_200.pth&quot;</span>, map_location=<span class="hljs-string">&quot;cpu&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(ckpt))       <span class="hljs-comment"># dict</span><br><span class="hljs-built_in">print</span>(ckpt.keys())      <span class="hljs-comment"># dict_keys([&#x27;epoch&#x27;, &#x27;model_state_dict&#x27;, &#x27;optimizer_state_dict&#x27;, &#x27;loss&#x27;])</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;epoch:&quot;</span>, ckpt[<span class="hljs-string">&quot;epoch&quot;</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;loss:&quot;</span>, ckpt[<span class="hljs-string">&quot;loss&quot;</span>])<br><br><span class="hljs-comment"># æŸ¥çœ‹æ¨¡å‹å‚æ•° keys</span><br><span class="hljs-keyword">for</span> name, param <span class="hljs-keyword">in</span> ckpt[<span class="hljs-string">&quot;model_state_dict&quot;</span>].items():<br>    <span class="hljs-built_in">print</span>(name, param.shape)<br>    <span class="hljs-keyword">break</span><br><br></code></pre></td></tr></table></figure></p></li></ul><h3 id="pytorch-çš„ä¿å­˜ä¸åŠ è½½æ¡ˆä¾‹">3. pytorch çš„ä¿å­˜ä¸åŠ è½½æ¡ˆä¾‹</h3><p>ä¿å­˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># ===================== 1. ç”Ÿæˆæ•°æ® =====================</span><br>torch.manual_seed(<span class="hljs-number">0</span>)<br>np.random.seed(<span class="hljs-number">0</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">true_func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1.5</span> * x**<span class="hljs-number">2</span> - <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br><br>n_samples = <span class="hljs-number">80</span><br>x = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, n_samples)<br>y = true_func(x) + np.random.normal(scale=<span class="hljs-number">3.0</span>, size=n_samples)  <span class="hljs-comment"># åŠ å™ªå£°</span><br><br>x_train = torch.from_numpy(x).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># [N, 1]</span><br>y_train = torch.from_numpy(y).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># [N, 1]</span><br><br><span class="hljs-comment"># ===================== 2. å®šä¹‰ç½‘ç»œ =====================</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Net</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.net = nn.Sequential(<br>            nn.Linear(<span class="hljs-number">1</span>, <span class="hljs-number">64</span>),<br>            nn.Tanh(),<br>            nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            nn.Tanh(),<br>            nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">1</span>),<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.net(x)<br><br>model = Net()<br>criterion = nn.MSELoss()<br>optimizer = optim.Adam(model.parameters(), lr=<span class="hljs-number">0.01</span>)<br><br><span class="hljs-comment"># ===================== 3. è®­ç»ƒè®¾ç½® =====================</span><br>epochs = <span class="hljs-number">400</span><br>plot_interval = <span class="hljs-number">20</span>   <span class="hljs-comment"># æ¯éš”å¤šå°‘æ¬¡ç”»ä¸€æ¬¡</span><br>save_interval = <span class="hljs-number">10</span>   <span class="hljs-comment"># æ¯éš”å¤šå°‘æ¬¡ä¿å­˜ä¸€æ¬¡æ¨¡å‹</span><br><br>ckpt_dir = <span class="hljs-string">&quot;checkpoints&quot;</span><br>os.makedirs(ckpt_dir, exist_ok=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># ===================== 4. åŠ¨æ€å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ =====================</span><br>plt.ion()  <span class="hljs-comment"># æ‰“å¼€äº¤äº’æ¨¡å¼</span><br>fig, ax = plt.subplots()<br><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, epochs + <span class="hljs-number">1</span>):<br>    model.train()<br>    optimizer.zero_grad()<br><br>    y_pred = model(x_train)<br>    loss = criterion(y_pred, y_train)<br>    loss.backward()<br>    optimizer.step()<br><br>    <span class="hljs-comment"># ---- (1) å®šæœŸä¿å­˜æ¨¡å‹ï¼ˆç»“æ„+å‚æ•° / æ¨èå†™æ³•ï¼‰----</span><br>    <span class="hljs-keyword">if</span> epoch % save_interval == <span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># ä¿å­˜ model.state_dict()</span><br>        torch.save(<br>            &#123;<br>                <span class="hljs-string">&quot;epoch&quot;</span>: epoch,<br>                <span class="hljs-string">&quot;model_state_dict&quot;</span>: model.state_dict(),<br>            &#125;,<br>            os.path.join(ckpt_dir, <span class="hljs-string">f&quot;ckpt_epoch_<span class="hljs-subst">&#123;epoch&#125;</span>.pth&quot;</span>),<br>        )<br><br>        <span class="hljs-comment"># ä¿å­˜ model</span><br>        torch.save(<br>            model,<br>            os.path.join(ckpt_dir, <span class="hljs-string">f&quot;model_full_epoch_<span class="hljs-subst">&#123;epoch&#125;</span>.pth&quot;</span>)<br>        )<br><br>    <span class="hljs-comment"># ---- (2) å®šæœŸç”»å›¾ï¼Œå±•ç¤ºæ‹Ÿåˆæ•ˆæœ ----</span><br>    <span class="hljs-keyword">if</span> epoch % plot_interval == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> epoch == <span class="hljs-number">1</span>:<br>        model.<span class="hljs-built_in">eval</span>()<br>        <span class="hljs-keyword">with</span> torch.no_grad():<br>            x_plot = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">200</span>)<br>            x_plot_tensor = torch.from_numpy(x_plot).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>            y_plot_pred = model(x_plot_tensor).numpy()<br>            y_true = true_func(x_plot)<br><br>        ax.clear()<br>        ax.scatter(x, y, s=<span class="hljs-number">15</span>, label=<span class="hljs-string">&quot;Noisy data&quot;</span>)  <span class="hljs-comment"># åŸå§‹æ•£ç‚¹</span><br>        ax.plot(x_plot, y_true, linestyle=<span class="hljs-string">&quot;--&quot;</span>, label=<span class="hljs-string">&quot;True function&quot;</span>)  <span class="hljs-comment"># çœŸå®æ›²çº¿</span><br>        ax.plot(<br>            x_plot,<br>            y_plot_pred,<br>            label=<span class="hljs-string">f&quot;NN prediction (epoch=<span class="hljs-subst">&#123;epoch&#125;</span>, loss=<span class="hljs-subst">&#123;loss.item():<span class="hljs-number">.2</span>f&#125;</span>)&quot;</span><br>        )<br>        ax.set_xlabel(<span class="hljs-string">&quot;x&quot;</span>)<br>        ax.set_ylabel(<span class="hljs-string">&quot;y&quot;</span>)<br>        ax.set_title(<span class="hljs-string">&quot;Fitting $y = 1.5x^2 - 2x + 1$ with a Neural Network&quot;</span>)<br>        ax.legend()<br>        plt.pause(<span class="hljs-number">0.01</span>)   <span class="hljs-comment"># çŸ­æš‚åœé¡¿å®ç°åŠ¨ç”»æ•ˆæœ</span><br><br>plt.ioff()<br>plt.show()<br></code></pre></td></tr></table></figure><p>åŠ è½½ <code>model.state_dict()</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># ä¸è®­ç»ƒæ—¶ä¿æŒä¸€è‡´çš„ç½‘ç»œå®šä¹‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Net</span>(torch.nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.net = torch.nn.Sequential(<br>            torch.nn.Linear(<span class="hljs-number">1</span>, <span class="hljs-number">64</span>),<br>            torch.nn.Tanh(),<br>            torch.nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            torch.nn.Tanh(),<br>            torch.nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">1</span>),<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.net(x)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">true_func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1.5</span> * x**<span class="hljs-number">2</span> - <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br><br><span class="hljs-comment"># 1. é€‰æ‹©è¦åŠ è½½çš„ epoch</span><br>ckpt_dir = <span class="hljs-string">&quot;checkpoints&quot;</span><br>target_epoch = <span class="hljs-number">200</span>  <span class="hljs-comment"># ä»»æ„ä½ è®­ç»ƒæ—¶ä¿å­˜è¿‡çš„ï¼Œæ¯”å¦‚ 10, 50, 100, 200, ...</span><br><br>ckpt_path = os.path.join(ckpt_dir, <span class="hljs-string">f&quot;ckpt_epoch_<span class="hljs-subst">&#123;target_epoch&#125;</span>.pth&quot;</span>)<br>checkpoint = torch.load(ckpt_path)<br><br><span class="hljs-comment"># 2. é‡å»ºåŒç»“æ„ç½‘ç»œ &amp; åŠ è½½å‚æ•°</span><br>model = Net()<br>model.load_state_dict(checkpoint[<span class="hljs-string">&quot;model_state_dict&quot;</span>])<br>model.<span class="hljs-built_in">eval</span>()<br><br><span class="hljs-comment"># 3. å‡†å¤‡ä¸ä¹‹å‰ä¸€è‡´çš„æ•°æ®ï¼ˆç”¨äºå±•ç¤ºï¼‰</span><br>np.random.seed(<span class="hljs-number">0</span>)<br>n_samples = <span class="hljs-number">80</span><br>x = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, n_samples)<br>y = true_func(x) + np.random.normal(scale=<span class="hljs-number">3.0</span>, size=n_samples)<br><br><span class="hljs-comment"># 4. ç”»å‡ºè¯¥ epoch çš„æ‹Ÿåˆæ•ˆæœ</span><br><span class="hljs-keyword">with</span> torch.no_grad():<br>    x_plot = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">200</span>)<br>    x_tensor = torch.from_numpy(x_plot).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    y_pred = model(x_tensor).numpy()<br><br>y_true = true_func(x_plot)<br><br>plt.scatter(x, y, s=<span class="hljs-number">15</span>, label=<span class="hljs-string">&quot;Noisy data&quot;</span>)<br>plt.plot(x_plot, y_true, <span class="hljs-string">&quot;--&quot;</span>, label=<span class="hljs-string">&quot;True function&quot;</span>)<br>plt.plot(x_plot, y_pred, label=<span class="hljs-string">f&quot;Loaded model (epoch=<span class="hljs-subst">&#123;target_epoch&#125;</span>)&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;x&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;y&quot;</span>)<br>plt.legend()<br>plt.title(<span class="hljs-string">&quot;Fit of Loaded Checkpoint Model&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure></p><p>åŠ è½½ <code>model</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">true_func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1.5</span> * x**<span class="hljs-number">2</span> - <span class="hljs-number">2</span> * x + <span class="hljs-number">1</span><br><br>ckpt_dir = <span class="hljs-string">&quot;checkpoints&quot;</span><br>target_epoch = <span class="hljs-number">200</span><br>model = torch.load(os.path.join(ckpt_dir, <span class="hljs-string">f&quot;model_full_epoch_<span class="hljs-subst">&#123;target_epoch&#125;</span>.pth&quot;</span>))<br>model.<span class="hljs-built_in">eval</span>()<br><br>np.random.seed(<span class="hljs-number">0</span>)<br>n_samples = <span class="hljs-number">80</span><br>x = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, n_samples)<br>y = true_func(x) + np.random.normal(scale=<span class="hljs-number">3.0</span>, size=n_samples)<br><br><span class="hljs-keyword">with</span> torch.no_grad():<br>    x_plot = np.linspace(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">200</span>)<br>    x_tensor = torch.from_numpy(x_plot).<span class="hljs-built_in">float</span>().view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    y_pred = model(x_tensor).numpy()<br>y_true = true_func(x_plot)<br><br>plt.scatter(x, y, s=<span class="hljs-number">15</span>, label=<span class="hljs-string">&quot;Noisy data&quot;</span>)<br>plt.plot(x_plot, y_true, <span class="hljs-string">&quot;--&quot;</span>, label=<span class="hljs-string">&quot;True function&quot;</span>)<br>plt.plot(x_plot, y_pred, label=<span class="hljs-string">f&quot;Loaded full model (epoch=<span class="hljs-subst">&#123;target_epoch&#125;</span>)&quot;</span>)<br>plt.legend()<br>plt.xlabel(<span class="hljs-string">&quot;x&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;y&quot;</span>)<br>plt.title(<span class="hljs-string">&quot;Fit of Loaded Full Model&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Pytorch</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pytorch</tag>
      
      <tag>regression</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GPU ç³»åˆ— - 1. GPU çš„ä¸¤ç§åŒæ­¥æ–¹å¼</title>
    <link href="/2025/11/10/GPU/gpu_pytorch_1/"/>
    <url>/2025/11/10/GPU/gpu_pytorch_1/</url>
    
    <content type="html"><![CDATA[<h1 id="gpu-ç³»åˆ—-pytorch---1.-gpu-çš„ä¸¤ç§åŒæ­¥æ–¹å¼">GPU ç³»åˆ— (Pytorch) -1. GPU çš„ä¸¤ç§åŒæ­¥æ–¹å¼</h1><h2 id="pytorch-ä¸åŒç‰ˆæœ¬çš„å®‰è£…">0. pytorch ä¸åŒç‰ˆæœ¬çš„å®‰è£…</h2><p>åœ¨å¼€å§‹è¯´æ˜ pytorch ä¸åŒç‰ˆæœ¬çš„å®‰è£…</p><p>åœ¨ pytorch çš„å®˜ç½‘æŸ¥çœ‹å®‰è£…æŒ‡å¯¼ - GPU å®‰è£… <imgsrc="pytorch-install-gpu.png" alt="regular" /> - CPU å®‰è£… <imgsrc="pytorch-install-cpu.png" alt="regular" /></p><p>å…³äº GPU çš„å¸¸è§è¯¯åŒº</p><ul><li>âŒâ€œæœ‰ GPU å°±ä¸€å®šæ›´å¿«â€ï¼šå°ä»»åŠ¡/å° batch/é¢‘ç¹ä¼ è¾“æ—¶æœªå¿…ã€‚</li><li>âŒâ€œæé€Ÿåªèƒ½é æ¢å¡â€ï¼šæ•°æ®åŠ è½½ã€æ‰¹é‡ã€ä¼ è¾“æ¨¡å¼ã€ç®—å­èåˆï¼Œå¾€å¾€æ˜¯æ›´ä¾¿å®œçš„æå‡ç©ºé—´ã€‚<!-- - âŒâ€œæ··åˆç²¾åº¦ä¼šé™ä½ç²¾åº¦â€ï¼šåˆç†ä½¿ç”¨ï¼ˆä¿æŒæ ‡é‡æŸå¤± FP32ã€å…³é”®å½’ä¸€åŒ– FP32ï¼‰é€šå¸¸ä¸å½±å“ç²¾åº¦ç”šè‡³æ›´ç¨³å®šã€‚ --></li></ul><p>æ¥ä¸‹æ¥é€šè¿‡å‡ ä¸ªä¾‹å­åˆæ­¥è®¤è¯†ä¸€ä¸‹ GPU çš„è¿è¡Œæœºåˆ¶</p><h2 id="gpu-çš„é¢„çƒ­ç°è±¡">1. GPU çš„é¢„çƒ­ç°è±¡</h2><p><strong>ä¾‹1</strong> è¿›è¡Œä¸¤æ¬¡ GPUä¹˜æ³•è®¡ç®—ï¼Œåˆ†åˆ«æŸ¥çœ‹è€—æ—¶ï¼ˆæ³¨æ„ï¼Œå…¶å®è¿™é‡Œç»Ÿè®¡çš„æ—¶é—´ï¼Œä¸æ˜¯ GPUè®¡ç®—ä¹˜æ³•çœŸæ­£è€—æ—¶ï¼‰ <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch, time<br><br>N = <span class="hljs-number">4000</span><br><br><span class="hljs-comment"># case1ï¼šGPU ä¹˜æ³•è®¡ç®—</span><br>a1 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b1 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c1 = a1 @ b1              <span class="hljs-comment"># GPUï¼šç¬¬ 1 æ¬¡æ‰§è¡Œä¹˜æ³•</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># case2ï¼šGPU ä¹˜æ³•è®¡ç®—</span><br>a2 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b2 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c2 = a2 @ b2              <span class="hljs-comment"># GPUï¼šç¬¬ 2 æ¬¡æ‰§è¡Œä¹˜æ³•</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br></code></pre></td></tr></table></figure> æ‰§è¡Œå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[GPU] è€—æ—¶: 0.077134s<br>[GPU] è€—æ—¶: 0.001915s<br></code></pre></td></tr></table></figure>å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€æ¬¡è€—æ—¶æ˜æ˜¾æ¯”ç¬¬äºŒæ¬¡è€—æ—¶æ›´é•¿ï¼Œè¿™æ˜¯å› ä¸º</p><ul><li><p>ç¬¬ 1 æ¬¡è®¡ç®—æ˜¯â€œå†·å¯åŠ¨â€</p></li><li><p>ç¬¬ 2 æ¬¡è®¡ç®—æ˜¯â€œçƒ­èº«åâ€</p></li><li><p><strong>ç¬¬ 1 æ¬¡ GPU è®¡ç®—è€—æ—¶ &gt;&gt; ç¬¬ 2 æ¬¡ GPUè®¡ç®—è€—æ—¶</strong></p></li></ul><h2 id="gpu-çš„é¢„çƒ­è€—æ—¶">2. GPU çš„é¢„çƒ­è€—æ—¶</h2><p><strong>ä¾‹2</strong> è¿›è¡Œä¸¤æ¬¡ GPUä¹˜æ³•è®¡ç®—ï¼Œåˆ†åˆ«æŸ¥çœ‹è€—æ—¶ï¼ˆæ³¨æ„ï¼Œå…¶å®è¿™é‡Œç»Ÿè®¡çš„æ—¶é—´ï¼Œä¸æ˜¯ GPUè®¡ç®—ä¹˜æ³•çœŸæ­£è€—æ—¶ï¼‰ <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch, time<br><br>N = <span class="hljs-number">4</span><br><br><span class="hljs-comment"># case1ï¼šGPU ä¹˜æ³•è®¡ç®—</span><br>a1 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b1 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c1 = a1 @ b1              <span class="hljs-comment"># GPUï¼šç¬¬ 1 æ¬¡æ‰§è¡Œä¹˜æ³•</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># case2ï¼šGPU ä¹˜æ³•è®¡ç®—</span><br>a2 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b2 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c2 = a2 @ b2              <span class="hljs-comment"># GPUï¼šç¬¬ 2 æ¬¡æ‰§è¡Œä¹˜æ³•</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br></code></pre></td></tr></table></figure> æ‰§è¡Œå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[GPU] è€—æ—¶: 0.078570s<br>[GPU] è€—æ—¶: 0.000069s<br></code></pre></td></tr></table></figure>å¯ä»¥çœ‹åˆ°ï¼Œè®¡ç®—é‡ä» <span class="math inline">\(N=4000\)</span> åˆ° <spanclass="math inline">\(N=4\)</span>ï¼Œ - ç¬¬ 1 æ¬¡è®¡ç®—è€—æ—¶ä» 0.077134s åˆ°0.078570s (å‡ ä¹æ²¡å˜) - ç¬¬ 2 æ¬¡è®¡ç®—è€—æ—¶ä» 0.001915s åˆ° 0.000069s(æ˜¾è‘—å‡å°‘) è¿™æ˜¯å› ä¸º - ç¬¬ 1 æ¬¡è®¡ç®—æ—¶ï¼ŒGPUè¿˜æ²¡æœ‰é¢„çƒ­ï¼Œéœ€è¦èŠ±ä¸€äº›æ—¶é—´æ¥åˆå§‹åŒ– - ç¬¬ 2 æ¬¡è®¡ç®—æ—¶ï¼ŒGPUå·²ç»é¢„çƒ­ï¼Œæ‰€ä»¥è€—æ—¶æ›´çŸ­ - å¯¹äº <span class="math inline">\(N=4\)</span>å’Œ <span class="math inline">\(N=4000\)</span>ï¼Œå¯çŸ¥ - <strong>æ¯æ¬¡ GPUé¢„çƒ­è€—æ—¶å¤§è‡´ä¸€æ ·</strong> - <strong>GPU é¢„çƒ­åï¼Œè®¡ç®—é‡è¶Šå¤§ GPUè®¡ç®—è€—æ—¶ä¹Ÿè¶Šå¤§</strong></p><h2 id="gpu-çš„å¼‚æ­¥å·¥ä½œæ–¹å¼">3. GPU çš„å¼‚æ­¥å·¥ä½œæ–¹å¼</h2><p><strong>ä¾‹3</strong> ä½¿ç”¨ CPU å’Œ GPUè¿›è¡Œä¹˜æ³•è®¡ç®—ï¼Œåˆ†åˆ«æŸ¥çœ‹è€—æ—¶ï¼ˆæ³¨æ„ï¼Œå…¶å®è¿™é‡Œç»Ÿè®¡ GPUå·¥ä½œæ—¶é—´æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬äºŒç§æ›´ç§‘å­¦ï¼‰ <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch, time<br><br>N = <span class="hljs-number">4000</span><br><br><span class="hljs-comment"># Case1: CPU ç¬¬ä¸€æ¬¡è®¡ç®—</span><br>a1 = torch.randn(N, N)<br>b1 = torch.randn(N, N)<br>t0 = time.perf_counter()<br>c1 = a1 @ b1         <span class="hljs-comment"># CPUï¼šè°ƒç”¨ä¼šä¸€ç›´ç­‰åˆ°ä¹˜æ³•çœŸæ­£ç®—å®Œæ‰è¿”å›</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[CPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># Case2: CPU ç¬¬äºŒæ¬¡è®¡ç®—</span><br>a2 = torch.randn(N, N)<br>b2 = torch.randn(N, N)<br>t0 = time.perf_counter()<br>c2 = a2 @ b2         <span class="hljs-comment"># CPUï¼šè°ƒç”¨ä¼šä¸€ç›´ç­‰åˆ°ä¹˜æ³•çœŸæ­£ç®—å®Œæ‰è¿”å›</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[CPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># Case3: GPUï¼ˆé¢„çƒ­è®¡æ—¶ï¼‰</span><br>a3 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b3 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c3 = a3 @ b3                  <span class="hljs-comment"># GPUï¼šåªæ˜¯æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—,ç«‹å³è¿”å›</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># case4ï¼šGPUï¼ˆé”™è¯¯è®¡æ—¶ç¤ºèŒƒï¼‰</span><br>a4 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b4 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c4 = a4 @ b4                  <span class="hljs-comment"># GPUï¼šåªæ˜¯æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—,ç«‹å³è¿”å›</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># case5ï¼šGPUï¼ˆæ­£ç¡®è®¡æ—¶ç¤ºèŒƒï¼‰</span><br>a5 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b5 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c5 = a5 @ b5              <span class="hljs-comment"># GPUï¼šåªæ˜¯æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—,ç«‹å³è¿”å›</span><br>torch.cuda.synchronize()  <span class="hljs-comment"># ã€å¼ºåˆ¶åŒæ­¥ã€‘ç­‰å¾…GPUå®Œæˆ!</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br></code></pre></td></tr></table></figure></p><p>$ N = 4000<span class="math inline">\(ï¼Œæ‰§è¡Œå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[CPU] è€—æ—¶: 0.149812s<br>[CPU] è€—æ—¶: 0.119700s<br>[GPU] è€—æ—¶: 0.077278s<br>[GPU] è€—æ—¶: 0.001844s<br>[GPU] è€—æ—¶: 0.027026s<br></code></pre></td></tr></table></figure>\)</span> N = 4<spanclass="math inline">\(ï¼Œæ‰§è¡Œå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[CPU] è€—æ—¶: 0.000254s<br>[CPU] è€—æ—¶: 0.000051s<br>[GPU] è€—æ—¶: 0.079781s<br>[GPU] è€—æ—¶: 0.000082s<br>[GPU] è€—æ—¶: 0.000241s<br></code></pre></td></tr></table></figure>å¯ä»¥çœ‹å‡ºï¼š- case 1 vs 2ï¼šCPUä¸å­˜åœ¨é¢„çƒ­ï¼ŒCPUæ¯æ¬¡è¿è¡Œè€—æ—¶ä¸€æ ·- case 3 vs 4 vs 5ï¼šGPUå­˜åœ¨é¢„çƒ­ï¼ŒGPUç¬¬ä¸€æ¬¡è¿è¡Œè€—æ—¶è¾ƒé•¿ï¼Œåç»­è¿è¡Œè€—æ—¶è¾ƒçŸ­- case 4ï¼šGPUå¼‚æ­¥æ‰§è¡Œæ¨¡å¼ï¼ˆé”™è¯¯è®¡æ—¶ï¼‰ï¼Œè€—æ—¶è¾ƒçŸ­æ˜¯å› ä¸º GPUåªæ˜¯æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—ï¼Œç«‹å³è¿”å›ï¼Œæ²¡æœ‰ç­‰å¾…è®¡ç®—å®Œæˆ- case 5ï¼šGPUå¼‚æ­¥æ‰§è¡Œæ¨¡å¼ï¼ˆæ­£ç¡®è®¡æ—¶ï¼‰ï¼Œè€—æ—¶è¾ƒé•¿æ˜¯å› ä¸º GPUåªæ˜¯æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—ï¼Œç«‹å³è¿”å›ï¼Œæ²¡æœ‰ç­‰å¾…è®¡ç®—å®Œæˆï¼Œéœ€è¦ã€å¼ºåˆ¶åŒæ­¥ã€‘ç­‰å¾… GPUå®Œæˆè®¡ç®—- Case 1 vs 5 (\)</span>N = 4<span class="math inline">\()ï¼šGPU æ¯” CPUç•¥å¿«ï¼ŒåŠ é€Ÿæ•ˆæœä¸æ˜æ˜¾- Case 1 vs 5 (\)</span>N = 4000$)ï¼šGPU æ¯” CPU å¿«å¾ˆå¤šï¼ŒåŠ é€Ÿæ˜æ˜¾ï¼Œè¯´æ˜GPU æ›´é€‚åˆå¤§è§„æ¨¡è®¡ç®—</p><p>Case 1 vs 4 vs 5 å¯¹åº”çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="hljs-comment">â”‚                  CPU åŒæ­¥æ‰§è¡Œæ¨¡å¼ (æ­£ç¡®è®¡æ—¶)                          â”‚</span><br><span class="hljs-comment">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><br><span class="hljs-comment">Pythonä¸»çº¿ç¨‹:  â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>&gt;<br>               <span class="hljs-comment">t0 â”‚                                     â”‚ t1</span><br>                  <span class="hljs-comment">â”‚       c_cpu = a_cpu @ b_cpu         â”‚</span><br>                  <span class="hljs-comment">â–¼                                     â–¼</span><br><span class="hljs-comment">CPUè®¡ç®—:</span>           <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span><br>                   <span class="hljs-comment">â”‚â†    4000Ã—4000 çŸ©é˜µä¹˜æ³•ï¼Œé˜»å¡ç­‰å¾…    â†’â”‚</span><br>                   <span class="hljs-comment">â”‚                                    â”‚</span><br>                   <span class="hljs-comment">â””â”€â”€â”€â”€â”€â”€â”€ å®é™…è®¡ç®—æ—¶é—´  â‰ˆ  t1</span><span class="hljs-literal">-</span><span class="hljs-comment">t0   â”€â”€â”€â”€â”˜</span><br><br><span class="hljs-comment">ç‰¹ç‚¹: è®¡ç®— c_cpu = a_cpu @ b_cpu</span>  <br>      <span class="hljs-comment">ä¼šã€é˜»å¡ã€‘ç­‰å¾…è®¡ç®—å®Œæˆæ‰è¿”å›</span><br>      <span class="hljs-comment">âœ“ t1</span><span class="hljs-literal">-</span><span class="hljs-comment">t0 å‡†ç¡®åæ˜ äº†çœŸå®è®¡ç®—æ—¶é—´</span><br><br><br><span class="hljs-comment">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="hljs-comment">â”‚                     GPU å¼‚æ­¥æ‰§è¡Œæ¨¡å¼ (é”™è¯¯è®¡æ—¶)                       â”‚</span><br><span class="hljs-comment">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><br><span class="hljs-comment">Pythonä¸»çº¿ç¨‹:  â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>&gt;<br>               <span class="hljs-comment">t0 â”‚â†</span><span class="hljs-literal">-------</span><span class="hljs-comment">â†’â”‚ t1 (ä»…æ˜¯æäº¤æ—¶é—´)</span><br>                  <span class="hljs-comment">â”‚ â† åªæ˜¯æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ—</span><span class="hljs-string">,</span><span class="hljs-comment">ç«‹å³è¿”å›</span><br>                  <span class="hljs-comment">â”‚         â”‚â† è¿”å›ç»“æŸ</span><br>                  <span class="hljs-comment">â”‚         â”‚</span><br>                  <span class="hljs-comment">â”‚         â”‚</span><br>               <span class="hljs-comment">t0 â”‚â†</span><span class="hljs-literal">-------</span><span class="hljs-comment">â†’â”‚ t1</span>  <br><span class="hljs-comment">GPUåå°å¼‚æ­¥æ‰§è¡Œ:</span>              <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span><br>                             <span class="hljs-comment">â”‚â†</span><span class="hljs-literal">--</span> <span class="hljs-comment">4000Ã—4000 çŸ©é˜µä¹˜æ³•</span> <span class="hljs-literal">--</span><span class="hljs-comment">â†’â”‚</span><br>                             <span class="hljs-comment">|</span><span class="hljs-literal">------------------------</span><span class="hljs-comment">â†’â”‚</span><br>                                 <span class="hljs-comment">(Pythonç»§ç»­è¿è¡Œ!)</span><br><br><span class="hljs-comment">ç‰¹ç‚¹: c = a @ b  åªæ˜¯ã€å‘å°„ã€‘kernel</span><span class="hljs-string">,</span><span class="hljs-comment">ä¸ç­‰å¾…å®Œæˆ</span><br>      <span class="hljs-comment">âœ— t1</span><span class="hljs-literal">-</span><span class="hljs-comment">t0 åªæµ‹é‡äº†æäº¤æ—¶é—´ (~0</span><span class="hljs-string">.</span><span class="hljs-comment">0001s)</span><br>      <span class="hljs-comment">âœ— çœŸå®è®¡ç®—æ—¶é—´è¢«éšè—åœ¨åå°</span><br><br><br><span class="hljs-comment">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="hljs-comment">â”‚                     æ­£ç¡®çš„GPUè®¡æ—¶æ–¹æ³•                                â”‚</span><br><span class="hljs-comment">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><br><span class="hljs-comment">Pythonä¸»çº¿ç¨‹:  â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>&gt;<br>               <span class="hljs-comment">t0â”‚     â”‚</span>                   <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span><span class="hljs-comment">â”‚t1</span><br>                 <span class="hljs-comment">â”‚     â”‚</span>       <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span>            <span class="hljs-comment">â”‚</span><br>                 <span class="hljs-comment">â”‚     â”‚</span>           <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span>        <span class="hljs-comment">â”‚</span><br>                 <span class="hljs-comment">â”‚â†</span><span class="hljs-literal">---</span><span class="hljs-comment">â†’|</span>              <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span>     <span class="hljs-comment">â”‚</span><br>                 <span class="hljs-comment">â–¼                                  â–¼</span><br><span class="hljs-comment">GPUé˜Ÿåˆ—:</span>       <span class="hljs-title">[</span><span class="hljs-comment">æäº¤</span><span class="hljs-title">]</span> <span class="hljs-comment">â†’</span> <span class="hljs-title">[</span><span class="hljs-comment">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><span class="hljs-title">]</span>    <span class="hljs-title">[</span><span class="hljs-comment">åŒæ­¥ç‚¹</span><span class="hljs-title">]</span><br>                       <span class="hljs-comment">â”‚â†</span><span class="hljs-literal">-----</span> <span class="hljs-comment">GPUè®¡ç®—</span> <span class="hljs-literal">-----</span><span class="hljs-comment">â†’â”‚      â”‚</span>       <br>                                             <span class="hljs-comment">â”‚â†</span><span class="hljs-literal">----</span><span class="hljs-comment">â†’|</span><br>                                                    <span class="hljs-comment">â–²</span><br>                          <span class="hljs-comment">torch</span><span class="hljs-string">.</span><span class="hljs-comment">cuda</span><span class="hljs-string">.</span><span class="hljs-comment">synchronize() â†’|</span> <br>                                      <span class="hljs-comment">å¼ºåˆ¶ç­‰å¾…GPUå®Œæˆ!</span><br><br><br></code></pre></td></tr></table></figure><h2 id="gpu-ä¸¤ç§åŒæ­¥æ–¹å¼">4. GPU ä¸¤ç§åŒæ­¥æ–¹å¼</h2><p><strong>ä¾‹4</strong> è€ƒè™‘ä»¥ä¸‹ä¸¤ç§ GPU åŒæ­¥æ–¹å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch, time<br><br>N = <span class="hljs-number">4000</span><br><br><span class="hljs-comment"># GPU é¢„çƒ­</span><br>a0 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b0 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c0 = a0 @ b0              <span class="hljs-comment"># æäº¤ â€œa @ bâ€ </span><br>torch.cuda.synchronize()  <span class="hljs-comment"># ã€å¼ºåˆ¶åŒæ­¥ã€‘ç­‰å¾…GPUå®Œæˆ!</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] é¢„çƒ­è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><span class="hljs-comment"># case 1: GPU åŒæ­¥æ–¹å¼ 1</span><br>a1 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b1 = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>t0 = time.perf_counter()<br>c1 = a1 @ b1              <span class="hljs-comment"># æäº¤ â€œa @ bâ€ </span><br>torch.cuda.synchronize()  <span class="hljs-comment"># ã€å¼ºåˆ¶åŒæ­¥ã€‘ç­‰å¾…GPUå®Œæˆ!</span><br>t1 = time.perf_counter()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] åŒæ­¥1è€—æ—¶: <span class="hljs-subst">&#123;t1 - t0:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>)<br><br><br><span class="hljs-comment"># case 2: GPU åŒæ­¥æ–¹å¼ 2</span><br><span class="hljs-comment"># åœ¨ GPU å†…åˆ›å»ºä¸¤ä¸ªå¤§çŸ©é˜µ</span><br>a = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br>b = torch.randn(N, N, device=<span class="hljs-string">&quot;cuda&quot;</span>)<br><span class="hljs-comment"># åˆ›å»ºä¸¤ä¸ª CUDA äº‹ä»¶ï¼ˆEventï¼‰:åœ¨ GPU æ—¶é—´çº¿ä¸Šæ’ä¸¤ä¸ªâ€œæ ‡è®°ç‚¹â€</span><br>start = torch.cuda.Event(enable_timing=<span class="hljs-literal">True</span>) <br>end = torch.cuda.Event(enable_timing=<span class="hljs-literal">True</span>) <br><br>start.record()    <span class="hljs-comment"># å¼€å§‹æ ‡è®°</span><br>c = a @ b         <span class="hljs-comment"># æäº¤ â€œa @ bâ€ ï¼ˆä¸ä¼šç«‹å³æ‰§è¡Œå®Œï¼‰</span><br>end.record()      <span class="hljs-comment"># ç»“æŸæ ‡è®°</span><br>end.synchronize() <span class="hljs-comment"># åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œè®¡æ—¶ç»“æŸ</span><br>T = start.elapsed_time(end) <span class="hljs-comment"># ç»Ÿè®¡ä» start.record() åˆ° end.synchronize() ä¹‹é—´çš„è€—æ—¶</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[GPU] åŒæ­¥2è€—æ—¶: <span class="hljs-subst">&#123;T/<span class="hljs-number">1000</span>:<span class="hljs-number">.6</span>f&#125;</span>s&quot;</span>) <span class="hljs-comment"># T/1000ï¼šæŠŠæ¯«ç§’å˜æˆç§’</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œåç»“æœ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[GPU] é¢„çƒ­è€—æ—¶: 0.083418s<br>[GPU] åŒæ­¥1è€—æ—¶: 0.013568s<br>[GPU] åŒæ­¥2è€—æ—¶: 0.005645s<br></code></pre></td></tr></table></figure> å¯ä»¥çœ‹å‡º - å·²ç»æ’é™¤äº†é¢„çƒ­çš„è€—æ—¶ -ç¬¬ä¸€ç§åŒæ­¥æ–¹å¼è€—æ—¶æ›´é•¿ï¼šç­‰ã€Œè¿™ä¸ª deviceä¸Šæ‰€æœ‰çš„æ‰€æœ‰ä»»åŠ¡ã€å®Œæˆï¼Œæ‰€ä»¥è¿™ç§è®¡æ—¶è¿˜æ˜¯æœ‰è¯¯å·®çš„ -ç¬¬äºŒç§åŒæ­¥æ–¹å¼æ—¶é—´æ›´çŸ­ï¼šç­‰ã€Œè¿™ä¸ª eventä¹‹å‰çš„ä»»åŠ¡ã€å®Œæˆï¼Œæ‰€ä»¥è¿™ç§è®¡æ—¶æ›´åŠ ç²¾å‡† -è¿™ä¸¤ç§åŒæ­¥æ–¹å¼ï¼Œéƒ½åŒ…å«äº†æ‰§è¡Œã€ä¹˜æ³•ä»»åŠ¡ã€‘çš„æ—¶é—´ï¼ˆè¿™åŒºåˆ«äº<strong>ä¾‹1</strong>ï¼Œå› ä¸º<strong>ä¾‹1</strong>æ²¡æœ‰åŒæ­¥ï¼Œåªæ˜¯åœ¨ç»Ÿè®¡æäº¤ä»»åŠ¡çš„æ—¶é—´ï¼‰</p><p>ä¸¤ç§åŒæ­¥æ–¹å¼çš„æœºåˆ¶å¦‚ä¸‹å›¾æ‰€ç¤º</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs inform7">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚                        GPU çš„åŒæ­¥æ–¹å¼ 1                              â”‚<br>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br><br>Pythonä¸»çº¿ç¨‹:  â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;<br>               t0â”‚     â”‚                   <span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]</span>â”‚t1<br>                 â”‚     â”‚       <span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]</span>            â”‚<br>                 â”‚     â”‚           <span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]</span>        â”‚<br>                 â”‚â†---â†’|              <span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]</span>     â”‚<br>                 â–¼                                  â–¼<br>GPUé˜Ÿåˆ—:       <span class="hljs-comment">[æäº¤]</span> â†’ <span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]</span>    <span class="hljs-comment">[åŒæ­¥ç‚¹]</span><br>                       â”‚â†----- GPUè®¡ç®— -----â†’â”‚      â”‚       <br>                                             â”‚â†----â†’|<br>                                                    â–²<br>                          torch.cuda.synchronize() â†’| <br>                                      å¼ºåˆ¶ç­‰å¾…GPUå®Œæˆ!<br><br>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚                        GPU çš„åŒæ­¥æ–¹å¼ 2                              â”‚<br>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br><br>Pythonä¸»çº¿ç¨‹:  â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;<br>               t0â”‚     â”‚                           â”‚t1<br>                 â”‚     â”‚                           â”‚<br>                 â”‚     â”‚        end.record()â†’<span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆ]</span>â”‚<br>                 â”‚â†---â†’|                     â”‚     â”‚<br>                 â–¼                           â”‚     â–¼<br>GPUé˜Ÿåˆ—:       <span class="hljs-comment">[æäº¤]</span> â†’ <span class="hljs-comment">[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]</span>    <br>                       â”‚â†----- GPUè®¡ç®— -----â†’â”‚             <br>                                                   â–²<br>                                               <span class="hljs-comment">[åŒæ­¥ç‚¹]</span><br>                                end.synchronize() â†’| <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>GPU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pytorch</tag>
      
      <tag>GPU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git ç³»åˆ— - 5. Git åˆ†æ”¯åä½œæ¡ˆä¾‹</title>
    <link href="/2025/02/25/Git/git_5-branch_demo-2025-02-25/"/>
    <url>/2025/02/25/Git/git_5-branch_demo-2025-02-25/</url>
    
    <content type="html"><![CDATA[<h2id="github-å»ºç«‹ä»“åº“-git_testä¼šäº§ç”Ÿé»˜è®¤åˆ†æ”¯-mainåŒæ—¶ç¡®ä¿aå’Œbéƒ½æœ‰-github-ä»“åº“çš„æƒé™">1.Github å»ºç«‹ä»“åº“ <code>git_test</code>ï¼ˆä¼šäº§ç”Ÿé»˜è®¤åˆ†æ”¯<code>main</code>ï¼‰ï¼ŒåŒæ—¶ç¡®ä¿Aå’ŒBéƒ½æœ‰ Github ä»“åº“çš„æƒé™</h2><h2 id="a-å’Œ-b-ä¸¤ä¸ªäººåˆ†åˆ«åœ¨æœ¬åœ°å»ºç«‹æ–‡ä»¶å¤¹-git_test">2. A å’Œ Bä¸¤ä¸ªäººåˆ†åˆ«åœ¨æœ¬åœ°å»ºç«‹æ–‡ä»¶å¤¹ <code>git_test</code></h2><h2 id="a-è¿›å…¥æœ¬åœ°æ–‡ä»¶å¤¹-git_test">3. A è¿›å…¥æœ¬åœ°æ–‡ä»¶å¤¹<code>git_test</code></h2><ul><li>åˆå§‹åŒ–Açš„æœ¬åœ°ä»“åº“ï¼ˆä¼šäº§ç”Ÿé»˜è®¤åˆ†æ”¯ <code>master</code>ï¼‰ï¼Œ</li><li>ä¿®æ”¹ <code>master</code> åˆ†æ”¯ä¸º <code>main</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init<br>git branch -m master main<br></code></pre></td></tr></table></figure><h2 id="a-åœ¨æœ¬åœ°ä»“åº“åˆ›å»ºæ–‡ä»¶å¹¶åŒæ­¥è‡³-github">4. Aåœ¨æœ¬åœ°ä»“åº“åˆ›å»ºæ–‡ä»¶å¹¶åŒæ­¥è‡³ Github</h2><ul><li><p>æ–°å»ºæ–‡ä»¶ test.txtï¼Œå¹¶æ·»åŠ å†…å®¹<code>main çš„ç¬¬ä¸€æ¬¡ä¿®æ”¹</code></p></li><li><p>å¹¶æäº¤è‡³æœ¬åœ°ä»“åº“çš„ main åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br>git commit -m <span class="hljs-string">&quot;main çš„ç¬¬ä¸€æ¬¡ä¿®æ”¹&quot;</span><br></code></pre></td></tr></table></figure></p></li><li><p>ç„¶ååŒæ­¥è‡³ Github ä»“åº“çš„ main åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote add origin git@github.com:yylustb/git_test.git<br>git push -u origin main<br></code></pre></td></tr></table></figure>æ¥ä¸‹æ¥æ£€æŸ¥githubï¼Œå¯ä»¥çœ‹åˆ° Github ä»“åº“çš„ main åˆ†æ”¯å·²ç»åŒæ­¥æˆåŠŸ</p></li></ul><h2 id="b-åˆæ¬¡é“¾æ¥-github-ä»“åº“å¹¶åˆæ¬¡åŒæ­¥">5. B åˆæ¬¡é“¾æ¥ Githubä»“åº“ï¼Œå¹¶åˆæ¬¡åŒæ­¥</h2><ul><li>åˆå§‹åŒ– git ä»“åº“ï¼ˆä¼šäº§ç”Ÿé»˜è®¤åˆ†æ”¯ <code>master</code>ï¼‰ï¼Œ</li><li>ä¿®æ”¹ <code>master</code> åˆ†æ”¯ä¸º <code>main</code></li><li>é“¾æ¥Github ä»“åº“</li><li>ä» Github ä»“åº“åŒæ­¥è‡³æœ¬åœ°ä»“åº“çš„ main åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init<br>git branch -m master main<br>git remote add origin git@github.com:yylustb/git_test.git<br>git pull origin main<br></code></pre></td></tr></table></figure>æ¥ä¸‹æ¥æ£€æŸ¥Bçš„æœ¬åœ°ä»“åº“ï¼Œå¯ä»¥çœ‹åˆ° Github ä»“åº“çš„ main åˆ†æ”¯å·²ç»åŒæ­¥æˆåŠŸ</li></ul><h2id="åœ¨ä¸‰ä¸ªä»“åº“githubaæœ¬åœ°å’Œbæœ¬åœ°æ·»åŠ fthåˆ†æ”¯å¹¶å°†-a-å’Œ-b-çš„-fth-åˆ†æ”¯ä¸-github-çš„-fth-åˆ†æ”¯åŒæ­¥">6.åœ¨ä¸‰ä¸ªä»“åº“ï¼ˆGithubï¼ŒAæœ¬åœ°ï¼Œå’ŒBæœ¬åœ°ï¼‰æ·»åŠ fthåˆ†æ”¯ï¼Œå¹¶å°† A å’Œ B çš„ fthåˆ†æ”¯ä¸ Github çš„ fth åˆ†æ”¯åŒæ­¥</h2><ul><li>åœ¨ <code>Github</code> æ·»åŠ  fth åˆ†æ”¯ (ç½‘é¡µæ“ä½œ)</li><li>åœ¨ <code>Aæœ¬åœ°</code> æ·»åŠ  fth åˆ†æ”¯ (å‘½ä»¤è¡Œæ“ä½œ) <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch fth<br>git checkout fth<br>git pull origin fth<br></code></pre></td></tr></table></figure></li><li>åœ¨ <code>Bæœ¬åœ°</code> æ·»åŠ  fth åˆ†æ”¯ (å‘½ä»¤è¡Œæ“ä½œ) <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch fth<br>git checkout fth<br>git pull origin fth<br></code></pre></td></tr></table></figure></li></ul><h2id="æ¥ä¸‹æ¥aåœ¨æœ¬åœ°ä»“åº“çš„mainåˆ†æ”¯è¿›è¡Œå·¥ä½œbåœ¨æœ¬åœ°çš„fthåˆ†æ”¯è¿›è¡Œå·¥ä½œaæ¯æ¬¡å·¥ä½œå®Œè¦åŒæ­¥åˆ°githubçš„mainbæ¯æ¬¡å·¥ä½œå®Œè¦åŒæ­¥åˆ°githubçš„fth">7.æ¥ä¸‹æ¥ï¼ŒAåœ¨æœ¬åœ°ä»“åº“çš„mainåˆ†æ”¯è¿›è¡Œå·¥ä½œï¼ŒBåœ¨æœ¬åœ°çš„fthåˆ†æ”¯è¿›è¡Œå·¥ä½œï¼ˆAæ¯æ¬¡å·¥ä½œå®Œè¦åŒæ­¥åˆ°Githubçš„mainï¼ŒBæ¯æ¬¡å·¥ä½œå®Œè¦åŒæ­¥åˆ°Githubçš„fthï¼‰</h2><h3 id="aåœ¨æœ¬åœ°ä»“åº“çš„mainåˆ†æ”¯è¿›è¡Œå·¥ä½œ">7.1Aåœ¨æœ¬åœ°ä»“åº“çš„mainåˆ†æ”¯è¿›è¡Œå·¥ä½œ</h3><p>A åˆ‡æ¢å› main åˆ†æ”¯ï¼Œä¿®æ”¹test.txtæ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹<code>main çš„ç¬¬äºŒæ¬¡ä¿®æ”¹</code>ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“çš„ main åˆ†æ”¯ï¼Œå¹¶åŒæ­¥è‡³Github ä»“åº“çš„ main åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br>git commit -m <span class="hljs-string">&quot;main çš„ç¬¬äºŒæ¬¡ä¿®æ”¹&quot;</span><br>git push -u origin main<br></code></pre></td></tr></table></figure></p><p>A ç»§ç»­ä¿®æ”¹test.txtæ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹<code>main çš„ç¬¬ä¸‰æ¬¡ä¿®æ”¹</code>ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“çš„ main åˆ†æ”¯ï¼Œå¹¶åŒæ­¥è‡³Github ä»“åº“çš„ main åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br>git commit -m <span class="hljs-string">&quot;main çš„ç¬¬ä¸‰æ¬¡ä¿®æ”¹&quot;</span><br>git push <br></code></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°ä»“åº“å’ŒGithubä»“åº“çš„mainåˆ†æ”¯éƒ½å·²ç»åŒæ­¥æˆåŠŸï¼ˆéƒ½åŒ…å«mainçš„ä¸‰æ¬¡ä¿®æ”¹è®°å½•ï¼‰</p><h3 id="båœ¨æœ¬åœ°çš„fthåˆ†æ”¯è¿›è¡Œå·¥ä½œ">7.2 Båœ¨æœ¬åœ°çš„fthåˆ†æ”¯è¿›è¡Œå·¥ä½œ</h3><p>B åˆ‡æ¢å› fth åˆ†æ”¯ï¼Œä¿®æ”¹test.txtæ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹<code>fth çš„ç¬¬ä¸€æ¬¡ä¿®æ”¹</code>ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“çš„ fth åˆ†æ”¯ï¼Œå¹¶åŒæ­¥è‡³Github ä»“åº“çš„ main åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br>git commit -m <span class="hljs-string">&quot;fth çš„ç¬¬ä¸€æ¬¡ä¿®æ”¹&quot;</span><br>git push -u origin fth<br></code></pre></td></tr></table></figure></p><p>B ç»§ç»­ä¿®æ”¹ test.txt æ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹<code>fth çš„ç¬¬äºŒæ¬¡ä¿®æ”¹</code>ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“çš„ fth åˆ†æ”¯ï¼Œå¹¶åŒæ­¥è‡³Github ä»“åº“çš„ fth åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -am <span class="hljs-string">&quot;main çš„ç¬¬äºŒæ¬¡ä¿®æ”¹&quot;</span><br>git push <br></code></pre></td></tr></table></figure></p><p>B æ–°å»º paper/paper.txt æ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹<code>111 \n 222 \n 333 \n</code>ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“çš„ fth åˆ†æ”¯ï¼Œå¹¶åŒæ­¥è‡³Github ä»“åº“çš„ fth åˆ†æ”¯ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br>git commit -m <span class="hljs-string">&quot;main çš„ç¬¬ä¸‰æ¬¡ä¿®æ”¹&quot;</span><br>git push <br></code></pre></td></tr></table></figure></p><h2id="æ¥ä¸‹æ¥a-åœ¨æœ¬åœ°ä»“åº“çš„-main-åˆ†æ”¯è¿›è¡Œå·¥ä½œb-åœ¨æœ¬åœ°çš„-fth-åˆ†æ”¯è¿›è¡Œå·¥ä½œa-æ¯æ¬¡å·¥ä½œå‰å’Œå·¥ä½œååŒæ­¥åˆ°-github-çš„æ‰€æœ‰åˆ†æ”¯-a-æ¯æ¬¡å·¥ä½œå‰å’Œå·¥ä½œååŒæ­¥åˆ°-github-çš„æ‰€æœ‰åˆ†æ”¯">8.æ¥ä¸‹æ¥ï¼ŒA åœ¨æœ¬åœ°ä»“åº“çš„ main åˆ†æ”¯è¿›è¡Œå·¥ä½œï¼ŒB åœ¨æœ¬åœ°çš„ fth åˆ†æ”¯è¿›è¡Œå·¥ä½œï¼ˆAæ¯æ¬¡å·¥ä½œå‰å’Œå·¥ä½œååŒæ­¥åˆ° Github çš„æ‰€æœ‰åˆ†æ”¯, A æ¯æ¬¡å·¥ä½œå‰å’Œå·¥ä½œååŒæ­¥åˆ°Github çš„æ‰€æœ‰åˆ†æ”¯ï¼‰</h2><h3 id="å¯¹äº-a-æ¯æ¬¡å·¥ä½œçš„è¦æ±‚å…ˆå¤„ç†å†²çª">8.1 å¯¹äº Aæ¯æ¬¡å·¥ä½œçš„è¦æ±‚ï¼ˆå…ˆå¤„ç†å†²çªï¼‰</h3><p>A å·¥ä½œå‰ï¼Œåœ¨ main åˆ†æ”¯å’Œ fth åˆ†æ”¯åˆ†åˆ«åŒæ­¥ Github ä»“åº“çš„ main åˆ†æ”¯å’Œfth åˆ†æ”¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch main<br>git pull <br>git switch fth<br>git pull origin fth<br></code></pre></td></tr></table></figure><p>ç„¶åå†æœ¬åœ°ï¼Œè¿›è¡Œ main å’Œ fth çš„ merge <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch main<br>git merge fth<br></code></pre></td></tr></table></figure></p><p>å¦‚æ²¡æœ‰å†²çªï¼Œç»§ç»­å·¥ä½œã€‚å¦‚æœ‰å†²çªï¼Œè§£å†³å†²çªã€‚ä¾‹å¦‚å¦‚ä¸‹å†²çªï¼ˆå°±åœ¨ test.txtæ–‡æ¡£ä¸­ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">main çš„ç¬¬ä¸€æ¬¡ä¿®æ”¹<br><br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="hljs-string">HEAD</span><br><span class="hljs-string">main çš„ç¬¬äºŒæ¬¡ä¿®æ”¹</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">main çš„ç¬¬ä¸‰æ¬¡ä¿®æ”¹ï¼šasdasdasdasdas</span><br><span class="hljs-string">=======</span><br><span class="hljs-string"></span><br><span class="hljs-string">fth çš„ç¬¬ä¸€æ¬¡ä¿®æ”¹</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">fth çš„ç¬¬äºŒæ¬¡ä¿®æ”¹ï¼šacsc</span><br><span class="hljs-string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; fth</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><p>åœ¨ test.txt è¿™ä¸ªæ–‡æ¡£ä¸­ï¼Œæ‰‹åŠ¨é€‰æ‹©ä¿ç•™å“ªä¸€éƒ¨åˆ†ï¼Œå¤„ç†å®Œå†²çªååˆ é™¤<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>, <code>=======</code>,<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; fth</code> è¿™ä¸‰è¡Œï¼Œæœ€åä¿å­˜ test.txtæ–‡æ¡£ã€‚</p><p>å¤„ç†å®Œå†²çªåï¼Œæäº¤åˆ°æœ¬åœ°ä»“åº“çš„ main åˆ†æ”¯ï¼ŒåŒæ—¶å°† main åˆ†æ”¯ merge åˆ°fth åˆ†æ”¯ã€‚ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add.<br>git commit -am <span class="hljs-string">&quot;main å’Œ fth çš„ merge&quot;</span><br>git switch fth<br>git merge main<br></code></pre></td></tr></table></figure></p><p>è‡³æ­¤ï¼Œmain å’Œ fthçš„å†²çªåœ¨æœ¬åœ°è§£å†³å®Œæ¯•ï¼Œæ¥ä¸‹æ¥ï¼Œéœ€è¦Aå°†æœ¬åœ°çš„æ²¡æœ‰å†²çªçš„ main åˆ†æ”¯å’Œ fthåˆ†æ”¯æ¨é€åˆ° github</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch main<br>git push<br>git switch fth<br>git push origin fth<br></code></pre></td></tr></table></figure><h3 id="a-å¤„ç†å®Œå†²çªåçš„å·¥ä½œ">8.2 A å¤„ç†å®Œå†²çªåçš„å·¥ä½œ</h3><p>æ¥ä¸‹æ¥ï¼ŒA åœ¨æœ¬åœ°çš„ main åˆ†æ”¯è¿›è¡Œå·¥ä½œ</p><p>ä¿®æ”¹ paper/paper.txt</p><p>ä¿®æ”¹åæäº¤åˆ°æœ¬åœ°ï¼ŒåŒæ­¥è‡³github</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add.<br>git commit -am <span class="hljs-string">&quot;main å¯¹ paper.txt çš„ä¿®æ”¹&quot;</span><br>git push<br></code></pre></td></tr></table></figure><h3 id="å¯¹äº-b-æ¯æ¬¡å·¥ä½œçš„è¦æ±‚å…ˆå¤„ç†å†²çª">8.3 å¯¹äº Bæ¯æ¬¡å·¥ä½œçš„è¦æ±‚ï¼ˆå…ˆå¤„ç†å†²çªï¼‰</h3><p>B å·¥ä½œå‰ï¼Œåœ¨ main åˆ†æ”¯å’Œ fth åˆ†æ”¯åˆ†åˆ«åŒæ­¥ Github ä»“åº“çš„ main åˆ†æ”¯å’Œfth åˆ†æ”¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch main<br>git pull <br>git switch fth<br>git pull origin fth<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨æœ¬åœ°ï¼Œè¿›è¡Œ main å’Œ fth äº’ç›¸ä¹‹é—´çš„ merge <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch main<br>git merge fth<br>git switch fth<br>git merge main<br></code></pre></td></tr></table></figure></p><p>å¦‚æ²¡æœ‰å†²çªï¼Œç»§ç»­å·¥ä½œã€‚å¦‚æœ‰å†²çªï¼Œè§£å†³å†²çª (ä»¿ç…§ 8.1 ä¸­Açš„åšæ³•)ã€‚</p><h3 id="section">8.4</h3><p>æ¥ä¸‹æ¥ï¼ŒB åœ¨æœ¬åœ°çš„ fth åˆ†æ”¯è¿›è¡Œå·¥ä½œï¼Œ</p><p>å·¥ä½œç»“æŸåï¼Œæäº¤æœ¬åœ°çš„ fth åˆ†æ”¯åˆ°æœ¬åœ°ä»“åº“ã€ä¸”åŒæ­¥è‡³ Github ä»“åº“çš„ fthåˆ†æ”¯</p><p>å¦‚æœBæ²¡æ”¹åŠ¨mainåˆ†æ”¯ï¼Œä¸éœ€è¦å¯¹mainåˆ†æ”¯è¿›è¡Œä»»ä½•æ“ä½œï¼Œå¦‚æœBæ”¹åŠ¨äº†mainåˆ†æ”¯ï¼Œéœ€è¦å°†æ”¹åŠ¨åŒæ­¥åˆ°Githubçš„mainåˆ†æ”¯</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git ç³»åˆ— - 4. Git åˆ†æ”¯ç®¡ç†</title>
    <link href="/2025/02/24/Git/git_4-branch-2025-02-24/"/>
    <url>/2025/02/24/Git/git_4-branch-2025-02-24/</url>
    
    <content type="html"><![CDATA[<p>ä¸‹é¢æ˜¯å…³äº Gitåˆ†æ”¯ï¼ˆbranchï¼‰çš„å¸¸è§åŸºæœ¬æ“ä½œåŠå…¶ç¤ºä¾‹ï¼Œä¾›ä½ å‚è€ƒå’Œä½¿ç”¨ï¼š</p><ol type="1"><li><p><strong>æŸ¥çœ‹åˆ†æ”¯åˆ—è¡¨</strong></p><ul><li>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š<br /><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git branch</span><br></code></pre></td></tr></table></figure></li><li>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼š<br /><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">git branch -<span class="hljs-attribute">r</span><br></code></pre></td></tr></table></figure></li><li>æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ˆæœ¬åœ° + è¿œç¨‹ï¼‰ï¼š<br /><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">git branch -<span class="hljs-selector-tag">a</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>åˆ›å»ºæ–°åˆ†æ”¯</strong></p><ul><li>åªåˆ›å»ºåˆ†æ”¯ï¼Œä¸åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ï¼š<br /><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git branch <span class="hljs-tag">&lt;<span class="hljs-name">æ–°åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼ˆå¸¸ç”¨ï¼‰ï¼š<br /><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><span class="hljs-comment"># æ—§å†™æ³•</span><br>git checkout -b <span class="hljs-variable">&lt;æ–°åˆ†æ”¯å&gt;</span><br><br><span class="hljs-comment"># æˆ–è€… Git 2.23+ æ¨èç”¨æ³•</span><br>git switch -c <span class="hljs-variable">&lt;æ–°åˆ†æ”¯å&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>åˆ‡æ¢åˆ†æ”¯</strong></p><ul><li>åˆ‡æ¢åˆ°å·²æœ‰åˆ†æ”¯ï¼š<br /><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><span class="hljs-comment"># æ—§å†™æ³•</span><br>git checkout <span class="hljs-variable">&lt;åˆ†æ”¯å&gt;</span><br><br><span class="hljs-comment"># Git 2.23+ æ¨èç”¨æ³•</span><br>git switch <span class="hljs-variable">&lt;åˆ†æ”¯å&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>é‡å‘½ååˆ†æ”¯</strong></p><ul><li>é‡å‘½åå½“å‰æ‰€åœ¨åˆ†æ”¯ï¼š<br /><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git branch -m <span class="hljs-tag">&lt;<span class="hljs-name">æ–°åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>é‡å‘½åæŒ‡å®šåˆ†æ”¯ï¼ˆéœ€å…ˆåˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ï¼‰ï¼š<br /><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git branch -m <span class="hljs-tag">&lt;<span class="hljs-name">æ—§åˆ†æ”¯å</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">æ–°åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure> æ³¨æ„: <code>git branch -m</code> å’Œ<code>git branch -M</code>çš„åŒºåˆ«ï¼š</li></ul><table><thead><tr><th>å‘½ä»¤</th><th>æ˜¯å¦å…è®¸è¦†ç›–å·²æœ‰åˆ†æ”¯</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>git branch -m</code></td><td>âŒ ä¸å…è®¸</td><td>å®‰å…¨é‡å‘½åï¼Œä¸è¦†ç›–å·²æœ‰åˆ†æ”¯ (å¦‚æœ <code>æ–°åˆ†æ”¯å</code>å·²ç»å­˜åœ¨ï¼Œåˆ™æŠ¥é”™)</td></tr><tr><td><code>git branch -M</code></td><td>âœ… å…è®¸</td><td>å¼ºåˆ¶é‡å‘½åï¼Œè¦†ç›–å·²æœ‰åˆ†æ”¯ (å¦‚æœ <code>æ–°åˆ†æ”¯å</code>å·²ç»å­˜åœ¨ï¼Œä¼šå¼ºåˆ¶è¦†ç›–ï¼Œå³åˆ é™¤ <code>æ–°åˆ†æ”¯å</code> å¹¶é‡å‘½å)</td></tr></tbody></table></li><li><p><strong>åˆå¹¶åˆ†æ”¯</strong><br />ä¸‹é¢ç¤ºä¾‹æ¼”ç¤ºä½¿ç”¨ <code>git merge</code>å°†å…¶å®ƒåˆ†æ”¯ä¸Šçš„å·¥ä½œåˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼š</p><ol type="1"><li>å…ˆåˆ‡æ¢åˆ°ç›®æ ‡åˆ†æ”¯ï¼ˆä¾‹å¦‚ <code>main</code> åˆ†æ”¯ï¼‰ï¼š<br /><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">git <span class="hljs-selector-tag">switch</span> <span class="hljs-selector-tag">main</span><br></code></pre></td></tr></table></figure></li><li>å°†å¦å¤–ä¸€ä¸ªåˆ†æ”¯ï¼ˆä¾‹å¦‚<code>feature</code>ï¼‰çš„æ”¹åŠ¨åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼š<br /><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">git merge <span class="hljs-built_in">feature</span><br></code></pre></td></tr></table></figure></li><li>å¦‚æœåˆå¹¶è¿‡ç¨‹ä¸­æœ‰å†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³å†²çªåå†æäº¤ã€‚</li></ol><p>å¦å¤–ï¼Œ<code>git rebase</code> ä¹Ÿå¯ä»¥ç”¨äºåˆå¹¶åˆ†æ”¯ è®©<code>feature</code> å˜åŸºåˆ° <code>main</code>** <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">git switch feature<br>git rebase main<br></code></pre></td></tr></table></figure>ä¸Šé¢æŒ‡ä»¤ä½œç”¨ï¼š</p><ul><li><code>feature</code> åˆ†æ”¯çš„ <code>æ–°æäº¤</code> (ä¸åŒäº<code>main</code> çš„æäº¤) ä¼šè¢«å–å‡ºï¼Œç„¶åä¾æ¬¡ â€œé‡æ”¾â€ åˆ° <code>main</code>æœ€æ–°æäº¤ä¹‹åã€‚</li><li><code>feature</code> åˆ†æ”¯ç°åœ¨çœ‹èµ·æ¥åƒæ˜¯ä» <code>main</code>æœ€æ–°æäº¤ç›´æ¥åˆ›å»ºçš„ï¼Œå†å²æ˜¯çº¿æ€§çš„ã€‚</li></ul><p>å¦‚æœ feature å’Œ mainéƒ½ä¿®æ”¹äº†ç›¸åŒçš„ä»£ç ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå†²çªï¼Œè§£å†³åŠæ³•ï¼š</p><ol type="1"><li>æ‰‹åŠ¨ç¼–è¾‘å†²çªçš„æ–‡ä»¶ï¼Œè§£å†³å†²çªã€‚</li><li>æ·»åŠ è§£å†³åçš„æ–‡ä»¶ï¼š <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">git add file.txt<br>git rebase --<span class="hljs-built_in">continue</span><br></code></pre></td></tr></table></figure></li><li>å¦‚æœå¤šä¸ªæäº¤å‘ç”Ÿå†²çªï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ° <code>rebase</code>å®Œæˆã€‚</li></ol><p>å¦‚æœ <code>rebase</code> è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ï¼Œä½ å¯ä»¥<strong>æ”¾å¼ƒ<code>rebase</code>ï¼Œæ¢å¤åŸçŠ¶æ€</strong>ï¼š <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git rebase --abort<br></code></pre></td></tr></table></figure> è¿™ä¼šè®©<code>feature</code> åˆ†æ”¯å›åˆ° <code>rebase</code>ä¹‹å‰çš„çŠ¶æ€ï¼Œé¿å…ä¿®æ”¹æäº¤å†å²ã€‚</p><p><strong><code>git rebase</code> å’Œ <code>git merge</code>äºŒè€…åŒºåˆ«ï¼š</strong></p><ol type="1"><li><code>git rebase</code> å’Œ <code>git merge</code>å¯¹ä¸¤ä¸ªåˆ†æ”¯çš„å½±å“ï¼š</li></ol><table><thead><tr><th>æ“ä½œ</th><th>å¯¹ <code>main</code> çš„å½±å“</th><th>å¯¹ <code>feature</code> çš„å½±å“</th></tr></thead><tbody><tr><td><code>git rebase main</code></td><td><strong>ä¸å˜</strong></td><td>å˜åŸºåˆ° <code>main</code> æœ€æ–°æäº¤ï¼Œæäº¤ ID å¯èƒ½ä¼šæ”¹å˜</td></tr><tr><td><code>git merge main</code></td><td>äº§ç”Ÿä¸€ä¸ªåˆå¹¶æäº¤ <code>M</code></td><td><strong>ä¸å˜</strong></td></tr></tbody></table><ol start="2" type="1"><li><code>git rebase</code> å’Œ <code>git merge</code>å¯¹æäº¤å†å²çš„å½±å“ï¼š</li></ol><table><thead><tr><th></th><th><code>merge</code></th><th><code>rebase</code></th></tr></thead><tbody><tr><td>æäº¤å†å²</td><td>ä¿ç•™åˆ†æ”¯åˆå¹¶å†å²ï¼ˆä¼šäº§ç”Ÿåˆå¹¶æäº¤ï¼‰</td><td>æäº¤å†å²ä¿æŒçº¿æ€§</td></tr><tr><td>æ˜¯å¦åˆ›å»ºæ–°æäº¤</td><td>äº§ç”Ÿä¸€ä¸ªæ–°çš„åˆå¹¶æäº¤</td><td>é‡æ–°åº”ç”¨åŸå§‹æäº¤ï¼Œå¯èƒ½ä¿®æ”¹æäº¤å“ˆå¸Œ</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å›¢é˜Ÿåä½œï¼Œä¿ç•™å®Œæ•´å†å²</td><td>ä¸ªäººå¼€å‘ï¼Œä¿æŒæ•´æ´çš„å†å²</td></tr><tr><td>æ˜¯å¦ä¼šä¿®æ”¹æäº¤å†å²</td><td>âŒ ä¸ä¼š</td><td>âœ… ä¼šä¿®æ”¹æäº¤å†å²</td></tr></tbody></table></li><li><p><strong>åˆ é™¤æœ¬åœ°åˆ†æ”¯</strong></p><ul><li>å®‰å…¨åˆ é™¤ï¼Œè‹¥æœ¬åœ°åˆ†æ”¯æ”¹åŠ¨æœªåˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯ï¼ŒGit ä¼šè­¦å‘Šï¼š<br /><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git branch -d <span class="hljs-tag">&lt;<span class="hljs-name">åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>å¼ºåˆ¶åˆ é™¤ï¼Œä¸ç®¡æ˜¯å¦åˆå¹¶ï¼š<br /><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git branch -D <span class="hljs-tag">&lt;<span class="hljs-name">åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹</strong></p><ul><li>å¦‚æœè¿œç¨‹ä¸å­˜åœ¨åŒååˆ†æ”¯ï¼Œéœ€è¦æŒ‡å®šè¦æ¨é€åˆ°çš„è¿œç¨‹ä»“åº“å¹¶åˆ›å»ºå¯¹åº”åˆ†æ”¯ï¼š<br /><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> <span class="hljs-built_in">origin</span> &lt;åˆ†æ”¯å&gt;<br></code></pre></td></tr></table></figure></li><li>è‹¥å¸Œæœ›æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ä¿æŒç›¸åŒåç§°ï¼Œå¯åŠ ä¸Š<code>-u</code>ï¼ˆè®¾ç½®è·Ÿè¸ªå…³ç³»ï¼‰ï¼Œä¸‹æ¬¡åªéœ€ <code>git push</code>ï¼š<br /><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> -u <span class="hljs-built_in">origin</span> &lt;åˆ†æ”¯å&gt;<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>ä»è¿œç¨‹æ‹‰å–åˆ†æ”¯</strong></p><ul><li>è·å–æœ€æ–°çš„è¿œç¨‹ä¿¡æ¯ï¼š<br /><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git fetch</span><br></code></pre></td></tr></table></figure></li><li>æ£€å‡ºï¼ˆåˆ›å»ºå¹¶åˆ‡æ¢åˆ°ï¼‰è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°ï¼š<br /><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git checkout -b <span class="hljs-tag">&lt;<span class="hljs-name">æœ¬åœ°åˆ†æ”¯å</span>&gt;</span> origin/<span class="hljs-tag">&lt;<span class="hljs-name">è¿œç¨‹åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure> æˆ–ä½¿ç”¨ Git 2.23+ çš„å†™æ³•ï¼š <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">git switch -c <span class="hljs-tag">&lt;<span class="hljs-name">æœ¬åœ°åˆ†æ”¯å</span>&gt;</span> origin/<span class="hljs-tag">&lt;<span class="hljs-name">è¿œç¨‹åˆ†æ”¯å</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾/å†å²è®°å½•</strong></p><ul><li>å¯ä»¥ä½¿ç”¨ <code>git log --graph --oneline --decorate</code>æ¥æŸ¥çœ‹åˆ†æ”¯çš„å†å²æ¼”è¿›å…³ç³»ï¼Œç›´è§‚åœ°äº†è§£åˆ†æ”¯å¦‚ä½•åˆå¹¶å’Œåˆ†å‰ã€‚</li></ul></li></ol><hr /><p>ä»¥ä¸Šæ˜¯ Gitåˆ†æ”¯çš„åŸºæœ¬æ“ä½œæµç¨‹åŠå¸¸è§ç”¨æ³•ã€‚æ ¹æ®å›¢é˜Ÿåä½œå’Œé¡¹ç›®è§„èŒƒçš„ä¸åŒï¼Œä½ å¯èƒ½éœ€è¦ç»“åˆPull Requestæµç¨‹ã€ä»£ç å®¡é˜…ç­‰æ¥è¿›è¡Œåˆ†æ”¯ç®¡ç†ã€‚åˆç†åœ°ä½¿ç”¨åˆ†æ”¯èƒ½è®©å¼€å‘æµç¨‹æ›´æœ‰æ¡ç†ã€é™ä½å†²çªå¹¶æå‡åä½œæ•ˆç‡ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git ç³»åˆ— - 3. Texstudio åŒæ­¥ Git</title>
    <link href="/2025/02/23/Git/git_3-textstudio-2025-02-23/"/>
    <url>/2025/02/23/Git/git_3-textstudio-2025-02-23/</url>
    
    <content type="html"><![CDATA[<h3 id="åŸç†">åŸç†</h3><p>Texstudio ç¼–è¯‘ A/main.texï¼Œæœ¬è´¨ä¸Šæ˜¯ cmd è¿›å…¥è·¯å¾„ Aï¼Œç„¶åæ‰§è¡Œ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pdflatex main.tex<br></code></pre></td></tr></table></figure> å› ä¸ºæ¨é€æœ¬åœ°ä»“åº“åˆ° github éœ€è¦åœ¨ cmd æ‰§è¡Œ git æŒ‡ä»¤<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .                     <br>git commit -m <span class="hljs-string">&quot;First Submit&quot;</span>  <br>git branch -M main            <br>git push -u origin main       <br></code></pre></td></tr></table></figure>æ‰€ä»¥å¦‚æœå¯ä»¥åˆ©ç”¨texstudioåœ¨texæ–‡ä»¶è·¯å¾„æ‰§è¡Œä¸Šè¿°æŒ‡ä»¤ï¼Œå³å¯å®ç°ä»…é€šè¿‡texstudioæ¨é€texæ–‡ä»¶è‡³github</p><h3 id="texstudio-é…ç½®">TexStudio é…ç½®</h3><p>texstudio ä¸­å¦‚ä¸‹é…ç½®</p><figure><img src="git_texstudio.png" alt="regular" /><figcaption aria-hidden="true">regular</figcaption></figure><p>Tools -&gt; User -&gt; Git commandç­‰ä»·äºåœ¨å‘½ä»¤è¡Œ<mark>å½“å‰ç›®å½•</mark>ä¸‹æ‰§è¡Œ Git command</p><h3 id="å¦‚ä½•å®ç°">å¦‚ä½•å®ç°</h3><p>ç¬¬ä¸€æ¬¡æ¨é€éœ€è¦å‘½ä»¤è¡Œï¼Œåç»­æ¨é€ä»…éœ€texstudio</p><p>ç¬¬ä¸€æ¬¡æ¨é€ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init<br>git remote add origin github_SSH_address<br>git add .                     <span class="hljs-comment"># æ¯æ¬¡æ¨é€æ‰§è¡Œ</span><br>git commit -m <span class="hljs-string">&quot;First Submit&quot;</span>  <span class="hljs-comment"># æ¯æ¬¡æ¨é€æ‰§è¡Œ</span><br>git branch -M main            <span class="hljs-comment"># é¦–æ¬¡æ¨é€æ‰§è¡Œ </span><br>git push -u origin main       <span class="hljs-comment"># é¦–æ¬¡æ¨é€æ‰§è¡Œ</span><br></code></pre></td></tr></table></figure> åç»­æ¨é€/æ‹‰å–ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .                     <span class="hljs-comment"># æ¯æ¬¡æ¨é€æ‰§è¡Œ</span><br>git commit -m <span class="hljs-string">&quot;First Submit&quot;</span>  <span class="hljs-comment"># æ¯æ¬¡æ¨é€æ‰§è¡Œ</span><br>git push                      <span class="hljs-comment"># æ¯æ¬¡æ¨é€æ‰§è¡Œ</span><br>git pull                      <span class="hljs-comment"># æ¯æ¬¡æ‹‰å–æ‰§è¡Œ</span><br></code></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼šä¸Šé¢ä¸¤è¡Œå‘½ä»¤ç­‰ä»·äºä¸‹é¢ä¸€è¡Œå‘½ä»¤ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -am <span class="hljs-string">&quot;First Submit&quot;</span>  <span class="hljs-comment"># æ¯æ¬¡æ¨é€æ‰§è¡Œ</span><br></code></pre></td></tr></table></figure></p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>Texstudio</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git ç³»åˆ— - 2. Matlab åŒæ­¥ Git</title>
    <link href="/2025/02/22/Git/git_2-matlab-2025-02-22/"/>
    <url>/2025/02/22/Git/git_2-matlab-2025-02-22/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…å¿…è¦è½¯ä»¶">1.å®‰è£…å¿…è¦è½¯ä»¶</h2><p>ä¸€è¡Œä»£ç æ­å»ºæœºå™¨äººå¼€å‘ç¯å¢ƒ(ROS/ROS2/ROSDEP)</p><p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-built_in">wget</span> http://fishros.com/install <span class="hljs-literal">-O</span> fishros &amp;&amp; . fishros<br></code></pre></td></tr></table></figure></p><p>é€‰é¡¹ï¼š - [1] å®‰è£… noetic(ros1) - [3] å®‰è£… rosdep</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git ç³»åˆ— - 1. å®‰è£… Git ä¸é…ç½® Github</title>
    <link href="/2025/02/21/Git/git_1-install-2025-02-21/"/>
    <url>/2025/02/21/Git/git_1-install-2025-02-21/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…git">1. å®‰è£…git</h2><p>è¿™é‡Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå®˜ç½‘ä¸‹è½½ï¼Œé»˜è®¤å®‰è£…ã€‚</p><h2 id="é…ç½®-git-ç”¨æˆ·ä¿¡æ¯">2. é…ç½® git ç”¨æˆ·ä¿¡æ¯</h2><h3 id="é…ç½®-git-ç”¨æˆ·ä¿¡æ¯-1">2.1 é…ç½® Git ç”¨æˆ·ä¿¡æ¯</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">git config <span class="hljs-literal">--global</span> user.name <span class="hljs-string">&quot;GitHubç”¨æˆ·å&quot;</span> <span class="hljs-comment"># ä¸éœ€è¦å¼•å·</span><br>git config <span class="hljs-literal">--global</span> user.email <span class="hljs-string">&quot;GitHubé‚®ç®±&quot;</span>  <span class="hljs-comment"># ä¸éœ€è¦å¼•å·</span><br></code></pre></td></tr></table></figure><h3 id="è®¾ç½®-ssh-key">2.2 è®¾ç½® SSH Key</h3><ul><li><p>ç”Ÿæˆ <code>SSH Key</code> <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">ssh<span class="hljs-literal">-keygen</span> <span class="hljs-literal">-t</span> rsa <span class="hljs-literal">-b</span> <span class="hljs-number">4096</span> <span class="hljs-literal">-C</span> <span class="hljs-string">&quot;GitHubé‚®ç®±&quot;</span> <span class="hljs-comment"># ä¸éœ€è¦å¼•å·</span><br></code></pre></td></tr></table></figure></p><ul><li><code>-t rsa</code>ï¼šä½¿ç”¨ RSA åŠ å¯†ç®—æ³•</li><li><code>-b 4096</code>ï¼šå¯†é’¥é•¿åº¦ä¸º 4096 ä½ï¼ˆæ›´å®‰å…¨ï¼‰</li><li><code>-C "GitHubé‚®ç®±"</code>ï¼šæ ‡è¯† SSH Keyï¼Œæ–¹ä¾¿ç®¡ç†</li></ul></li><li><p>æ¥ä¸‹æ¥ terminal æç¤ºï¼š <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">Enter file <span class="hljs-keyword">in</span> which to save the key (/home/user/.ssh/id_rsa):<br></code></pre></td></tr></table></figure> ç›´æ¥æŒ‰å›è½¦å³å¯ï¼ˆä½¿ç”¨é»˜è®¤è·¯å¾„<code>~/.ssh/id_rsa</code>ï¼‰</p></li><li><p>æ¥ä¸‹æ¥ terminal æç¤ºè¾“å…¥å¯†ç ï¼š <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">Enter passphrase (empty <span class="hljs-keyword">for</span> no passphrase):<br>Enter same passphrase again:<br></code></pre></td></tr></table></figure>ä¸¤æ¬¡å›è½¦å³å¯ï¼ˆé»˜è®¤ä¸è¾“å…¥å¯†ç ï¼‰ï¼Œå¦åˆ™æ¯æ¬¡æ¨é€ Git éƒ½éœ€è¦è¾“å…¥å¯†ç </p></li><li><p>ç”Ÿæˆçš„ <code>SSHå¯†é’¥</code> å­˜æ”¾åœ¨<code>~/.ssh/id_rsa.pub</code></p></li></ul><h3 id="å°†-sshå¯†é’¥-æ·»åŠ åˆ°-github-è´¦æˆ·çš„-ssh-keys-ä¸­">2.3 å°†<code>SSHå¯†é’¥</code> æ·»åŠ åˆ° GitHub è´¦æˆ·çš„ SSH Keys ä¸­</h3><ul><li>å¤åˆ¶ SSH Key <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-built_in">cat</span> ~/.ssh/id_rsa.pub<br></code></pre></td></tr></table></figure></li><li>æ·»åŠ åˆ° GitHub<ul><li>ç™»å½• GitHub è´¦æˆ·</li><li>ç‚¹å‡»å³ä¸Šå¤´åƒ -&gt; Settingsï¼ˆè®¾ç½®ï¼‰</li><li>å·¦ä¾§é€‰æ‹© SSH and GPG keysï¼ˆSSH å’Œ GPG å¯†é’¥ï¼‰</li><li>ç‚¹å‡» New SSH keyï¼ˆæ–°å»º SSH å¯†é’¥ï¼‰<ul><li>Title: å¯ä»¥è‡ªå®šä¹‰</li><li>Key: ç²˜è´´å¤åˆ¶çš„ SSH Key</li></ul></li><li>ç‚¹å‡» Add SSH key</li></ul></li></ul><h3 id="æµ‹è¯•-ssh-è¿æ¥">2.3 æµ‹è¯• SSH è¿æ¥</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">ssh <span class="hljs-literal">-T</span> git@github.com<br></code></pre></td></tr></table></figure><p>å¦‚æœé…ç½®æˆåŠŸï¼Œä¼šæ˜¾ç¤ºï¼š <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">Hi &lt;GitHubç”¨æˆ·å&gt;! You<span class="hljs-string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure></p><h2 id="ä¿®æ”¹æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“">3. ä¿®æ”¹æ–‡ä»¶ï¼Œæäº¤åˆ°æœ¬åœ°ä»“åº“</h2><p>è¿›å…¥ <code>path/to/your/workspace/XXX</code> æ–‡ä»¶å¤¹ï¼Œä¿®æ”¹å…¶ä¸­çš„æ–‡ä»¶AAA.xxï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git status<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œåï¼Œä¼šæ˜¾ç¤º <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">Changes not stated <span class="hljs-keyword">for</span> commit:<br>  (use <span class="hljs-string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)<br>  (use <span class="hljs-string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="hljs-keyword">in</span> working directory)<br>        modified:   AAA.xx<br></code></pre></td></tr></table></figure> è¡¨æ˜ï¼š - AAA.xx æ–‡ä»¶è¢«ä¿®æ”¹ -è¯¥æ–‡ä»¶çš„ä¿®æ”¹æ²¡æœ‰è¢«æ·»åŠ åˆ°æš‚å­˜åŒº</p><p>æ¥ä¸‹æ¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add AAA.xx <span class="hljs-comment"># å°† AAA.xx æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº</span><br></code></pre></td></tr></table></figure></p><p>å†æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -m <span class="hljs-string">&quot;ç¬¬ä¸€æ¬¡ä¿®æ”¹&quot;</span> <span class="hljs-comment"># å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œå¹¶æ·»åŠ æäº¤å¤‡æ³¨ä¿¡æ¯</span><br></code></pre></td></tr></table></figure></p><h2 id="æœ¬åœ°ä»“åº“å…³è”é…ç½®è¿œç¨‹ä»“åº“æ–°å»ºè¿œç¨‹ä»“åº“åç¬¬ä¸€æ¬¡æ¨é€">4.æœ¬åœ°ä»“åº“å…³è”é…ç½®è¿œç¨‹ä»“åº“ï¼ˆæ–°å»ºè¿œç¨‹ä»“åº“åç¬¬ä¸€æ¬¡æ¨é€ï¼‰</h2><p>é¦–å…ˆï¼Œåœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ (<mark>Github ä»“åº“æ–°å»ºåçš„é»˜è®¤åˆ†æ”¯æ˜¯main</mark>)</p><p>æœ¬åœ°ä»“åº“ä¸­æ–‡ä»¶æ¯æ¬¡ä¿®æ”¹åï¼Œå¦‚éœ€æ¨é€ï¼Œéœ€è¦æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹ Git æ“ä½œ<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># 1 åˆ‡æ¢åˆ°ä»“åº“æ ¹ç›®å½•</span><br><span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;æœ¬åœ°ä»“åº“è·¯å¾„&quot;</span><br><span class="hljs-comment"># 2 åˆå§‹åŒ– Git ä»“åº“</span><br>git init<br><span class="hljs-comment"># 3 æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br>git add .<br><span class="hljs-comment"># 4 æäº¤æ–‡ä»¶</span><br>git commit <span class="hljs-literal">-m</span> <span class="hljs-string">&quot;Initial commit&quot;</span> <br><span class="hljs-comment"># 5 origin = SSHï¼Œå¹¶ä¸”æ·»åŠ  originï¼ˆä»¥åå‘½ä»¤è¡Œå¯ä»¥ç”¨ origin ä»£è¡¨è¿œç¨‹ä»“åº“ï¼‰</span><br>git remote add origin SSHåœ°å€<br><span class="hljs-comment"># 6 å¼ºåˆ¶é‡å‘½åæœ¬åœ°ä»“åº“çš„å½“å‰åˆ†æ”¯ä¸º main</span><br>git branch <span class="hljs-literal">-M</span> main<br><span class="hljs-comment"># 7 ç¬¬ä¸€æ¬¡æ¨é€ï¼šå°†æœ¬åœ°çš„ main åˆ†æ”¯æ¨é€åˆ° GitHub</span><br>git push <span class="hljs-literal">-u</span> origin main<br></code></pre></td></tr></table></figure> æ³¨æ„ï¼š - Git ä»“åº“é»˜è®¤çš„ä¸»åˆ†æ”¯æ˜¯ <code>master</code>ï¼Œä½†GitHub ä»“åº“é‡‡ç”¨ <code>main</code> ä½œä¸ºé»˜è®¤åˆ†æ”¯ï¼Œæ‰€ä»¥ç”¨å‘½ä»¤<code>git branch -M main</code> å°†æœ¬åœ°åˆ†æ”¯å½“å‰åˆ†æ”¯ <code>master</code>æ”¹ä¸º <code>main</code>ã€‚ - ç¬¬ä¸€æ¬¡æ¨é€æ‰§è¡Œ<code>git push -u origin main</code> ï¼Œ<code>-u</code> é€‰é¡¹å°†æœ¬åœ°çš„ mainåˆ†æ”¯ä¸è¿œç¨‹çš„ origin/main å…³è”èµ·æ¥ï¼Œä½¿å¾—åç»­æ¨é€å’Œæ‹‰å–æ›´æ–¹ä¾¿ã€‚ -å¦‚æœä¸ä½¿ç”¨ <code>-u</code> é€‰é¡¹ï¼Œåç»­æ¨é€æ—¶éœ€è¦ä½¿ç”¨<code>git push origin main</code>ã€‚ - ä½¿ç”¨äº† <code>-u</code>é€‰é¡¹åï¼Œåç»­æ¨é€æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>git push</code>ã€‚ - <code>-u</code>çš„å…¨å†™æ˜¯ <code>--set-upstream</code>ã€‚</p><p>æ‰§è¡Œå®Œä¸Šè¿°æŒ‡ä»¤åï¼Œæ‰“å¼€ GitHub ä»“åº“, ä¼šçœ‹åˆ°æœ¬åœ°ä»“åº“å·²ç»æ¨é€.</p><h2 id="æ¨é€æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“éç¬¬ä¸€æ¬¡æ¨é€">5.æ¨é€æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“ï¼ˆéç¬¬ä¸€æ¬¡æ¨é€ï¼‰</h2><p>æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œæ¨é€æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push<br></code></pre></td></tr></table></figure>æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œè¿œç¨‹ä»“åº“æ‹‰å–åˆ°æœ¬åœ°ä»“åº“ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git pull<br></code></pre></td></tr></table></figure></p><h2 id="æ€»ç»“">æ€»ç»“</h2><ul><li>SSH å¯†é’¥é…ç½®ï¼Œä¸éœ€è¦æ¯æ¬¡éªŒè¯</li><li>ä»è¿œç¨‹ä»“åº“ clone åˆ°æœ¬åœ°ï¼š<ul><li><code>git clone è¿œç¨‹ä»“åº“åœ°å€</code></li></ul></li><li>æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„å…³è”é…ç½®ï¼ˆé¦–æ¬¡æ¨é€ï¼‰ï¼š<ul><li><code>git add .</code> # æäº¤åˆ°æš‚å­˜åŒº</li><li><code>git commit -m "æäº¤å¤‡æ³¨ä¿¡æ¯"</code> # æäº¤åˆ°æœ¬åœ°ä»“åº“</li><li><code>git remote add origin è¿œç¨‹ä»“åº“åœ°å€</code> #å°†æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”</li><li><code>git remote -v</code> # æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„ä¿¡æ¯</li><li><code>git branch -M main</code></li><li><code>git push -u origin main</code> # å°†æœ¬åœ°çš„å½“å‰åˆ†æ”¯ä¸è¿œç¨‹çš„origin/main å…³è”å¹¶æ¨é€</li></ul></li><li>æœ¬åœ°ä»“åº“æäº¤åˆ°è¿œç¨‹ä»“åº“çš„æµç¨‹ï¼ˆéé¦–æ¬¡æ¨é€ï¼‰ï¼š<ul><li><code>git add .</code> # æäº¤åˆ°æš‚å­˜åŒº</li><li><code>git commit -m "æäº¤å¤‡æ³¨ä¿¡æ¯"</code> # æäº¤åˆ°æœ¬åœ°ä»“åº“</li><li><code>git push</code> # æäº¤åˆ°è¿œç¨‹ä»“åº“</li></ul></li><li>ä¸Šé¢ä¸¤æ¡æŒ‡ä»¤å¯ä»¥ç®€åŒ–ä¸ºä¸‹é¢ä¸€æ¡æŒ‡ä»¤<ul><li><code>git commit -am "æäº¤å¤‡æ³¨ä¿¡æ¯"</code> # æäº¤åˆ°æœ¬åœ°ä»“åº“</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python ç³»åˆ— - 1. å‘½ä»¤è¡Œè§£æå™¨ argparse</title>
    <link href="/2025/02/13/Python/python_1-argparse-2025_02_13/"/>
    <url>/2025/02/13/Python/python_1-argparse-2025_02_13/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯-argparse">1.ä»€ä¹ˆæ˜¯ argparse</h2><p><code>argparse</code>æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å‘½ä»¤è¡Œå‚æ•°è§£æå·¥å…·ï¼Œç”¨äºæ„å»ºå‘½ä»¤è¡Œè„šæœ¬æˆ–ç¨‹åºæ—¶ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œè§£é‡Šå’Œå¤„ç†ã€‚</p><p>åœ¨ç¼–å†™å‘½ä»¤è¡Œå·¥å…·æˆ–è„šæœ¬æ—¶ï¼Œå¾€å¾€éœ€è¦æ¥æ”¶æ¥è‡ªå‘½ä»¤è¡Œçš„å‚æ•°æˆ–é€‰é¡¹ï¼Œä»¥å®ç°é…ç½®ã€‚</p><p><code>argparse</code>åˆ™èƒ½è®©ä½ ä»¥æ›´é«˜å±‚æ¬¡ã€æ›´ç»“æ„åŒ–çš„æ–¹å¼æ¥å®šä¹‰ç¨‹åºæœŸæœ›çš„å‚æ•°å½¢å¼ï¼Œä»¥åŠå¦‚ä½•å¤„ç†è¿™äº›å‚æ•°ï¼Œä»è€Œè‡ªåŠ¨ç”Ÿæˆå¸®åŠ©ä¿¡æ¯ã€é”™è¯¯ä¿¡æ¯ç­‰ã€‚</p><h2 id="åŸºæœ¬ç”¨æ³•">2.åŸºæœ¬ç”¨æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªè§£æå™¨å¯¹è±¡ï¼Œå¯ä»¥ç»™å‡ºç¨‹åºçš„ç®€å•æè¿°&#x27;&#x27;&#x27;</span><br>    parser = argparse.ArgumentParser(description=<span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤è¡Œå·¥å…·&quot;</span>)<br><br>    <span class="hljs-string">&#x27;&#x27;&#x27;ç¬¬äºŒæ­¥ï¼šæ·»åŠ å‘½ä»¤è¡Œå‚æ•°å’Œé€‰é¡¹&#x27;&#x27;&#x27;</span><br>    <span class="hljs-comment"># æ·»åŠ å¿…é€‰å‚æ•°: åœ¨å‘½ä»¤ä¸­ä¸éœ€è¦ç‰¹æ„å†™ -x æˆ–è€… --xx ï¼Œæ˜¯è„šæœ¬å¿…é¡»è¦è·å–çš„æ•°æ®ã€‚</span><br>    parser.add_argument(<span class="hljs-string">&quot;filename&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;è¾“å…¥æ–‡ä»¶çš„è·¯å¾„&quot;</span>)<br>    <span class="hljs-comment"># æ·»åŠ å¯é€‰å‚æ•°1ï¼šä¸€èˆ¬ä»¥çŸ­é€‰é¡¹ï¼ˆå¦‚ -vï¼‰æˆ–é•¿é€‰é¡¹ï¼ˆå¦‚ --verboseï¼‰çš„å½¢å¼å‡ºç°ã€‚</span><br>    parser.add_argument(<span class="hljs-string">&quot;-v&quot;</span>, <span class="hljs-string">&quot;--verbose&quot;</span>, <br>                        action=<span class="hljs-string">&quot;store_true&quot;</span>, <br>                        <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;æ˜¯å¦è¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼ˆå¸ƒå°”å¼€å…³ï¼‰&quot;</span><br>                        )<br>    <span class="hljs-comment"># æ·»åŠ å¯é€‰å‚æ•°2ï¼šä¸€èˆ¬ä»¥çŸ­é€‰é¡¹ï¼ˆå¦‚ -vï¼‰æˆ–é•¿é€‰é¡¹ï¼ˆå¦‚ --verboseï¼‰çš„å½¢å¼å‡ºç°ã€‚</span><br>    parser.add_argument(<span class="hljs-string">&quot;-n&quot;</span>, <span class="hljs-string">&quot;--number&quot;</span>,<br>                        <span class="hljs-built_in">type</span>=<span class="hljs-built_in">int</span>,<br>                        default=<span class="hljs-number">1</span>,<br>                        <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;é‡å¤æ“ä½œæ¬¡æ•°ï¼Œé»˜è®¤ä¸º 1&quot;</span><br>                        )<br>    <span class="hljs-comment"># æ·»åŠ å¯é€‰å‚æ•°3ï¼šæ¥æ”¶æŸä¸ªèŒƒå›´æˆ–é›†åˆä¸­çš„å€¼</span><br>    parser.add_argument(<span class="hljs-string">&quot;--mode&quot;</span>, <br>                        choices=[<span class="hljs-string">&quot;train&quot;</span>, <span class="hljs-string">&quot;test&quot;</span>, <span class="hljs-string">&quot;eval&quot;</span>], <br>                        <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;æ¨¡å¼é€‰æ‹©&quot;</span><br>                        )<br>    <span class="hljs-comment"># æ·»åŠ å¯é€‰å‚æ•°4ï¼šæŒ‡å®šå‚æ•°çš„åˆ«å</span><br>    parser.add_argument(<span class="hljs-string">&quot;-m&quot;</span>, <span class="hljs-string">&quot;--mode&quot;</span>, <br>                        choices=[<span class="hljs-string">&quot;train&quot;</span>, <span class="hljs-string">&quot;test&quot;</span>, <span class="hljs-string">&quot;eval&quot;</span>]<br>                        )<br><br><br><br><br>    <span class="hljs-string">&#x27;&#x27;&#x27;ç¬¬ä¸‰æ­¥ï¼šè§£æå‘½ä»¤è¡Œå‚æ•°&#x27;&#x27;&#x27;</span><br>    <span class="hljs-comment"># args å°±æ˜¯ä¸€ä¸ªåŒ…å«è§£æåå‚æ•°çš„å‘½åç©ºé—´å¯¹è±¡, å±æ€§åå³ä¸ºå‚æ•°åã€‚</span><br>    args = parser.parse_args()<br>    <span class="hljs-comment"># é€šè¿‡ args.filename è®¿é—®å‚æ•° filename</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ–‡ä»¶åï¼š&quot;</span>, args.filename)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ˜¯å¦è¯¦ç»†è¾“å‡ºï¼š&quot;</span>, args.verbose)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ“ä½œæ¬¡æ•°ï¼š&quot;</span>, args.number)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure><ul><li>å¿…é€‰å‚æ•°ï¼š<ul><li><code>help="è¾“å…¥æ–‡ä»¶çš„è·¯å¾„"</code>: åœ¨ <code>--help</code>å‘½ä»¤ä¸­æ˜¾ç¤ºçš„å‚æ•°è¯´æ˜</li><li>å½“æ‰§è¡Œè„šæœ¬æ—¶ï¼Œéœ€è¦ç´§éšå…¶åæä¾›å¿…é€‰å‚æ•°filenameï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ä¾‹å¦‚ï¼ˆä¸‹é¢æŒ‡ä»¤ä¸­çš„ <code>input.txt</code> å°±æ˜¯å‚æ•°â€œfilenameâ€ï¼‰ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python script.py input.txt<br></code></pre></td></tr></table></figure></li></ul></li><li>å¯é€‰å‚æ•°1ï¼š<ul><li><code>-v</code> å’Œ <code>--verbose</code>:ä»£è¡¨åŒä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ä»»ä¸€å½¢å¼ã€‚</li><li><code>action="store_true"</code>:å½“è¿™ä¸ªé€‰é¡¹è¢«ä½¿ç”¨æ—¶ï¼Œå°†åœ¨è§£æç»“æœä¸­æŠŠ <code>verbose</code> è®¾ç½®ä¸º<code>True</code>ï¼ˆä¸ä½¿ç”¨åˆ™ä¸º <code>False</code>ï¼‰ã€‚</li><li><code>help="æ˜¯å¦è¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼ˆå¸ƒå°”å¼€å…³ï¼‰"</code>: help ä¸­çš„å†…å®¹ä¼šåœ¨<code>--help</code> å‘½ä»¤ä¸­æ˜¾ç¤ºã€‚</li></ul></li><li>å¯é€‰å‚æ•°2ï¼š<ul><li><code>type=int</code>ï¼šå°†è¾“å…¥å€¼è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼ˆå¦‚æœä¼ å…¥å€¼æ— æ³•è½¬æ¢ä¼šæŠ¥é”™ï¼‰ã€‚</li><li><code>default=1</code>ï¼šå½“ç”¨æˆ·æ²¡æœ‰æä¾›è¯¥å‚æ•°æ—¶ï¼Œä½¿ç”¨é»˜è®¤å€¼ 1ã€‚</li></ul></li></ul><p>å®šä¹‰å®Œä¸Šé¢çš„ä»£ç æ–‡ä»¶åï¼Œåœ¨å‘½ä»¤è¡Œçš„æ‰§è¡Œå¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å¸¦æ‰€æœ‰å‚æ•°</span><br>python script.py myfile.txt -v -n 3<br><span class="hljs-comment"># æˆ–è€…ï¼špython script.py myfile.txt --verbose --number 3</span><br><br><span class="hljs-comment"># ä¸å¸¦å¯é€‰å‚æ•°</span><br>python script.py myfile.txt<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>argparse</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LaTex ç³»åˆ— - 3. LaTex é¡¹ç›®æ–‡ä»¶åŒ…å«é—®é¢˜</title>
    <link href="/2025/02/03/Latex/latex_3-input-2025-02-03/"/>
    <url>/2025/02/03/Latex/latex_3-input-2025-02-03/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ LaTeX å¤æ‚é¡¹ç›®ä¸­ï¼Œå‡ºç°æ–‡ä»¶åŒ…å«æƒ…å†µï¼Œä¾‹å¦‚ main.texæ–‡æ¡£åŒ…å«å¤šä¸ªç« èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸åŒç« èŠ‚è®¾ç½®å•ç‹¬ tex æ–‡æ¡£ (ä¾‹å¦‚chap_1.tex)ï¼Œé‚£ä¹ˆåœ¨ main.tex æ–‡æ¡£ä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ–‡ä»¶åŒ…å«ï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-keyword">\input</span>&#123;chap<span class="hljs-built_in">_</span>1.tex&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åæ¯æ¬¡ä¿®æ”¹ <code>chap_1.tex</code> æ–‡æ¡£ï¼Œéƒ½éœ€è¦é‡æ–°ç¼–è¯‘<code>main.tex</code> æ–‡æ¡£ï¼Œè¿™æ ·ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è®¾ç½®ï¼Œç®€åŒ–æ“ä½œ (å³ä¿®æ”¹<code>chap_1.tex</code> åï¼Œç‚¹å‡»ç¼–è¯‘æŒ‰é’®ï¼Œå®ç°ç¼–è¯‘<code>main.tex</code>)ï¼š</p><ul><li>ç¡®ä¿å½“å‰æ‰“å¼€çš„æ–‡ä»¶æ˜¯ main.tex</li><li><code>Options</code> -&gt; <code>Root Document</code></li><li>ç„¶åé€‰æ‹©ä»¥ä¸‹ä¸¤ä¸ªé€‰é¡¹å‡å¯ï¼ˆå¯èƒ½åªä¼šæœ‰ç¬¬äºŒä¸ªé€‰é¡¹ï¼‰<ul><li><code>Explicit: main.tex</code></li><li><code>Set Current Document As Explicit Root</code>åšå¥½ä¸Šé¢è®¾ç½®åï¼Œ<code>main.tex</code> å°±è¢«è®¾ç½®ä¸ºé¡¹ç›®çš„<code>æ ¹æ–‡ä»¶</code>ï¼Œæ¯æ¬¡ä¿®æ”¹ <code>chap_1.tex</code>åï¼Œç‚¹å‡»ç¼–è¯‘æŒ‰é’®ï¼Œå°±ä¼šè‡ªåŠ¨ç¼–è¯‘ <code>main.tex</code> æ–‡æ¡£ã€‚</li></ul></li></ul><figure><img src="2025-02-03-latex_input.png" alt="regular" /><figcaption aria-hidden="true">regular</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category>LaTex</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LaTex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LaTex ç³»åˆ— - 2. LaTex ç¼–è¯‘å™¨è®¾ç½®</title>
    <link href="/2025/02/02/Latex/latex_2-compile-2025-02-02/"/>
    <url>/2025/02/02/Latex/latex_2-compile-2025-02-02/</url>
    
    <content type="html"><![CDATA[<p>ä¸åŒçš„ LaTeX é¡¹ç›®éœ€è¦ä¸åŒçš„ç¼–è¯‘å™¨ï¼Œä¾‹å¦‚ (è‹±æ–‡éœ€è¦ pdflatex, ä¸­æ–‡éœ€è¦xelatex). ä»¥ä¸‹æ˜¯ä¸¤ç§è®¾ç½®æ–¹æ¡ˆ</p><h2 id="æ–¹æ¡ˆ1æ‰‹åŠ¨åˆ‡æ¢ç¼–è¯‘å™¨">æ–¹æ¡ˆ1ï¼šæ‰‹åŠ¨åˆ‡æ¢ç¼–è¯‘å™¨</h2><p>Options -&gt; Configure TeXstudio -&gt; Build -&gt; Meta Commands-&gt; Default Compiler: é€‰æ‹© pdflatex æˆ–è€… xelatex</p><p>Options -&gt; Configure TeXstudio -&gt; Build -&gt; Meta Commands-&gt; Default Bibliography Tool: é€‰æ‹© Bibtex æˆ–è€… Biber</p><h2 id="æ–¹æ¡ˆ2æ–‡ä»¶è‡ªåŠ¨é€‰æ‹©ç¼–è¯‘å™¨">æ–¹æ¡ˆ2ï¼šæ–‡ä»¶è‡ªåŠ¨é€‰æ‹©ç¼–è¯‘å™¨</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-meta">% !TeX program = xelatex</span><br><span class="hljs-meta">% !TeX TS-program = xelatex</span><br><span class="hljs-meta">% !TeX bibtexProgram = biber</span><br></code></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€è¡Œ: æŒ‡å®šå½“å‰ .tex æ–‡ä»¶çš„ ä¸»ç¼–è¯‘å™¨ ä¸º XeLaTeX, ç­‰æ•ˆäºæ‰‹åŠ¨æ‰§è¡Œï¼š<code>xelatex mydocument.tex</code> (é’ˆå¯¹ VS Code/TeXstudio)</li><li>ç¬¬äºŒè¡Œ: æŒ‡å®šå½“å‰ .tex æ–‡ä»¶çš„ ä¸»ç¼–è¯‘å™¨ ä¸º XeLaTeX, ç­‰æ•ˆäºæ‰‹åŠ¨æ‰§è¡Œï¼š<code>xelatex mydocument.tex</code> (é’ˆå¯¹TeXShopã€TeXworksã€TeXmaker)</li><li>ç¬¬ä¸‰è¡Œ: æŒ‡å®šå½“å‰.tex æ–‡ä»¶çš„ æ–‡çŒ®ç®¡ç†å·¥å…· ä¸º Biber, ç­‰æ•ˆäºæ‰‹åŠ¨æ‰§è¡Œï¼š<code>biber mydocument.bcf</code></li></ul>]]></content>
    
    
    <categories>
      
      <category>LaTex</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LaTex</tag>
      
      <tag>pdflatex</tag>
      
      <tag>xulatex</tag>
      
      <tag>lualatex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LaTex ç³»åˆ— - 1. LaTex ç¼–è¯‘å™¨ä»‹ç»</title>
    <link href="/2025/02/01/Latex/latex_1-intro-2025-02-01/"/>
    <url>/2025/02/01/Latex/latex_1-intro-2025-02-01/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ LaTeX ç”Ÿæ€ä¸­ï¼Œlatexã€pdflatexã€xelatex å’Œ lualatexæ˜¯ä¸åŒçš„ç¼–è¯‘å¼•æ“ï¼Œå„è‡ªæœ‰ä¸åŒçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚</p><h2 id="latex">1. latex</h2><ul><li>æœ€å¤è€çš„ LaTeX ç¼–è¯‘å™¨ï¼Œè¾“å‡ºçš„æ˜¯ DVI æ–‡ä»¶ï¼Œä¸æ˜¯ PDF æ–‡ä»¶</li><li>éœ€è¦ä½¿ç”¨ dvips æˆ– dvipdf ç­‰å·¥å…·å°† DVI æ–‡ä»¶è½¬æ¢ä¸º PDFæ–‡ä»¶ï¼ˆ<code>latex â†’ DVI â†’ PS â†’ PDF</code>ï¼‰ã€‚</li><li>ä¸æ”¯æŒç›´æ¥æ’å…¥ PNGã€JPEGã€PDF ç­‰å›¾ç‰‡æ ¼å¼ï¼Œåªæ”¯æŒ EPS æ ¼å¼ã€‚</li><li>ä¸æ”¯æŒç›´æ¥æ’å…¥ä¸­æ–‡ï¼Œéœ€è¦ä½¿ç”¨ xeCJK æˆ– CJK å®åŒ…ã€‚</li></ul><h2 id="pdflatex">2. pdflatex</h2><ul><li>ç›´æ¥ç”Ÿæˆ PDF æ–‡ä»¶ï¼ˆä¸éœ€è¦ä½¿ç”¨ dvips æˆ– dvipdf ç­‰è½¬æ¢å·¥å…·ï¼‰ã€‚</li><li>æ”¯æŒç›´æ¥æ’å…¥ PNGã€JPEGã€PDF ç­‰å›¾ç‰‡æ ¼å¼ï¼ˆä½†ä¸æ”¯æŒ EPS æ ¼å¼ï¼‰ã€‚</li><li>ä¸æ”¯æŒ Unicodeï¼Œé»˜è®¤é‡‡ç”¨ 8-bit ç¼–ç ï¼ˆå¦‚ latin1ã€utf8 éœ€ç”¨ inputencå®åŒ…ï¼‰</li><li>å¯¹ä¸­æ–‡æ”¯æŒè¾ƒå·®ï¼Œéœ€è¦ CJK å®åŒ…ï¼ˆæˆ– ctex å®åŒ…ï¼‰ã€‚</li><li>é€‚åˆè‹±æ–‡å’Œè¥¿æ–¹è¯­è¨€æ–‡æ¡£ï¼ˆé»˜è®¤ 8-bit ç¼–ç ï¼‰</li><li>å¦‚æœä¸€å®šè¦ç”¨ pdflatex å¤„ç†ä¸­æ–‡ï¼Œéœ€è¦ <figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-keyword">\usepackage</span>[CJKutf8]&#123;CJK&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="xelatex">3. xelatex</h2><ul><li>ç›´æ¥ç”Ÿæˆ <code>PDF</code> æ–‡ä»¶ï¼ˆä¸éœ€è¦ä½¿ç”¨ <code>dvips</code> æˆ–<code>dvipdf</code> ç­‰è½¬æ¢å·¥å…·ï¼‰ã€‚</li><li>æ”¯æŒ <code>Unicode</code>ï¼Œé»˜è®¤é‡‡ç”¨ <code>UTF-8</code>ç¼–ç ï¼Œé€‚ç”¨äºå¤šè¯­è¨€æ–‡æ¡£ï¼ˆåŒ…æ‹¬ä¸­æ–‡ï¼‰</li><li>æ”¯æŒ<code>OpenType/TrueType</code>ï¼ˆOTF/TTFï¼‰å­—ä½“ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼ˆå¦‚å®‹ä½“ã€æ¥·ä½“ã€é»‘ä½“ã€SimSunã€SimHeiç­‰ï¼‰</li><li>æ”¯æŒ <code>fontspec</code> å®åŒ…ï¼Œä½¿å­—ä½“ç®¡ç†æ›´çµæ´»ã€‚</li><li>æ”¯æŒç›´æ¥æ’å…¥ PNGã€JPEGã€PDF ç­‰å›¾ç‰‡æ ¼å¼ï¼ˆä½†ä¸æ”¯æŒ EPS æ ¼å¼ï¼‰ã€‚</li><li><code>CTeX</code> é»˜è®¤æ¨è <code>xelatex</code></li></ul><h2 id="lualatexæ¨èç”¨äºé«˜çº§åº”ç”¨å¦‚-lua-ä»£ç äº¤äº’">4.lualatexï¼ˆæ¨èç”¨äºé«˜çº§åº”ç”¨ï¼Œå¦‚ Lua ä»£ç äº¤äº’ï¼‰</h2><ul><li>æ”¯æŒ Unicode å’Œ OpenType å­—ä½“ã€‚</li><li>æ”¯æŒ fontspec å®åŒ…ï¼ˆå­—ä½“ç®¡ç†ï¼‰ã€‚</li><li>æ”¯æŒ luacode å®åŒ…ï¼Œå¯ä»¥åœ¨ LaTeX ä»£ç ä¸­ç›´æ¥å†™ Lua ä»£ç ï¼Œä¾‹å¦‚ï¼š<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-keyword">\usepackage</span>&#123;luacode&#125;<br><span class="hljs-keyword">\begin</span>&#123;luacode&#125;<br>tex.print(&quot;ä½ å¥½ï¼ŒLuaLaTeXï¼&quot;)<br><span class="hljs-keyword">\end</span>&#123;luacode&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="æ€»ç»“">5. æ€»ç»“</h2><table><thead><tr><th style="text-align: center;">ç¼–è¯‘å™¨</th><th style="text-align: left;">æ˜¯å¦æ”¯æŒ Unicode</th><th style="text-align: left;">ç›´æ¥è¾“å‡º PDF</th><th style="text-align: left;">é€‚ç”¨äºä¸­æ–‡</th><th style="text-align: center;">å›¾ç‰‡æ”¯æŒ</th><th style="text-align: center;">æ¨èç”¨é€”</th></tr></thead><tbody><tr><td style="text-align: center;"><code>latex</code></td><td style="text-align: left;">âŒ å¦</td><td style="text-align: left;">âŒ éœ€è½¬æ¢</td><td style="text-align: left;">âŒ éœ€ CJK</td><td style="text-align: center;">ä»…æ”¯æŒ EPS</td><td style="text-align: center;">è¿‡æ—¶ï¼ŒåŸºæœ¬ä¸ç”¨</td></tr><tr><td style="text-align: center;"><code>pdflatex</code></td><td style="text-align: left;">âŒ å¦</td><td style="text-align: left;">âœ… æ˜¯</td><td style="text-align: left;">âš ï¸ éœ€ CJK</td><td style="text-align: center;">PNGã€JPEGã€PDF</td><td style="text-align: center;">é€‚ç”¨äºè‹±æ–‡æˆ–ç®€å•ä¸­æ–‡</td></tr><tr><td style="text-align: center;"><code>xelatex</code></td><td style="text-align: left;">âœ… æ˜¯</td><td style="text-align: left;">âœ… æ˜¯</td><td style="text-align: left;">âœ… æ¨è</td><td style="text-align: center;">PNGã€JPEGã€PDF</td><td style="text-align: center;">æ¨èä¸­æ–‡æ–‡æ¡£ã€æ”¯æŒç³»ç»Ÿå­—ä½“</td></tr><tr><td style="text-align: center;"><code>lualatex</code></td><td style="text-align: left;">âœ… æ˜¯</td><td style="text-align: left;">âœ… æ˜¯</td><td style="text-align: left;">âœ… æ¨è</td><td style="text-align: center;">PNGã€JPEGã€PDF</td><td style="text-align: center;">é«˜çº§æ’ç‰ˆã€åŠ¨æ€ Lua ä»£ç </td></tr></tbody></table><h2 id="å°è´´å£«">å°è´´å£«</h2><ul><li><p><mark><strong>Unicodeæ˜¯å­—ç¬¦é›†ï¼Œå®šä¹‰äº†ä¸–ç•Œä¸Šæ‰€æœ‰è¯­è¨€çš„å­—ç¬¦</strong></mark>ä¾‹å¦‚</p><ul><li><code>A</code> â†’ <code>U+0041</code></li><li><code>ä½ </code> â†’ <code>U+4F60</code></li><li><code>ğŸ˜Š</code> â†’ <code>U+1F60A</code></li></ul></li><li><p>ä½†Unicodeåªè§„å®šäº†å­—ç¬¦ç¼–å·ï¼ˆç ç‚¹ï¼‰ï¼Œå¹¶æ²¡æœ‰è§„å®šå¦‚ä½•å­˜å‚¨è¿™äº›å­—ç¬¦ã€‚</p></li><li><p>è®¡ç®—æœºåªèƒ½å­˜å‚¨ äºŒè¿›åˆ¶æ•°æ®ï¼ˆ0 å’Œ 1ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å­—ç¬¦ç¼–ç ï¼ˆCharacter Encodingï¼‰æŠŠ Unicode è½¬æ¢æˆäºŒè¿›åˆ¶ã€‚</p></li><li><p><mark><strong>UTF-8 æ˜¯ Unicodeçš„ä¸€ç§ç¼–ç æ–¹å¼</strong></mark>ï¼Œæ˜¯ä¸€ç§ å¯å˜é•¿åº¦çš„ Unicode ç¼–ç </p><ul><li>1 ä¸ªå­—èŠ‚ï¼ˆ8-bitï¼‰ è¡¨ç¤º ASCII å­—ç¬¦ï¼ˆå…¼å®¹è‹±è¯­ï¼‰ã€‚</li><li>2~4 ä¸ªå­—èŠ‚ è¡¨ç¤ºå…¶ä»– Unicode å­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡ã€Emojiï¼‰ã€‚</li><li><code>A</code> â†’ <code>U+0041</code> â†’ <code>0x41</code>ï¼ˆ1å­—èŠ‚ï¼‰</li><li><code>ä½ </code> â†’ <code>U+4F60</code> â†’ <code>0xE4BDA0</code>ï¼ˆ3å­—èŠ‚ï¼‰</li><li><code>ğŸ˜Š</code> â†’ <code>U+1F60A</code> â†’ <code>0xF09F988A</code>ï¼ˆ4å­—èŠ‚ï¼‰</li></ul></li><li><p><mark>8-bit ç¼–ç  ä¸»è¦æŒ‡ æ¯ä¸ªå­—ç¬¦å  1 ä¸ªå­—èŠ‚ï¼ˆ8 ä½ï¼‰çš„æ—§å¼ç¼–ç </mark>ï¼Œå¸¸è§çš„åŒ…æ‹¬</p><ul><li>ASCIIï¼šæ ‡å‡† ASCII åªä½¿ç”¨ 7-bitï¼ˆ128 ä¸ªå­—ç¬¦ï¼‰ï¼Œç”±äº 7-bit åªèƒ½è¡¨ç¤º128 ä¸ªå­—ç¬¦ï¼Œåæ¥æ‰©å±•åˆ° 8-bitï¼ˆ256 ä¸ªå­—ç¬¦ï¼‰</li><li>ISO-8859-1ï¼šç”¨äºè¥¿æ¬§è¯­è¨€ï¼Œæ”¯æŒæ³•è¯­ã€å¾·è¯­ã€è¥¿ç­ç‰™è¯­ç­‰ï¼Œä½†ä¸æ”¯æŒä¸­æ–‡</li><li>GB2312 (6,763ä¸ªæ±‰å­—) / GBK(21,003ä¸ªæ±‰å­—) /GB18030ï¼ˆUnicodeæ‰€æœ‰æ±‰å­—ï¼‰</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>LaTex</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LaTex</tag>
      
      <tag>pdflatex</tag>
      
      <tag>xulatex</tag>
      
      <tag>lualatex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntuç³»åˆ— - 2. bash shell, terminal å’Œ ~/.bashrc</title>
    <link href="/2025/01/02/Ubuntu/ubuntu_2-shell-2025_01_02/"/>
    <url>/2025/01/02/Ubuntu/ubuntu_2-shell-2025_01_02/</url>
    
    <content type="html"><![CDATA[<h2 id="ubuntu-ç›®å½•ç»“æ„">1. Ubuntu ç›®å½•ç»“æ„</h2><h3 id="ç”¨æˆ·ä¸»ç›®å½•-homeusername">1.1 ç”¨æˆ·ä¸»ç›®å½• <code>~</code> =<code>/home/username/</code></h3><p>åœ¨ ubuntu ç³»ç»Ÿä¸­ï¼Œæ³¢æµªçº¿ <code>~</code> åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸‹æ˜¯â€œç”¨æˆ·ä¸»ç›®å½•â€ï¼ˆHome Directoryï¼‰çš„ç¼©å†™æˆ–åˆ«åã€‚</p><p>ä¾‹å¦‚ <code>~/.bashrc</code>: - <code>~</code>ä»£è¡¨çš„å°±æ˜¯å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆ<code>/home/username/</code>ï¼‰ -<code>~/.bashrc</code> å®é™…ä¸Šå°±æ˜¯<code>/home/username/.bashrc</code></p><h2 id="shell-å’Œ-terminal">2. shell å’Œ terminal</h2><h3 id="shell-æ˜¯ä»€ä¹ˆ">2.1 Shell æ˜¯ä»€ä¹ˆ</h3><p>Shellæ˜¯ä¸€ç§è½¯ä»¶å±‚ï¼Œç”¨æ¥æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ï¼Œç„¶åå°†è¿™äº›å‘½ä»¤ä¼ é€’ç»™æ“ä½œç³»ç»Ÿå†…æ ¸å»æ‰§è¡Œã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºäººä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„â€œç¿»è¯‘â€æˆ–â€œäº¤äº’æ¥å£â€ã€‚### 2.2 Shell çš„ç§ç±» - bash Shell: Ubuntu é»˜è®¤çš„ Shell - zsh Shell -fish Shell - csh/tcsh Shell</p><p>æ¯ç§ Shelléƒ½æœ‰è‡ªå·±çš„è¯­æ³•ç‰¹æ€§ã€é…ç½®æ–‡ä»¶å’Œå†…ç½®å·¥å…·ï¼Œä½†å®ƒä»¬çš„åŸºæœ¬åŠŸèƒ½ç›¸ä¼¼ï¼š<strong>è¿è¡Œå‘½ä»¤ã€ç¼–å†™è„šæœ¬ã€ç®¡ç†è¿›ç¨‹å’Œç¯å¢ƒå˜é‡</strong>ç­‰ã€‚</p><h3 id="å¸¸ç”¨çš„-shell-é…ç½®æ–‡ä»¶">2.3 å¸¸ç”¨çš„ Shell é…ç½®æ–‡ä»¶</h3><ul><li><code>~/.bashrc</code>: bash Shell çš„é…ç½®æ–‡ä»¶</li><li><code>~/.zshrc</code>: zsh Shell çš„é…ç½®æ–‡ä»¶</li><li><code>~/.config/fish/config.fish</code>: fish Shell çš„é…ç½®æ–‡ä»¶</li></ul><h3 id="shell-çš„å·¥ä½œæµç¨‹">2.4 Shell çš„å·¥ä½œæµç¨‹</h3><ul><li>è¯»å–ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤</li><li>è§£é‡Šå’Œè§£æå‘½ä»¤ï¼Œäº¤ç»™æ“ä½œç³»ç»Ÿ</li><li>æ˜¾ç¤ºæ‰§è¡Œç»“æœ</li></ul><h3 id="å¸¸ç”¨çš„-shell-å‘½ä»¤">2.5 å¸¸ç”¨çš„ Shell å‘½ä»¤</h3><ul><li><code>echo</code>: æ‰“å°æ–‡æœ¬æˆ–å˜é‡çš„å€¼</li><li><code>cd</code>: æ”¹å˜å½“å‰ç›®å½•</li><li><code>ls</code>: åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</li></ul><h3 id="å¸¸ç”¨çš„-shell-å¿«æ·é”®">2.6 å¸¸ç”¨çš„ Shell å¿«æ·é”®</h3><ul><li><code>Ctrl + L</code>: æ¸…å±</li><li><code>Ctrl + C</code>: ä¸­æ–­å½“å‰å‘½ä»¤</li><li><code>Ctrl + D</code>: é€€å‡ºå½“å‰ Shell</li></ul><h3 id="ä»€ä¹ˆæ˜¯-terminal">2.7 ä»€ä¹ˆæ˜¯ terminal</h3><ul><li>â€œç»ˆç«¯â€æŒ‡çš„æ˜¯å®é™…çš„<strong>ç¡¬ä»¶è®¾å¤‡</strong>ï¼ˆå¦‚æ˜¾ç¤ºå™¨/é”®ç›˜ï¼‰ï¼Œé€šè¿‡ä¸²å£æˆ–å…¶ä»–æ–¹å¼è¿åˆ°ä¸»æœºã€‚</li><li>Ubuntu çš„ terminal æ˜¯ä¸€ä¸ª â€œç»ˆç«¯â€ çš„<strong>è½¯ä»¶æ¨¡æ‹Ÿå™¨</strong></li></ul><h3 id="terminal-å’Œ-shell-çš„å…³ç³»">2.8 terminal å’Œ shell çš„å…³ç³»</h3><ul><li>terminal: æ˜¯ä¸€ä¸ª â€œæ–‡æœ¬äº¤äº’ç•Œé¢â€,æä¾›äº†ä¸€ä¸ªæ–‡æœ¬çª—å£ï¼Œå…è®¸ç”¨æˆ·åœ¨å…¶ä¸­è¾“å…¥å‘½ä»¤ã€æ¥æ”¶è¾“å‡º</li><li>shell: æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œè§£é‡Šå™¨ï¼Œå®ƒæ¥æ”¶ç”¨æˆ·åœ¨ terminalå†…è¾“å…¥çš„å‘½ä»¤ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™æ“ä½œç³»ç»Ÿå†…æ ¸å»æ‰§è¡Œã€‚</li><li>Terminalï¼š<mark>ç›¸å½“äºâ€œèŠå¤©çª—å£â€</mark></li><li>Shellï¼š<mark>ç›¸å½“äºâ€œå¯¹è¯çš„å¦ä¸€ç«¯çš„äººâ€ï¼ˆæˆ–è‡ªåŠ¨å›å¤ç¨‹åºï¼‰</mark></li></ul><h3 id="ä¾‹å­">2.9 ä¾‹å­</h3><ul><li>åœ¨ Ubuntu çš„ terminal é‡Œè¾“å…¥ä¸€æ¡å‘½ä»¤ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> -l<br></code></pre></td></tr></table></figure></li><li>Terminal ä¼šæŠŠè¿™æ¡æ–‡æœ¬äº¤ç»™æ­£åœ¨è¿è¡Œçš„ Shellï¼ˆä¸€èˆ¬æ˜¯ Bashï¼‰</li><li>Bashè§£æè¿™æ¡å‘½ä»¤ï¼Œè°ƒç”¨ç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨æˆ–ç¨‹åºæ¥åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</li><li>ç„¶å Bash æŠŠæ‰§è¡Œç»“æœè¿”å›ç»™ Terminalï¼ŒTerminalå†æŠŠç»“æœæ˜¾ç¤ºç»™ç”¨æˆ·</li></ul><h2 id="é…ç½®è„šæœ¬æ–‡ä»¶-.bashrc">3. é…ç½®è„šæœ¬æ–‡ä»¶<code>~/.bashrc</code></h2><h3 id="terminalshell-å¯åŠ¨æµç¨‹">3.1 terminal/shell å¯åŠ¨æµç¨‹</h3><p>åœ¨ <code>Ubuntu</code> ç³»ç»Ÿä¸­ï¼Œç‚¹å¼€ <code>terminal</code>å›¾æ ‡ï¼Œæ–°å¼€ä¸€ä¸ª <code>terminal</code> çª—å£æ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹äº‹æƒ…ï¼š</p><ul><li>å¯åŠ¨ä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨<code>terminal</code>ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ª<strong>éç™»å½•ã€äº¤äº’å¼</strong>çš„<code>Bash Shell</code>ã€‚</li><li><code>Bash Shell</code> å°è¯•æŸ¥æ‰¾å¹¶è¯»å–<code>/etc/bash.bashrc</code>ï¼ˆç³»ç»Ÿå…¨å±€çš„ bashrcï¼Œå¯é€‰ï¼‰</li><li><code>Bash Shell</code> å°è¯•æŸ¥æ‰¾å¹¶è¯»å–å½“å‰ç”¨æˆ·çš„<code>~/.bashrc</code>ï¼ˆç”¨æˆ·è‡ªå®šä¹‰çš„ bashrcï¼‰</li><li><code>Bash Shell</code>ç¯å¢ƒåˆå§‹åŒ–å®Œæˆï¼Œç”¨æˆ·åœ¨å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ç»ˆç«¯äº†ã€‚</li></ul><h3 id="bashrc-çš„åŠŸèƒ½">3.2 <code>~/.bashrc</code> çš„åŠŸèƒ½</h3><ul><li><p>åˆå§‹åŒ– Shell</p></li><li><p>å®šä¹‰/ä¿®æ”¹ <code>PATH</code> ç­‰<strong>ç¯å¢ƒå˜é‡</strong><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br><span class="hljs-built_in">export</span> EDITOR=vim<br></code></pre></td></tr></table></figure></p></li><li><p>ä¸ºå¸¸ç”¨å‘½ä»¤è®¾ç½®åˆ«åï¼ˆaliasï¼‰ï¼Œç®€åŒ–è¾“å…¥ï¼Œä¾‹å¦‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">alias</span> ll=<span class="hljs-string">&#x27;ls -l&#x27;</span><br><span class="hljs-built_in">alias</span> gs=<span class="hljs-string">&#x27;git status&#x27;</span><br></code></pre></td></tr></table></figure></p></li><li><p>è®© <code>~/.bashrc</code> çš„ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆï¼ˆä»¥ä¸‹ä¸¤ä¸ªæŒ‡ä»¤ç­‰ä»·ï¼‰ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.bashrc<br>. ~/.bashrc<br></code></pre></td></tr></table></figure></p></li><li><p>é…ç½®å‘½ä»¤æç¤ºç¬¦ï¼ˆPS1ï¼‰ï¼šå‘½ä»¤è¡Œä¸­çœ‹åˆ°çš„æç¤ºç¬¦æ ·å¼ï¼Œå°±æ˜¯ç”± PS1çš„é…ç½®å†³å®šçš„ <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS1=<span class="hljs-string">&quot;\u@\h:\w\$ &quot;</span><br></code></pre></td></tr></table></figure></p><ul><li><code>PS1</code>: Bash ä¸­ç”¨äºå®šä¹‰ä¸»æç¤ºç¬¦ï¼ˆPrimaryPromptï¼‰çš„å˜é‡</li><li><code>\u</code>ï¼šå½“å‰ç”¨æˆ·åï¼ˆuser nameï¼‰</li><li><code>\h</code>ï¼šå½“å‰ä¸»æœºåï¼ˆhostnameï¼‰ä¸­çš„å‰åŠéƒ¨åˆ†ï¼ˆä¸å«åŸŸåï¼‰</li><li><code>\w</code>ï¼šå½“å‰å·¥ä½œç›®å½•ï¼ˆworkingdirectoryï¼‰ï¼Œä¼šä»¥ç›¸å¯¹è·¯å¾„æ˜¾ç¤ºï¼Œå¦‚æœæ˜¯ home ç›®å½•åˆ™æ˜¾ç¤º ~</li><li><code>\$</code>ï¼šå¦‚æœæ˜¯æ™®é€šç”¨æˆ·åˆ™æ˜¾ç¤º <code>$</code>ï¼Œå¦‚æœæ˜¯<code>root</code> ç”¨æˆ·ï¼ˆå³è¶…çº§ç”¨æˆ·ï¼‰åˆ™æ˜¾ç¤º <code>#</code></li><li>æœ€åçš„ç©ºæ ¼: æ˜¯ä¸ºäº†è®©å‘½ä»¤æç¤ºç¬¦åç•™å‡ºä¸€ä¸ªç©ºæ ¼ï¼Œä¾¿äºè¾“å…¥å‘½ä»¤</li></ul></li></ul><h3 id="ä¸åŒç±»å‹çš„-shell-çš„-bash-å¯åŠ¨æµç¨‹">2.3 ä¸åŒç±»å‹çš„ Shell çš„ Bashå¯åŠ¨æµç¨‹</h3><ul><li><strong>ç™»å½•Shell</strong>ï¼ˆLogin Shellï¼‰<ul><li>é€šè¿‡ <code>SSH</code> ç™»å½•è¿œç¨‹ä¸»æœºï¼Œæˆ–è€…åœ¨ç³»ç»Ÿä¸­è¾“å…¥ ç”¨æˆ·å/å¯†ç ç›´æ¥ç™»å½•æ—¶ï¼Œå¯åŠ¨çš„ Shell å°±æ˜¯ <code>ç™»å½•Shell</code></li><li>è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>Bash Shell</code> ä¼šå…ˆè¯»å–å¹¶æ‰§è¡Œ<code>/etc/profile</code>ï¼Œç„¶åä¾æ¬¡è¯»å– <code>~/.bash_profile</code>,<code>~/.bash_login</code>,<code>~/.profile</code>ï¼ˆè°å…ˆè¢«æ‰¾åˆ°å°±æ‰§è¡Œå“ªä¸ªï¼Œé€šå¸¸ç³»ç»Ÿä¼šé»˜è®¤ç”¨<code>~/.bash_profile</code> æˆ– <code>~/.profile</code>ï¼‰</li></ul></li><li><strong>éç™»å½•Shell</strong>ï¼ˆNon-login Shellï¼‰<ul><li>åœ¨å›¾å½¢ç•Œé¢ä¸‹æ‰“å¼€ä¸€ä¸ª Terminal: é€šå¸¸æ˜¯é€šè¿‡<code>Ctrl + Alt + T</code> å¿«æ·é”®æ‰“å¼€çš„ç»ˆç«¯ï¼Œæˆ–è€…é€šè¿‡<code>gnome-terminal</code> å‘½ä»¤æ‰“å¼€çš„ç»ˆç«¯</li><li>è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>Bash Shell</code> åªä¼šè¯»å–å¹¶æ‰§è¡Œ<code>~/.bashrc</code></li></ul></li><li><strong>äº¤äº’å¼</strong>ï¼ˆInteractiveï¼‰ä¸<strong>éäº¤äº’å¼</strong>ï¼ˆNon-interactiveï¼‰<ul><li>äº¤äº’å¼ Shellï¼šç”¨æˆ·ä¸ Shell ä¹‹é—´çš„äº¤äº’ï¼Œä¾‹å¦‚é€šè¿‡<code>Ctrl + Alt + T</code>å¿«æ·é”®æ‰“å¼€çš„ç»ˆç«¯ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡é”®ç›˜è¾“å…¥å‘½ä»¤</li><li>éäº¤äº’å¼ Shellï¼šShellä¸ä¸ç”¨æˆ·äº¤äº’ï¼Œä¾‹å¦‚é€šè¿‡è„šæœ¬æ‰§è¡Œå‘½ä»¤ï¼ˆè„šæœ¬é¦–è¡Œéœ€è¦å†™<code>#!/usr/bin/env bash</code>ï¼‰</li></ul></li></ul><p>æ€»ç»“ï¼š<code>~/.bashrc</code><mark><strong>é»˜è®¤åªåœ¨â€œéç™»å½•å¼ä¸”äº¤äº’å¼â€çš„ Bash Shellå¯åŠ¨æ—¶è¢«è¯»å–æ‰§è¡Œ</strong></mark></p>]]></content>
    
    
    <categories>
      
      <category>Ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>AppImage</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntuç³»åˆ— - 1. å®‰è£…AppImageåº”ç”¨</title>
    <link href="/2025/01/01/Ubuntu/ubuntu_1-install-2025_01_01/"/>
    <url>/2025/01/01/Ubuntu/ubuntu_1-install-2025_01_01/</url>
    
    <content type="html"><![CDATA[<p>AppImage æ˜¯ä¸€ç§ä¾¿æºå¼è½¯ä»¶åŒ…æ ¼å¼ï¼Œå…è®¸ä½ åœ¨ Linux ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºæ— éœ€å®‰è£…ã€‚ä»¥ä¸‹æ˜¯ä¸‹è½½ã€è¿è¡Œå’Œç®¡ç† AppImage æ–‡ä»¶çš„æ–¹æ³•</p><h2 id="ä¸‹è½½-appimage-æ–‡ä»¶">1. ä¸‹è½½ AppImage æ–‡ä»¶</h2><h2 id="èµ‹äºˆ-appimage-æ–‡ä»¶å¯æ‰§è¡Œæƒé™">2. èµ‹äºˆ AppImageæ–‡ä»¶å¯æ‰§è¡Œæƒé™</h2><p>AppImage æ–‡ä»¶è¿è¡Œéœ€è¦èµ‹äºˆæƒé™ï¼Œä»¥ä¸‹æ˜¯èµ‹äºˆæƒé™çš„ä¸¤ç§æ–¹å¼ã€‚</p><h3 id="æ–¹æ³•1ä½¿ç”¨ç»ˆç«¯">æ–¹æ³•1ï¼šä½¿ç”¨ç»ˆç«¯</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">chmod +x ~/Downloads/your_app.AppImage<br>./your_app.AppImage<br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ä½¿ç”¨å›¾å½¢ç•Œé¢">æ–¹æ³•2ï¼šä½¿ç”¨å›¾å½¢ç•Œé¢</h3><ul><li>å³é”®ç‚¹å‡» AppImage æ–‡ä»¶ï¼Œé€‰æ‹© â€œå±æ€§â€ï¼ˆPropertiesï¼‰ã€‚</li><li>åˆ‡æ¢åˆ° â€œæƒé™â€ï¼ˆPermissionsï¼‰ é€‰é¡¹å¡ã€‚</li><li>å‹¾é€‰ â€œå…è®¸ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶â€ï¼ˆAllow executing file as aprogramï¼‰ã€‚</li><li>åŒå‡» AppImage è¿è¡Œç¨‹åºã€‚</li></ul><h2 id="ä½¿ç”¨-appimagelauncher-ç®¡ç†-appimage">3. ä½¿ç”¨ AppImageLauncherç®¡ç† AppImage</h2><p>AppImage é»˜è®¤ä¸ä¼šè‡ªåŠ¨å‡ºç°åœ¨åº”ç”¨èœå•ä¸­ã€‚</p><p>AppImageLauncher å¯ä»¥è‡ªåŠ¨ç®¡ç† AppImage å¹¶é›†æˆåˆ°ç³»ç»Ÿèœå•ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> add-apt-repository ppa:appimagelauncher-team/stable<br><span class="hljs-built_in">sudo</span> apt update<br><span class="hljs-built_in">sudo</span> apt install appimagelauncher<br></code></pre></td></tr></table></figure><h2 id="å°†-appimage-ç§»åŠ¨åˆ°-opt-å¹¶åˆ›å»ºå…¨å±€å¿«æ·æ–¹å¼">4. å°† AppImage ç§»åŠ¨åˆ°/opt å¹¶åˆ›å»ºå…¨å±€å¿«æ·æ–¹å¼</h2><p>å¦‚æœä½ å¸Œæœ›è®© AppImage å¯åœ¨æ•´ä¸ªç³»ç»Ÿä¸­ä½¿ç”¨</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">sudo <span class="hljs-built_in">mv</span> ~/Downloads/your_app.AppImage /opt/your_app.AppImage<br>sudo chmod +x /opt/your_app.AppImage<br>sudo ln <span class="hljs-literal">-s</span> /opt/your_app.AppImage /usr/local/bin/your_app<br></code></pre></td></tr></table></figure><h2 id="æ›´æ–°-appimage">5. æ›´æ–° AppImage</h2><p>éƒ¨åˆ† AppImage æ”¯æŒè‡ªåŠ¨æ›´æ–°ï¼Œä¾‹å¦‚ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./your_app.AppImage --update<br></code></pre></td></tr></table></figure> å¦‚æœ AppImageä¸æ”¯æŒæ›´æ–°ï¼Œä½ éœ€è¦æ‰‹åŠ¨ä¸‹è½½æ–°ç‰ˆå¹¶æ›¿æ¢æ—§ç‰ˆã€‚</p><h2 id="åˆ é™¤-appimage">6. åˆ é™¤ AppImage</h2><p>ç”±äº AppImage æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ é™¤å®ƒå°±ç­‰äºå¸è½½ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-built_in">rm</span> ~/Downloads/your_app.AppImage<br></code></pre></td></tr></table></figure><p>å¦‚æœä½ ç”¨ AppImageLauncher é›†æˆäº† AppImageï¼Œå¯ä»¥åœ¨ /Applicationsç›®å½•ä¸­æ‰¾åˆ°å®ƒï¼Œå¹¶å³é”®é€‰æ‹© â€œåˆ é™¤â€ã€‚</p><h2 id="hugo-éƒ¨ç½²åˆ°-github-pages">6.Hugo éƒ¨ç½²åˆ° Github Pages ğŸš€</h2>]]></content>
    
    
    <categories>
      
      <category>Ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>AppImage</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
